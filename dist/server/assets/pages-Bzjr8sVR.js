import{b as e}from"./AutoSaveManager-CdRL3lq7.js";import t,{Suspense as n,createContext as r,useCallback as i,useContext as a,useEffect as o,useMemo as s,useRef as c,useState as l}from"react";import{proxy as u,ref as d,useSnapshot as f}from"valtio";import{Fragment as p,jsx as m,jsxs as h}from"react/jsx-runtime";import{devtools as g}from"valtio/utils";import*as _ from"@babylonjs/core";import"@babylonjs/core/Cameras/arcRotateCamera.js";const v=`engine-ui-settings`,y={panels:{rightPanelWidth:304,bottomPanelHeight:256,scenePropertiesHeight:300,assetsLibraryWidth:250,rightPropertiesMenuPosition:`right`},settings:{gridSettings:{enabled:!0,size:100,cellSize:1,cellThickness:1,cellColor:`#6B7280`,sectionSize:10,sectionThickness:2,sectionColor:`#9CA3AF`,position:[0,-1,0],fadeDistance:50,fadeStrength:.5,infiniteGrid:!0},viewportSettings:{backgroundColor:`#1a202c`}},bottomTabs:{selectedTab:`assets`,tabOrder:[`assets`,`scripts`,`animation`,`node-editor`,`timeline`,`console`,`materials`,`terrain`,`lighting`,`physics`,`audio`,`effects`]},toolbar:{selectedTool:`scene`,tabOrder:[`scene`,`light`,`effects`,`folder`,`star`,`wifi`,`cloud`,`monitor`],bottomTabOrder:[`add`,`settings`,`fullscreen`]},topLeftMenu:{selectedItem:null}},b=()=>{try{let e=localStorage.getItem(v);if(e){let t=JSON.parse(e);return C(y,t)}}catch(e){console.warn(`Failed to load UI settings from localStorage:`,e)}return y},x=e=>{try{localStorage.setItem(v,JSON.stringify(e))}catch(e){console.warn(`Failed to save UI settings to localStorage:`,e)}},S=(e,t)=>{let n=b(),r=T(n,e,t);return x(r),r},C=(e,t)=>{let n={...e};return w(e)&&w(t)&&Object.keys(t).forEach(r=>{w(t[r])&&r in e?n[r]=C(e[r],t[r]):n[r]=t[r]}),n},w=e=>e&&typeof e==`object`&&!Array.isArray(e),T=(e,t,n)=>{let r=t.split(`.`),i={...e},a=i;for(let e=0;e<r.length-1;e++){let t=r[e];!(t in a)||!w(a[t])?a[t]={}:a[t]={...a[t]},a=a[t]}return a[r[r.length-1]]=n,i},E={panels:{rightPanelWidth:304,bottomPanelHeight:256,scenePropertiesHeight:300,assetsLibraryWidth:250,rightPropertiesMenuPosition:`right`},settings:{gridSettings:{enabled:!0,size:100,cellSize:1,cellThickness:1,cellColor:`#6B7280`,sectionSize:10,sectionThickness:2,sectionColor:`#9CA3AF`,position:[0,0,0],fadeDistance:50,fadeStrength:.5,infiniteGrid:!0},viewportSettings:{backgroundColor:`#1a202c`}},bottomTabs:{selectedTab:`assets`,tabOrder:[`assets`]},toolbar:{selectedTool:`scene`,tabOrder:[`scene`,`light`,`effects`,`folder`,`star`,`wifi`,`cloud`,`monitor`,`daw-properties`,`audio-devices`,`mixer-settings`,`vst-plugins`,`master-channels`,`track-properties`],bottomTabOrder:[`add`,`settings`,`fullscreen`]},topLeftMenu:{selectedItem:null},workflow:{activeWorkflow:`modeling`,workflowSettings:{modeling:{panels:[`scene`,`properties`,`assets`]},shading:{panels:[`scene`,`properties`,`assets`]},lighting:{panels:[`scene`,`properties`,`assets`]},physics:{panels:[`scene`,`properties`,`assets`]}}}},D=u({editor:{isOpen:!1,mode:`scene`,ui:{rightPanelWidth:E.panels.rightPanelWidth,bottomPanelHeight:E.panels.bottomPanelHeight,scenePropertiesHeight:E.panels.scenePropertiesHeight,assetsLibraryWidth:E.panels.assetsLibraryWidth,rightPropertiesMenuPosition:E.panels.rightPropertiesMenuPosition,selectedTool:E.toolbar.selectedTool,selectedBottomTab:E.bottomTabs.selectedTab,bottomTabOrder:E.bottomTabs.tabOrder,toolbarTabOrder:E.toolbar.tabOrder,toolbarBottomTabOrder:E.toolbar.bottomTabOrder,topLeftMenuSelected:E.topLeftMenu.selectedItem,workflow:E.workflow},camera:{position:[0,0,5],target:[0,0,0],zoom:1,fov:75,speed:5,mouseSensitivity:.002},viewport:{renderMode:`solid`,showGrid:!0,gridSnapping:!1,tabs:[{id:`viewport-1`,type:`3d-viewport`,name:`Scene 1`,isPinned:!1,hasUnsavedChanges:!1,instance:1,data:{sceneId:`viewport-1`,camera:{position:[0,0,5],target:[0,0,0],zoom:1,fov:75},selection:{entity:null,object:null,transformMode:`select`}}}],activeTabId:`viewport-1`,nextTabId:2,instanceCounters:{"3d-viewport":1},suspendedTabs:[],suspensionDelay:5e3},panels:{hierarchy:!0,inspector:!0,console:!1,assets:!1,isScenePanelOpen:!0,isAssetPanelOpen:!0,isResizingPanels:!1},selection:{entity:null,object:null,transformMode:`select`},babylonScene:d({current:null}),settings:{grid:E.settings.gridSettings,viewport:E.settings.viewportSettings,editor:{gridSize:1,snapToGrid:!1,showGrid:!0,showWireframe:!1,cameraSpeed:1,showStats:!1}},console:{messages:[],handler:null}},scene:{scenes:{},activeSceneId:null,entities:{},entityCounter:0,sceneRoot:null,selectedEntity:null,spatialIndex:{},components:{transform:{},mesh:{},light:{},camera:{},script:{},physics:{},audio:{}},queryCache:{},cacheVersion:0},render:{environment:{preset:null,intensity:1,type:`color`,environmentType:null},camera:{position:[3,3,3],rotation:[0,0,0],fov:60,near:.1,far:1e3,target:[0,0,0],aspect:16/9},lighting:{ambient:{intensity:.5,color:`#ffffff`},lights:{},shadowsEnabled:!0},settings:{shadows:!0,antialias:!0,alpha:!1,powerPreference:`high-performance`,physicallyCorrectLights:!0,outputEncoding:`sRGB`,toneMapping:`ACES`,toneMappingExposure:1},effects:{},performance:{fps:0,frameTime:0,drawCalls:0,triangles:0,memory:0,lastUpdate:0}},assets:{assets:{textures:{},models:{},sounds:{},materials:{},animations:{},fonts:{}},loading:{active:{},queue:[],progress:{total:0,loaded:0,percentage:0}},metadata:{loaded:{},errors:{},dependencies:{}},cache:{maxSize:100*1024*1024,currentSize:0,enabled:!0,strategy:`lru`}}});let O={scene:null,engine:null,camera:null};const k={editor:{toggle:()=>{D.editor.isOpen=!D.editor.isOpen},open:()=>{D.editor.isOpen=!0},close:()=>{D.editor.isOpen=!1},setMode:e=>{D.editor.mode=e},togglePanel:e=>{D.editor.panels[e]=!D.editor.panels[e]},setIsScenePanelOpen:e=>{D.editor.panels.isScenePanelOpen=e},setIsAssetPanelOpen:e=>{D.editor.panels.isAssetPanelOpen=e},setIsResizingPanels:e=>{D.editor.panels.isResizingPanels=e},setSelectedEntity:e=>{D.editor.selection.entity=e},setSelectedObject:e=>{D.editor.selection.object=e},setTransformMode:e=>{D.editor.selection.transformMode=e},updateEditorSettings:e=>{Object.assign(D.editor.settings.editor,e)},updateGridSettings:e=>{Object.assign(D.editor.settings.grid,e),S(`settings.gridSettings`,D.editor.settings.grid)},updateViewportSettings:e=>{Object.assign(D.editor.settings.viewport,e),S(`settings.viewportSettings`,D.editor.settings.viewport)},setRightPanelWidth:e=>{D.editor.ui.rightPanelWidth=e},setBottomPanelHeight:e=>{D.editor.ui.bottomPanelHeight=e},setScenePropertiesHeight:e=>{D.editor.ui.scenePropertiesHeight=e},setAssetsLibraryWidth:e=>{D.editor.ui.assetsLibraryWidth=e},setRightPropertiesMenuPosition:e=>{D.editor.ui.rightPropertiesMenuPosition=e},setSelectedTool:e=>{D.editor.ui.selectedTool=e},setSelectedBottomTab:e=>{D.editor.ui.selectedBottomTab=e},setBottomTabOrder:e=>{D.editor.ui.bottomTabOrder=e},migrateTabOrders:()=>{let e=[`assets`],t=[`scene`,`light`,`effects`,`folder`,`star`,`wifi`,`cloud`,`monitor`,`daw-properties`,`audio-devices`,`mixer-settings`,`vst-plugins`,`master-channels`,`track-properties`],n=D.editor.ui.bottomTabOrder||[],r=e.filter(e=>!n.includes(e));r.length>0&&(D.editor.ui.bottomTabOrder=[...n,...r]);let i=D.editor.ui.toolbarTabOrder||[],a=t.filter(e=>!i.includes(e));a.length>0&&(D.editor.ui.toolbarTabOrder=[...i,...a])},setToolbarTabOrder:e=>{D.editor.ui.toolbarTabOrder=e},setToolbarBottomTabOrder:e=>{D.editor.ui.toolbarBottomTabOrder=e},setTopLeftMenuSelected:e=>{D.editor.ui.topLeftMenuSelected=e},setWorkflowMode:t=>{D.editor.ui.workflow.activeWorkflow=t,S(`workflow.activeWorkflow`,t),e.markDirty()},setCameraPosition:e=>{D.editor.camera.position=e},setCameraTarget:e=>{D.editor.camera.target=e},setCameraZoom:e=>{D.editor.camera.zoom=e},setCameraFOV:e=>{D.editor.camera.fov=e},setCameraSpeed:e=>{D.editor.camera.speed=e},setCameraSensitivity:e=>{D.editor.camera.mouseSensitivity=e},setRenderMode:e=>{D.editor.viewport.renderMode=e},setShowGrid:e=>{D.editor.viewport.showGrid=e},setGridSnapping:e=>{D.editor.viewport.gridSnapping=e},createDefaultSceneData:e=>{let t=k.scene.createScene(e);return{sceneId:e,camera:t.camera,selection:t.selection}},addViewportTab:(e,t=null,n={})=>{D.editor.viewport.instanceCounters[e]++;let r=D.editor.viewport.instanceCounters[e],i;if(t)i=t;else if(e===`3d-viewport`)i=`Scene ${r}`;else return console.warn(`Unsupported viewport type: ${e}. Only 3d-viewport is supported.`),null;let a={...n};if(e===`3d-viewport`){let e=`viewport-${D.editor.viewport.nextTabId}`;a=k.editor.createDefaultSceneData(e)}let o={id:`viewport-${D.editor.viewport.nextTabId}`,type:e,name:i,isPinned:!1,hasUnsavedChanges:!1,instance:r,data:a};return D.editor.viewport.tabs.push(o),D.editor.viewport.activeTabId=o.id,D.editor.viewport.nextTabId++,o.id},setActiveViewportTab:e=>{let t=D.editor.viewport.tabs.find(t=>t.id===e);if(t){let n=D.editor.viewport.activeTabId;D.editor.viewport.activeTabId=e,t.type===`3d-viewport`&&t.data?.sceneId&&k.scene.setActiveScene(t.data.sceneId),k.editor.resumeTab(e),n&&n!==e&&setTimeout(()=>{D.editor.viewport.activeTabId!==n&&k.editor.suspendTab(n)},D.editor.viewport.suspensionDelay)}},closeViewportTab:e=>{let t=D.editor.viewport.tabs.findIndex(t=>t.id===e);if(t===-1||D.editor.viewport.tabs.length===1)return;let n=D.editor.viewport.tabs[t];if(n.type===`3d-viewport`&&n.data?.sceneId&&k.scene.deleteScene(n.data.sceneId),D.editor.viewport.activeTabId===e){let e=t>0?t-1:t+1;D.editor.viewport.activeTabId=D.editor.viewport.tabs[e].id}let r=D.editor.viewport.suspendedTabs.indexOf(e);r>-1&&D.editor.viewport.suspendedTabs.splice(r,1),D.editor.viewport.tabs.splice(t,1)},updateViewportTab:(e,t)=>{let n=D.editor.viewport.tabs.find(t=>t.id===e);n&&Object.assign(n,t)},renameViewportTab:(e,t)=>{let n=D.editor.viewport.tabs.find(t=>t.id===e);n&&(n.name=t)},suspendTab:e=>{D.editor.viewport.suspendedTabs.includes(e)||D.editor.viewport.suspendedTabs.push(e),console.log(`🔌 Tab suspended: ${e}`)},resumeTab:e=>{let t=D.editor.viewport.suspendedTabs.indexOf(e);t>-1&&D.editor.viewport.suspendedTabs.splice(t,1),console.log(`⚡ Tab resumed: ${e}`)},isTabSuspended:e=>D.editor.viewport.suspendedTabs.includes(e),pinViewportTab:e=>{let t=D.editor.viewport.tabs.find(t=>t.id===e);t&&(t.isPinned=!t.isPinned)},duplicateViewportTab:e=>{let t=D.editor.viewport.tabs.find(t=>t.id===e);if(t){let e={id:`viewport-${D.editor.viewport.nextTabId}`,type:t.type,name:`${t.name} (Copy)`,isPinned:!1,hasUnsavedChanges:!1,data:{...t.data}};return D.editor.viewport.tabs.push(e),D.editor.viewport.activeTabId=e.id,D.editor.viewport.nextTabId++,e.id}},addConsoleMessage:(e,t=`info`)=>{D.editor.console.messages.push({id:Date.now(),message:e,type:t,timestamp:new Date().toLocaleTimeString()})},clearConsole:()=>{D.editor.console.messages.length=0},setContextMenuHandler:e=>{D.editor.console.handler=e},updateBabylonScene:e=>{D.editor.babylonScene.current=e}},scene:{createScene:(e,t=null)=>{let n={id:e,name:`Scene ${e}`,objects:[{id:`folder-environment`,name:`Environment`,type:`folder`,expanded:!0,visible:!0,children:[`default-platform-1`]},{id:`default-platform-1`,name:`Main Platform`,type:`mesh`,position:[0,-2.5,0],rotation:[0,0,0],scale:[100,5,100],geometry:`box`,material:{color:`#3a3a3a`,roughness:.9,metalness:.05},visible:!0,isDefaultPlatform:!0,parentId:`folder-environment`},{id:`folder-lighting`,name:`Lighting`,type:`folder`,expanded:!0,visible:!0,children:[`sun-light-1`]},{id:`sun-light-1`,name:`Sun Light`,type:`light`,lightType:`directional`,position:[10,10,5],rotation:[-.785,.524,0],color:`#ffffff`,intensity:1.2,castShadow:!0,visible:!0,shadowMapSize:[2048,2048],shadowCameraFar:50,shadowCameraLeft:-20,shadowCameraRight:20,shadowCameraTop:20,shadowCameraBottom:-20,parentId:`folder-lighting`}],camera:{position:[0,0,5],target:[0,0,0],zoom:1,fov:75},selection:{entity:null,object:null,transformMode:`select`}},r=t||n;return D.scene.scenes[e]=r,r},deleteScene:e=>{delete D.scene.scenes[e],D.scene.activeSceneId===e&&(D.scene.activeSceneId=null)},setActiveScene:e=>{D.scene.scenes[e]&&(D.scene.activeSceneId=e)},getActiveScene:()=>D.scene.scenes[D.scene.activeSceneId],getScene:e=>D.scene.scenes[e],addSceneObject:(e,t)=>{let n=D.scene.scenes[e];n&&n.objects.push(t)},removeSceneObject:(e,t)=>{let n=D.scene.scenes[e];if(n){let e=n.objects.findIndex(e=>e.id===t);e!==-1&&n.objects.splice(e,1)}},updateSceneObject:(e,t,n)=>{let r=D.scene.scenes[e];if(r){let e=r.objects.findIndex(e=>e.id===t);e!==-1&&Object.assign(r.objects[e],n)}},getSceneObject:(e,t)=>{let n=D.scene.scenes[e];return n?n.objects.find(e=>e.id===t):null},setSceneSelection:(e,t,n=null)=>{let r=D.scene.scenes[e];r&&(r.selection.entity=t,r.selection.object=n)},setSceneCamera:(e,t)=>{let n=D.scene.scenes[e];n&&Object.assign(n.camera,t)},createEntity:(e=`Entity`)=>{let t=D.scene.entityCounter+1,n={id:t,name:`${e}_${t}`,active:!0,parent:null,children:[],components:[]};return D.scene.entities[t]=n,D.scene.entityCounter=t,k.scene.invalidateQueryCache(),t},destroyEntity:e=>{let t=D.scene.entities[e];t&&(t.components.forEach(t=>{k.scene.removeComponent(e,t)}),t.parent&&k.scene.removeChild(t.parent,e),t.children.forEach(e=>{k.scene.destroyEntity(e)}),delete D.scene.entities[e],k.scene.invalidateQueryCache())},getEntity:e=>D.scene.entities[e],setEntityActive:(e,t)=>{let n=D.scene.entities[e];n&&(n.active=t,k.scene.invalidateQueryCache())},addChild:(e,t)=>{let n=D.scene.entities[e],r=D.scene.entities[t];!n||!r||(r.parent&&k.scene.removeChild(r.parent,t),n.children.push(t),r.parent=e)},removeChild:(e,t)=>{let n=D.scene.entities[e],r=D.scene.entities[t];if(!n||!r)return;let i=n.children.indexOf(t);i>=0&&n.children.splice(i,1),r.parent=null},addComponent:(e,t,n={})=>{let r=D.scene.entities[e];r&&(D.scene.components[t][e]=n,r.components.includes(t)||r.components.push(t),k.scene.invalidateQueryCache())},removeComponent:(e,t)=>{let n=D.scene.entities[e];if(!n)return;delete D.scene.components[t][e];let r=n.components.indexOf(t);r>-1&&n.components.splice(r,1),k.scene.invalidateQueryCache()},getComponent:(e,t)=>D.scene.components[t]?.[e],updateComponent:(e,t,n)=>{let r=D.scene.components[t]?.[e];r&&Object.assign(r,n)},hasComponent:(e,t)=>D.scene.components[t]?.[e]!==void 0||!1,getEntitiesWith:(...e)=>{let t=e.sort().join(`,`),n=D.scene.queryCache[t];if(n&&n.version===D.scene.cacheVersion)return n.result;let r=[];return Object.entries(D.scene.entities).forEach(([t,n])=>{Array.isArray(n.components)||(n.components=[]);let i=e.every(e=>n.components.includes(e));i&&n.active&&r.push({id:t,entity:n,components:e.reduce((e,n)=>(e[n]=D.scene.components[n][t],e),{})})}),D.scene.queryCache[t]={result:r,version:D.scene.cacheVersion},r},selectEntity:e=>{D.scene.selectedEntity=e},setSceneRoot:e=>{D.scene.sceneRoot=e},clear:()=>{Object.keys(D.scene.entities).forEach(e=>delete D.scene.entities[e]),D.scene.entityCounter=0,D.scene.selectedEntity=null,D.scene.sceneRoot=null,Object.values(D.scene.components).forEach(e=>{Object.keys(e).forEach(t=>delete e[t])}),Object.keys(D.scene.queryCache).forEach(e=>delete D.scene.queryCache[e]),D.scene.cacheVersion=0},invalidateQueryCache:()=>{D.scene.cacheVersion++}},render:{setCamera:e=>{Object.assign(D.render.camera,e)},setCameraPosition:(e,t,n)=>{D.render.camera.position[0]=e,D.render.camera.position[1]=t,D.render.camera.position[2]=n},setCameraRotation:(e,t,n)=>{D.render.camera.rotation[0]=e,D.render.camera.rotation[1]=t,D.render.camera.rotation[2]=n},setCameraTarget:(e,t,n)=>{D.render.camera.target[0]=e,D.render.camera.target[1]=t,D.render.camera.target[2]=n},addLight:(e,t)=>{D.render.lighting.lights[e]=t},removeLight:e=>{delete D.render.lighting.lights[e]},updateLight:(e,t)=>{let n=D.render.lighting.lights[e];n&&Object.assign(n,t)},setAmbientLight:(e,t)=>{D.render.lighting.ambient.intensity=e,D.render.lighting.ambient.color=t},updateSettings:e=>{Object.assign(D.render.settings,e)},setEnvironment:(e,t=1,n=`hdr`,r=`preset`)=>{D.render.environment.preset=e,D.render.environment.intensity=t,D.render.environment.type=n,D.render.environment.environmentType=r},setEnvironmentIntensity:e=>{D.render.environment.intensity=e},clearEnvironment:()=>{D.render.environment.preset=null,D.render.environment.intensity=1,D.render.environment.type=`color`,D.render.environment.environmentType=null},addEffect:(e,t)=>{D.render.effects[e]=t},removeEffect:e=>{delete D.render.effects[e]},updateEffect:(e,t)=>{let n=D.render.effects[e];n&&Object.assign(n,t)},updatePerformance:e=>{Object.assign(D.render.performance,{...e,lastUpdate:performance.now()})},resize:(e,t)=>{O.engine&&O.engine.resize(),D.render.camera.aspect=e/t},setScene:e=>{O.scene=e},setEngine:e=>{O.engine=e},setCameraRef:e=>{O.camera=e},getScene:()=>O.scene,getEngine:()=>O.engine,getCamera:()=>O.camera,setShadowsEnabled:e=>{D.render.lighting.shadowsEnabled=e,D.render.settings.shadows=e}},assets:{loadAsset:async(e,t,n,r={})=>{if(k.assets.isLoaded(e))return k.assets.getAsset(e,n);D.assets.loading.active[e]={type:n,url:t,progress:0,startTime:Date.now()};try{let i;switch(n){case`texture`:i=await k.assets._loadTexture(e,t,r);break;case`model`:i=await k.assets._loadModel(e,t,r);break;case`sound`:i=await k.assets._loadSound(e,t,r);break;default:throw Error(`Unsupported asset type: ${n}`)}return D.assets.assets[`${n}s`][e]=i,D.assets.metadata.loaded[e]={...i,loadedAt:Date.now(),accessCount:0,lastAccessed:Date.now()},i.size&&(D.assets.cache.currentSize+=i.size),delete D.assets.loading.active[e],k.assets.updateProgress(),i}catch(t){throw D.assets.metadata.errors[e]=t.message,delete D.assets.loading.active[e],k.assets.updateProgress(),t}},_loadTexture:async(e,t,n={})=>{let r=await fetch(t),i=await r.blob(),a=URL.createObjectURL(i);return{id:e,url:a,originalUrl:t,type:`texture`,format:n.format||`auto`,flipY:n.flipY!==!1,wrapS:n.wrapS||`repeat`,wrapT:n.wrapT||`repeat`,minFilter:n.minFilter||`linear`,magFilter:n.magFilter||`linear`,size:i.size}},_loadModel:async(e,t,n={})=>{let r=await fetch(t),i=await r.arrayBuffer();return{id:e,url:t,type:`model`,data:i,format:n.format||t.split(`.`).pop().toLowerCase(),size:i.byteLength}},_loadSound:async(e,t,n={})=>{let r=await fetch(t),i=await r.arrayBuffer();return{id:e,url:t,type:`sound`,data:i,format:n.format||t.split(`.`).pop().toLowerCase(),volume:n.volume||1,loop:n.loop||!1,size:i.byteLength}},getAsset:(e,t)=>{let n=D.assets.assets[`${t}s`][e];if(n){let t=D.assets.metadata.loaded[e];t&&(t.accessCount++,t.lastAccessed=Date.now())}return n},getTexture:e=>k.assets.getAsset(e,`texture`),getModel:e=>k.assets.getAsset(e,`model`),getSound:e=>k.assets.getAsset(e,`sound`),getMaterial:e=>k.assets.getAsset(e,`material`),unloadAsset:e=>{let t=0;Object.entries(D.assets.assets).forEach(([n,r])=>{let i=r[e];i&&(i.size&&(t+=i.size),n===`textures`&&i.url?.startsWith(`blob:`)&&URL.revokeObjectURL(i.url),delete r[e])}),delete D.assets.metadata.loaded[e],delete D.assets.metadata.errors[e],D.assets.cache.currentSize=Math.max(0,D.assets.cache.currentSize-t)},updateProgress:()=>{let e=D.assets.metadata.loaded.size,t=e+D.assets.loading.active.size;D.assets.loading.progress.loaded=e,D.assets.loading.progress.total=Math.max(t,D.assets.loading.progress.total),D.assets.loading.progress.percentage=D.assets.loading.progress.total>0?e/D.assets.loading.progress.total*100:0},isLoading:e=>D.assets.loading.active[e]!==void 0,hasError:e=>D.assets.metadata.errors[e]!==void 0,isLoaded:e=>D.assets.metadata.loaded[e]!==void 0,clearCache:()=>{Object.values(D.assets.assets.textures).forEach(e=>{e.url?.startsWith(`blob:`)&&URL.revokeObjectURL(e.url)}),Object.values(D.assets.assets).forEach(e=>{Object.keys(e).forEach(t=>delete e[t])}),Object.keys(D.assets.metadata.loaded).forEach(e=>delete D.assets.metadata.loaded[e]),Object.keys(D.assets.metadata.errors).forEach(e=>delete D.assets.metadata.errors[e]),D.assets.cache.currentSize=0}}};if(console.log(`🚀 Store.js loading...`),typeof window<`u`){console.log(`🌐 Window available, setting up debug tools`),console.log(`⚠️ DevTools temporarily disabled to debug circular references`);try{window.globalStore=D,console.log(`✅ globalStore exposed`),window.storeActions=k,console.log(`✅ storeActions exposed`),window.testToggle=()=>{try{return console.log(`Testing toggle...`),console.log(`Current isOpen:`,D.editor.isOpen),D.editor.isOpen=!D.editor.isOpen,console.log(`New isOpen:`,D.editor.isOpen),console.log(`Toggle successful!`),`SUCCESS`}catch(e){return console.error(`Toggle failed:`,e),`FAILED: `+e.message}},console.log(`✅ testToggle function created`),console.log(`🧪 Testing basic store access...`),console.log(`globalStore.editor.isOpen:`,D.editor.isOpen)}catch(e){console.error(`❌ Failed to expose debug tools:`,e)}console.log(`🔧 Store exposed globally for debugging`),console.log(`🧪 Use window.testToggle() for safe testing`)}else console.log(`❌ Window not available (server-side)`);typeof window<`u`&&setTimeout(()=>{k.scene.createScene(`viewport-1`),k.scene.setActiveScene(`viewport-1`),k.editor.migrateTabOrders(),e.registerStore(`global`,D,{extractSaveData:()=>({editor:{ui:{...D.editor.ui},camera:{...D.editor.camera},settings:{...D.editor.settings},panels:{...D.editor.panels}},scene:{scenes:Object.entries(D.scene.scenes),activeSceneId:D.scene.activeSceneId,entities:Object.entries(D.scene.entities).map(([e,t])=>[e,{...t,components:Array.from(t.components)}]),entityCounter:D.scene.entityCounter,sceneRoot:D.scene.sceneRoot,selectedEntity:D.scene.selectedEntity,components:Object.fromEntries(Object.entries(D.scene.components).map(([e,t])=>[e,Object.entries(t)]))},render:{camera:{...D.render.camera},environment:{...D.render.environment},lighting:{ambient:{...D.render.lighting.ambient},shadowsEnabled:D.render.lighting.shadowsEnabled},settings:{...D.render.settings}}}),restoreData:e=>{e.editor&&(e.editor.ui&&Object.assign(D.editor.ui,e.editor.ui),e.editor.camera&&Object.assign(D.editor.camera,e.editor.camera),e.editor.settings&&Object.assign(D.editor.settings,e.editor.settings),e.editor.panels&&Object.assign(D.editor.panels,e.editor.panels)),e.scene&&(e.scene.scenes&&(D.scene.scenes=Object.fromEntries(e.scene.scenes)),e.scene.activeSceneId!==void 0&&(D.scene.activeSceneId=e.scene.activeSceneId),e.scene.entities&&(D.scene.entities=Object.fromEntries(e.scene.entities.map(([e,t])=>[e,{...t,components:Array.from(t.components||[])}]))),e.scene.entityCounter!==void 0&&(D.scene.entityCounter=e.scene.entityCounter),e.scene.sceneRoot!==void 0&&(D.scene.sceneRoot=e.scene.sceneRoot),e.scene.selectedEntity!==void 0&&(D.scene.selectedEntity=e.scene.selectedEntity),e.scene.components&&Object.entries(e.scene.components).forEach(([e,t])=>{D.scene.components[e]&&(D.scene.components[e]=Object.fromEntries(t))})),e.render&&(e.render.camera&&Object.assign(D.render.camera,e.render.camera),e.render.environment&&Object.assign(D.render.environment,e.render.environment),e.render.lighting&&(e.render.lighting.ambient&&Object.assign(D.render.lighting.ambient,e.render.lighting.ambient),e.render.lighting.shadowsEnabled!==void 0&&(D.render.lighting.shadowsEnabled=e.render.lighting.shadowsEnabled)),e.render.settings&&Object.assign(D.render.settings,e.render.settings)),k.editor.migrateTabOrders()}})},100);const A=u({model:null,modelInfo:null,viewMode:`solid`,showGrid:!0,autoRotate:!1,animations:[],currentAnimation:null,isPlaying:!1,animationSpeed:1,loop:!0,cameraDistance:5,cameraRotation:{x:0,y:0},cameraTarget:{x:0,y:0,z:0},lighting:{ambientIntensity:.4,directionalIntensity:1,directionalPosition:[10,10,5],shadowsEnabled:!0},environment:{background:`#2d3748`,environmentMap:null,environmentIntensity:1},materials:[],selectedMaterial:null,geometry:{vertices:0,faces:0,boundingBox:null,center:[0,0,0]},export:{format:`gltf`,scale:1,includeAnimations:!0,includeMaterials:!0,compression:!1}});typeof window<`u`&&g(A,{name:`Model Preview Store (Legacy)`,enabled:process.env.NODE_ENV===`development`});const j=({type:e,isResizing:t,onResizeStart:n,onResizeEnd:r,onResize:i,position:a,className:s=``})=>{o(()=>{if(!t)return;let e=e=>{e.preventDefault(),i(e)},n=()=>{r()};return document.addEventListener(`mousemove`,e),document.addEventListener(`mouseup`,n),()=>{document.removeEventListener(`mousemove`,e),document.removeEventListener(`mouseup`,n)}},[t,i,r]);let c=e=>{e.preventDefault(),n()},l=e===`bottom`?`cursor-row-resize`:`cursor-col-resize`,u=e===`bottom`?`h-1`:`w-1`;return m(`div`,{className:`absolute pointer-events-auto z-50 ${l} ${u} ${t?`bg-blue-500/75 opacity-100 transition-none`:`bg-slate-700/50 opacity-0 hover:opacity-100 hover:bg-blue-500/75 transition-all duration-200`} ${s}`,style:a,onMouseDown:c,suppressHydrationWarning:!0})};var M=j;const N={Cube3D:({isHovered:e=!1,...t})=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,...t,children:[m(`path`,{d:`M12 2L2 7v10l10 5 10-5V7l-10-5z`,fill:`#60A5FA`,stroke:e?`#2563eb`:`#1E40AF`,strokeWidth:e?`2`:`1`,strokeLinejoin:`round`}),m(`path`,{d:`M2 7l10 5 10-5`,stroke:`#1E40AF`,strokeWidth:`1`,strokeLinecap:`round`,strokeLinejoin:`round`}),m(`path`,{d:`M12 12v10`,stroke:`#1E40AF`,strokeWidth:`1`,strokeLinecap:`round`})]}),Model3D:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,...e,children:[m(`defs`,{children:h(`linearGradient`,{id:`model-gradient`,x1:`0%`,y1:`0%`,x2:`100%`,y2:`100%`,children:[m(`stop`,{offset:`0%`,stopColor:`#34D399`}),m(`stop`,{offset:`100%`,stopColor:`#10B981`})]})}),m(`path`,{d:`M12 3L3 8v8l9 5 9-5V8l-9-5z`,fill:`url(#model-gradient)`,stroke:`#059669`,strokeWidth:`1`}),m(`path`,{d:`M3 8l9 5 9-5`,stroke:`#059669`,strokeWidth:`1`,strokeLinecap:`round`}),m(`path`,{d:`M12 13v8`,stroke:`#059669`,strokeWidth:`1`,strokeLinecap:`round`}),m(`path`,{d:`M12 3L8 5.5v3l4-2V3z`,fill:`none`,stroke:`#6EE7B7`,strokeWidth:`0.5`}),m(`path`,{d:`M16 5.5L12 3v3.5l4 2v-3z`,fill:`none`,stroke:`#6EE7B7`,strokeWidth:`0.5`})]}),Mesh:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,...e,children:[m(`defs`,{children:h(`linearGradient`,{id:`mesh-gradient`,x1:`0%`,y1:`0%`,x2:`100%`,y2:`100%`,children:[m(`stop`,{offset:`0%`,stopColor:`#F59E0B`}),m(`stop`,{offset:`100%`,stopColor:`#D97706`})]})}),m(`path`,{d:`M4 4h16v16H4z`,fill:`url(#mesh-gradient)`,stroke:`#92400E`,strokeWidth:`1`,opacity:`0.3`}),m(`path`,{d:`M4 8h16M4 12h16M4 16h16`,stroke:`#92400E`,strokeWidth:`1`}),m(`path`,{d:`M8 4v16M12 4v16M16 4v16`,stroke:`#92400E`,strokeWidth:`1`}),m(`circle`,{cx:`4`,cy:`4`,r:`1.5`,fill:`#FCD34D`}),m(`circle`,{cx:`20`,cy:`4`,r:`1.5`,fill:`#FCD34D`}),m(`circle`,{cx:`4`,cy:`20`,r:`1.5`,fill:`#FCD34D`}),m(`circle`,{cx:`20`,cy:`20`,r:`1.5`,fill:`#FCD34D`})]}),TerrainMaterial:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,...e,children:m(`rect`,{x:`2`,y:`2`,width:`20`,height:`20`,rx:`2`,fill:`currentColor`,stroke:`none`})}),Select:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.8`,...e,children:[m(`path`,{d:`M3 3L9.5 20.5L12 13L20.5 9.5L3 3Z`,strokeLinejoin:`round`}),m(`path`,{d:`M13 13L21 21`,strokeLinecap:`round`})]}),Camera:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.8`,...e,children:[m(`rect`,{x:`2`,y:`8`,width:`20`,height:`12`,rx:`2`,strokeLinejoin:`round`}),m(`path`,{d:`M7 8L9 5H15L17 8`,strokeLinejoin:`round`}),m(`circle`,{cx:`12`,cy:`14`,r:`3`}),m(`circle`,{cx:`12`,cy:`14`,r:`1.5`,fill:`currentColor`})]}),CameraScene:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,...e,children:[m(`defs`,{children:h(`linearGradient`,{id:`camera-gradient`,x1:`0%`,y1:`0%`,x2:`100%`,y2:`100%`,children:[m(`stop`,{offset:`0%`,stopColor:`#8B5CF6`}),m(`stop`,{offset:`100%`,stopColor:`#7C3AED`})]})}),m(`rect`,{x:`2`,y:`8`,width:`20`,height:`12`,rx:`2`,fill:`url(#camera-gradient)`,stroke:`#6D28D9`,strokeWidth:`1.2`}),m(`path`,{d:`M7 8L9 5H15L17 8`,stroke:`#6D28D9`,strokeWidth:`1.2`,fill:`url(#camera-gradient)`}),m(`circle`,{cx:`12`,cy:`14`,r:`3`,stroke:`#6D28D9`,strokeWidth:`1.2`,fill:`none`}),m(`circle`,{cx:`12`,cy:`14`,r:`1.5`,fill:`#FFFFFF`}),m(`rect`,{x:`18`,y:`10`,width:`2`,height:`1`,fill:`#FFFFFF`,rx:`0.5`})]}),LightDirectional:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,...e,children:[m(`defs`,{children:h(`linearGradient`,{id:`sun-gradient`,x1:`0%`,y1:`0%`,x2:`100%`,y2:`100%`,children:[m(`stop`,{offset:`0%`,stopColor:`#FDE047`}),m(`stop`,{offset:`100%`,stopColor:`#FACC15`})]})}),m(`circle`,{cx:`12`,cy:`12`,r:`4`,fill:`url(#sun-gradient)`,stroke:`#EAB308`,strokeWidth:`1.2`}),m(`path`,{d:`M12 2v2M12 20v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M2 12h2M20 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42`,stroke:`#EAB308`,strokeWidth:`1.8`,strokeLinecap:`round`})]}),LightPoint:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,...e,children:[m(`defs`,{children:h(`radialGradient`,{id:`point-gradient`,children:[m(`stop`,{offset:`0%`,stopColor:`#F97316`}),m(`stop`,{offset:`100%`,stopColor:`#EA580C`})]})}),m(`circle`,{cx:`12`,cy:`12`,r:`3`,fill:`url(#point-gradient)`,stroke:`#DC2626`,strokeWidth:`1.2`}),m(`path`,{d:`M12 8v1M12 15v1M8 12h1M15 12h1M9.5 9.5l0.7 0.7M14.8 14.8l0.7 0.7M14.5 9.5l-0.7 0.7M9.2 14.8l-0.7 0.7`,stroke:`#DC2626`,strokeWidth:`1.5`,strokeLinecap:`round`}),m(`circle`,{cx:`12`,cy:`12`,r:`6`,stroke:`#FED7AA`,strokeWidth:`0.8`,opacity:`0.5`,strokeDasharray:`2,2`})]}),LightSpot:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,...e,children:[m(`defs`,{children:h(`linearGradient`,{id:`spot-gradient`,x1:`0%`,y1:`0%`,x2:`100%`,y2:`100%`,children:[m(`stop`,{offset:`0%`,stopColor:`#06B6D4`}),m(`stop`,{offset:`100%`,stopColor:`#0891B2`})]})}),m(`path`,{d:`M12 2L8 8H16L12 2Z`,fill:`url(#spot-gradient)`,stroke:`#0E7490`,strokeWidth:`1.2`}),m(`path`,{d:`M8 8L6 14H18L16 8`,fill:`none`,stroke:`#0E7490`,strokeWidth:`1.2`,opacity:`0.6`}),m(`path`,{d:`M6 14L4 20H20L18 14`,fill:`none`,stroke:`#0CABA8`,strokeWidth:`1`,opacity:`0.4`}),m(`circle`,{cx:`12`,cy:`4`,r:`1`,fill:`#FFFFFF`})]}),Paint:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.8`,...e,children:[m(`path`,{d:`M18 3A2.5 2.5 0 0 0 15.5 5.5L7 14L2 22L10 17L18.5 8.5A2.5 2.5 0 0 0 18 3Z`,strokeLinejoin:`round`}),m(`path`,{d:`M15 6L18 9`,strokeLinecap:`round`}),m(`circle`,{cx:`8`,cy:`16`,r:`1`,fill:`currentColor`})]}),Sculpt:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.8`,...e,children:[m(`path`,{d:`M12 3C8 3 5 6 5 10C5 14 8 17 12 21C16 17 19 14 19 10C19 6 16 3 12 3Z`,strokeLinejoin:`round`}),m(`path`,{d:`M9 10C9 12 10.5 13.5 12 13.5C13.5 13.5 15 12 15 10`,strokeLinecap:`round`}),m(`circle`,{cx:`12`,cy:`8`,r:`1.5`,fill:`currentColor`})]}),Undo:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M3 7v6h6`}),m(`path`,{d:`M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13`})]}),Redo:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M21 7v6h-6`}),m(`path`,{d:`M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7`})]}),Move:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.8`,...e,children:[m(`path`,{d:`M12 3L12 21M3 12L21 12`,strokeLinecap:`round`}),m(`path`,{d:`M8 7L12 3L16 7`,strokeLinecap:`round`,strokeLinejoin:`round`}),m(`path`,{d:`M16 17L12 21L8 17`,strokeLinecap:`round`,strokeLinejoin:`round`}),m(`path`,{d:`M7 8L3 12L7 16`,strokeLinecap:`round`,strokeLinejoin:`round`}),m(`path`,{d:`M17 16L21 12L17 8`,strokeLinecap:`round`,strokeLinejoin:`round`})]}),Rotate:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.8`,...e,children:[m(`path`,{d:`M12 3v6l4-4-4-4`,strokeLinecap:`round`,strokeLinejoin:`round`}),m(`path`,{d:`M21 12a9 9 0 1 1-9-9`,strokeLinecap:`round`})]}),Scale:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.8`,...e,children:[m(`path`,{d:`M21 3L15 9`,strokeLinecap:`round`}),m(`path`,{d:`M21 3H15`,strokeLinecap:`round`}),m(`path`,{d:`M21 3V9`,strokeLinecap:`round`}),m(`path`,{d:`M3 21L9 15`,strokeLinecap:`round`}),m(`path`,{d:`M3 21H9`,strokeLinecap:`round`}),m(`path`,{d:`M3 21V15`,strokeLinecap:`round`}),m(`rect`,{x:`8`,y:`8`,width:`8`,height:`8`,rx:`1`,fill:`none`,opacity:`0.3`})]}),Scene:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`path`,{d:`M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z`}),m(`path`,{d:`M3.29 7 12 12l8.71-5`}),m(`path`,{d:`M12 22V12`})]}),Light:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`path`,{d:`M15 9A6 6 0 1 1 9 9C9 10.5 9.5 12 10 13H14C14.5 12 15 10.5 15 9Z`,strokeLinejoin:`round`}),m(`rect`,{x:`10`,y:`18`,width:`4`,height:`4`,rx:`0.5`,strokeLinejoin:`round`}),m(`line`,{x1:`9`,y1:`18`,x2:`15`,y2:`18`}),m(`line`,{x1:`9`,y1:`19.5`,x2:`15`,y2:`19.5`}),m(`line`,{x1:`9`,y1:`21`,x2:`15`,y2:`21`}),m(`circle`,{cx:`12`,cy:`8`,r:`0.5`,fill:`currentColor`}),m(`circle`,{cx:`10.5`,cy:`9.5`,r:`0.3`,fill:`currentColor`}),m(`circle`,{cx:`13.5`,cy:`9.5`,r:`0.3`,fill:`currentColor`}),m(`circle`,{cx:`12`,cy:`11`,r:`0.3`,fill:`currentColor`})]}),Effects:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`path`,{d:`M13 2L3 14H12L11 22L21 10H12L13 2Z`,strokeLinejoin:`round`}),m(`path`,{d:`M6 6L7 7L6 8L5 7L6 6Z`,fill:`currentColor`}),m(`path`,{d:`M19 4L20 5L19 6L18 5L19 4Z`,fill:`currentColor`}),m(`path`,{d:`M18 16L19 17L18 18L17 17L18 16Z`,fill:`currentColor`}),m(`path`,{d:`M4 15L5 16L4 17L3 16L4 15Z`,fill:`currentColor`}),m(`circle`,{cx:`20`,cy:`8`,r:`0.5`,fill:`currentColor`}),m(`circle`,{cx:`4`,cy:`10`,r:`0.5`,fill:`currentColor`})]}),UndoArrow:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`path`,{d:`M3 7V13A10 10 0 0 0 23 13`}),m(`path`,{d:`M3 7L7 3L3 7L7 11`})]}),Code:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`path`,{d:`M16 18L22 12L16 6`}),m(`path`,{d:`M8 6L2 12L8 18`}),m(`path`,{d:`M10 20L14 4`})]}),FolderOpen:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:m(`path`,{d:`M22 19A2 2 0 0 1 20 21H4A2 2 0 0 1 2 19V5A2 2 0 0 1 4 3H9L11 6H20A2 2 0 0 1 22 8Z`})}),Star:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:m(`path`,{d:`M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z`})}),Wifi:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`path`,{d:`M5 12.55A11 11 0 0 1 19 12.55`}),m(`path`,{d:`M1.42 9A16 16 0 0 1 22.58 9`}),m(`path`,{d:`M8.53 16.11A6 6 0 0 1 15.47 16.11`}),m(`circle`,{cx:`12`,cy:`20`,r:`1`})]}),Cloud:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:m(`path`,{d:`M18 10H20A4 4 0 0 1 20 18H6A6 6 0 0 1 6 6C6 4.5 7 3.1 8.5 2.4A8 8 0 0 1 18 10Z`})}),PlusCircle:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`10`}),m(`path`,{d:`M8 12H16`}),m(`path`,{d:`M12 8V16`})]}),Monitor:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`rect`,{x:`2`,y:`3`,width:`20`,height:`14`,rx:`2`,ry:`2`}),m(`path`,{d:`M8 21H16`}),m(`path`,{d:`M12 17V21`})]}),MenuBars:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`path`,{d:`M3 12H15`}),m(`path`,{d:`M3 6H21`}),m(`path`,{d:`M3 18H21`})]}),Settings:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`3`}),m(`path`,{d:`M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z`})]}),Nodes:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,...e,children:[m(`circle`,{cx:`6`,cy:`6`,r:`3`}),m(`circle`,{cx:`18`,cy:`18`,r:`3`}),m(`path`,{d:`M9 9L15 15`})]}),ChevronDown:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`path`,{d:`m6 9 6 6 6-6`})}),ChevronRight:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`path`,{d:`m9 18 6-6-6-6`})}),ChevronLeft:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`path`,{d:`m15 18-6-6 6-6`})}),ChevronUp:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`path`,{d:`m18 15-6-6-6 6`})}),Eye:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z`}),m(`circle`,{cx:`12`,cy:`12`,r:`3`})]}),EyeSlash:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M9.88 9.88a3 3 0 1 0 4.24 4.24`}),m(`path`,{d:`M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68`}),m(`path`,{d:`M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61`}),m(`path`,{d:`m2 2 20 20`})]}),XMark:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`m18 6-12 12`}),m(`path`,{d:`m6 6 12 12`})]}),Menu:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.8`,...e,children:[m(`line`,{x1:`4`,y1:`6`,x2:`20`,y2:`6`,strokeLinecap:`round`}),m(`line`,{x1:`4`,y1:`12`,x2:`20`,y2:`12`,strokeLinecap:`round`}),m(`line`,{x1:`4`,y1:`18`,x2:`20`,y2:`18`,strokeLinecap:`round`})]}),Plus:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.8`,...e,children:[m(`path`,{d:`M5 12h14`,strokeLinecap:`round`}),m(`path`,{d:`M12 5v14`,strokeLinecap:`round`})]}),Save:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.8`,...e,children:[m(`path`,{d:`M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z`,strokeLinejoin:`round`}),m(`path`,{d:`M17 21V13H7V21`,strokeLinejoin:`round`}),m(`path`,{d:`M7 3V8H15`,strokeLinejoin:`round`})]}),Upload:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`}),m(`polyline`,{points:`7,10 12,5 17,10`}),m(`line`,{x1:`12`,y1:`5`,x2:`12`,y2:`15`})]}),Download:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4`}),m(`polyline`,{points:`7,10 12,15 17,10`}),m(`line`,{x1:`12`,y1:`15`,x2:`12`,y2:`3`})]}),Folder:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`path`,{d:`M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z`})}),Cog:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`3`}),m(`path`,{d:`M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z`})]}),QuestionMark:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`10`}),m(`path`,{d:`M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3`}),m(`point`,{cx:`12`,cy:`17`})]}),MagnifyingGlass:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`11`,cy:`11`,r:`8`}),m(`path`,{d:`m21 21-4.35-4.35`})]}),Models:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z`}),m(`polyline`,{points:`3.29,7 12,12 20.71,7`}),m(`line`,{x1:`12`,y1:`22`,x2:`12`,y2:`12`})]}),Materials:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`10`}),m(`circle`,{cx:`12`,cy:`12`,r:`6`}),m(`circle`,{cx:`12`,cy:`12`,r:`2`})]}),Textures:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),m(`circle`,{cx:`8.5`,cy:`8.5`,r:`1.5`}),m(`polyline`,{points:`21,15 16,10 5,21`})]}),Scripts:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`polyline`,{points:`16,18 22,12 16,6`}),m(`polyline`,{points:`8,6 2,12 8,18`})]}),Plugins:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`6`,height:`6`}),m(`rect`,{x:`15`,y:`3`,width:`6`,height:`6`}),m(`rect`,{x:`3`,y:`15`,width:`6`,height:`6`}),m(`rect`,{x:`15`,y:`15`,width:`6`,height:`6`})]}),Audio:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`polygon`,{points:`11,5 6,9 2,9 2,15 6,15 11,19 11,5`}),m(`path`,{d:`M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07`})]}),Mixer:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`rect`,{x:`4`,y:`2`,width:`2`,height:`20`}),m(`rect`,{x:`10`,y:`2`,width:`2`,height:`20`}),m(`rect`,{x:`16`,y:`2`,width:`2`,height:`20`}),m(`circle`,{cx:`5`,cy:`8`,r:`2`}),m(`circle`,{cx:`11`,cy:`12`,r:`2`}),m(`circle`,{cx:`17`,cy:`6`,r:`2`})]}),Animations:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`polygon`,{points:`5,3 19,12 5,21`})}),Prefabs:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M12 2L2 7l10 5 10-5-10-5z`}),m(`path`,{d:`M2 17l10 5 10-5`}),m(`path`,{d:`M2 12l10 5 10-5`})]}),Character:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2`}),m(`circle`,{cx:`12`,cy:`7`,r:`4`})]}),Terrain:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M3 20h18L12 4 3 20z`}),m(`path`,{d:`M8 20h8`})]}),Tree:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M12 22V12`}),m(`path`,{d:`M17 8c0-2.76-2.24-5-5-5S7 5.24 7 8c0 2.76 2.24 5 5 5s5-2.24 5-5z`}),m(`path`,{d:`M12 12c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4z`})]}),CodeBracket:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`m16 18 6-6-6-6`}),m(`path`,{d:`m8 6-6 6 6 6`})]}),Play:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`polygon`,{points:`5,3 19,12 5,21`})}),AdjustmentsHorizontal:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`3`}),m(`path`,{d:`M8 12H2`}),m(`path`,{d:`M22 12h-6`}),m(`path`,{d:`M12 8V2`}),m(`path`,{d:`M12 22v-6`})]}),Clock:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`10`}),m(`polyline`,{points:`12,6 12,12 16,14`})]}),CommandLine:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`m7 8 3 3-3 3`}),m(`path`,{d:`M14 16h6`}),m(`rect`,{x:`2`,y:`3`,width:`20`,height:`18`,rx:`2`})]}),CursorArrowRays:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`path`,{d:`M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z`})}),HandRaised:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M18 11V6a2 2 0 0 0-4 0v5`}),m(`path`,{d:`M14 10V4a2 2 0 0 0-4 0v2`}),m(`path`,{d:`M10 10.5V6a2 2 0 0 0-4 0v8`}),m(`path`,{d:`M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15`})]}),ArrowsPointingOut:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M16 8L8 16`}),m(`path`,{d:`M16 16L8 8`}),m(`path`,{d:`M16 8h-8v8`})]}),Square3Stack3D:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M12 2L2 7l10 5 10-5-10-5z`}),m(`path`,{d:`M2 17l10 5 10-5`}),m(`path`,{d:`M2 12l10 5 10-5`})]}),Sun:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`4`}),m(`path`,{d:`M12 2v2`}),m(`path`,{d:`M12 20v2`}),m(`path`,{d:`m4.93 4.93 1.41 1.41`}),m(`path`,{d:`m17.66 17.66 1.41 1.41`}),m(`path`,{d:`M2 12h2`}),m(`path`,{d:`M20 12h2`}),m(`path`,{d:`m6.34 17.66-1.41 1.41`}),m(`path`,{d:`m19.07 4.93-1.41 1.41`})]}),Bolt:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`path`,{d:`M13 2L3 14h9l-1 8 10-12h-9l1-8z`})}),ArrowUturnLeft:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M9 14L4 9l5-5`}),m(`path`,{d:`M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11`})]}),Pencil:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z`}),m(`path`,{d:`m15 5 4 4`})]}),ViewfinderCircle:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`3`}),m(`path`,{d:`M12 1v6`}),m(`path`,{d:`M12 17v6`}),m(`path`,{d:`M1 12h6`}),m(`path`,{d:`M17 12h6`})]}),Cube:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z`}),m(`path`,{d:`M3.29 7 12 12l8.71-5`}),m(`path`,{d:`M12 22V12`})]}),Trash:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M3 6h18`}),m(`path`,{d:`M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6`}),m(`path`,{d:`M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2`}),m(`line`,{x1:`10`,y1:`11`,x2:`10`,y2:`17`}),m(`line`,{x1:`14`,y1:`11`,x2:`14`,y2:`17`})]}),Circle:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`circle`,{cx:`12`,cy:`12`,r:`10`})}),Square:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`})}),LightBulb:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5`}),m(`path`,{d:`M9 18h6`}),m(`path`,{d:`M10 22h4`})]}),Flashlight:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M3 11l18-5V5L3 11v5l7-2v-4z`}),m(`path`,{d:`M11.6 16.8a3 3 0 1 1-5.8-1.6`})]}),Capsule:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M8.5 2.5a5.5 5.5 0 0 0 0 11h7a5.5 5.5 0 0 0 0-11h-7z`}),m(`path`,{d:`M8.5 10.5a5.5 5.5 0 0 0 0 11h7a5.5 5.5 0 0 0 0-11h-7z`})]}),Sparkles:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`path`,{d:`M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.582a.5.5 0 0 1 0 .962L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z`})}),Water:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M12 22c5.523 0 10-4.477 10-10 0-5.4-4.4-9.8-9.8-10a9.8 9.8 0 0 0 0 20z`}),m(`path`,{d:`M8 14s1.5-2 4-2 4 2 4 2`}),m(`path`,{d:`M8 18s1.5-2 4-2 4 2 4 2`})]}),AdjustmentsVertical:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`3`}),m(`path`,{d:`M12 8V2`}),m(`path`,{d:`M12 22v-6`}),m(`path`,{d:`M8 12H2`}),m(`path`,{d:`M22 12h-6`})]}),PaintBrush:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M18.37 2.63 14 7l-1.59-1.59a2 2 0 0 0-2.82 0L8 7l9 9 1.59-1.59a2 2 0 0 0 0-2.82L17 10l4.37-4.37a2.12 2.12 0 1 0-3-3Z`}),m(`path`,{d:`M9 8c-2 3-4 3.5-7 4l8 10c2-1 6-5 6-7`}),m(`path`,{d:`M14.5 17.5 4.5 15`})]}),ColorSwatch:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z`}),m(`path`,{d:`M12 4c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z`})]}),Clipboard:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2`}),m(`rect`,{x:`8`,y:`2`,width:`8`,height:`4`,rx:`1`,ry:`1`})]}),Search:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`11`,cy:`11`,r:`8`}),m(`line`,{x1:`21`,y1:`21`,x2:`16.65`,y2:`16.65`})]}),Copy:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`rect`,{x:`9`,y:`9`,width:`13`,height:`13`,rx:`2`,ry:`2`}),m(`path`,{d:`M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1`})]}),DocumentDuplicate:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`rect`,{x:`9`,y:`9`,width:`13`,height:`13`,rx:`2`,ry:`2`}),m(`path`,{d:`M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1`}),m(`path`,{d:`M9 13h6`}),m(`path`,{d:`M9 16h6`})]}),Lightning:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`path`,{d:`M13 2L3 14h9l-1 8 10-12h-9l1-8z`})}),Mountain:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M8 21l5.5-11.5L19 21`}),m(`path`,{d:`M2 21h20`}),m(`path`,{d:`M12 9L8 21l4-12z`})]}),Rectangle:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`rect`,{x:`3`,y:`6`,width:`18`,height:`12`,rx:`2`,ry:`2`})}),Square2Stack:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M5 8a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8z`}),m(`path`,{d:`M3 12a2 2 0 0 1 2-2h1`}),m(`path`,{d:`M3 16h1a2 2 0 0 1 2 2v1`})]}),ArrowPath:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M4 12a8 8 0 0 1 8-8V2.5`}),m(`path`,{d:`M12 4L9 7l3 3`}),m(`path`,{d:`M20 12a8 8 0 0 1-8 8v1.5`}),m(`path`,{d:`M12 20l3-3-3-3`})]}),ArrowUp:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M12 19V5`}),m(`path`,{d:`M5 12l7-7 7 7`})]}),ArrowDown:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M12 5v14`}),m(`path`,{d:`M19 12l-7 7-7-7`})]}),ArrowRight:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M5 12h14`}),m(`path`,{d:`M12 5l7 7-7 7`})]}),MinusCircle:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`10`}),m(`path`,{d:`M8 12h8`})]}),Fullscreen:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`path`,{d:`M8 3H3v5`}),m(`path`,{d:`M3 3l5 5`}),m(`path`,{d:`M16 3h5v5`}),m(`path`,{d:`M21 3l-5 5`}),m(`path`,{d:`M8 21H3v-5`}),m(`path`,{d:`M3 21l5-5`}),m(`path`,{d:`M16 21h5v-5`}),m(`path`,{d:`M21 21l-5-5`})]}),Image:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),m(`circle`,{cx:`9`,cy:`9`,r:`2`}),m(`path`,{d:`m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21`})]}),Check:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,...e,children:m(`polyline`,{points:`20,6 9,17 4,12`})}),MousePointer:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z`}),m(`path`,{d:`m13 13 6 6`})]}),RotateCcw:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8`}),m(`path`,{d:`M3 3v5h5`})]}),Maximize:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M8 3H5a2 2 0 0 0-2 2v3`}),m(`path`,{d:`M21 8V5a2 2 0 0 0-2-2h-3`}),m(`path`,{d:`M3 16v3a2 2 0 0 0 2 2h3`}),m(`path`,{d:`M16 21h3a2 2 0 0 0 2-2v-3`})]}),Cylinder:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`ellipse`,{cx:`12`,cy:`5`,rx:`9`,ry:`3`}),m(`path`,{d:`M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5`})]}),Layers:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`polygon`,{points:`12,2 2,7 12,12 22,7 12,2`}),m(`polyline`,{points:`2,17 12,22 22,17`}),m(`polyline`,{points:`2,12 12,17 22,12`})]}),Grid3x3:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{width:`18`,height:`18`,x:`3`,y:`3`,rx:`2`}),m(`path`,{d:`M9 3v18`}),m(`path`,{d:`M15 3v18`}),m(`path`,{d:`M3 9h18`}),m(`path`,{d:`M3 15h18`})]}),Palette:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`13.5`,cy:`6.5`,r:`.5`}),m(`circle`,{cx:`17.5`,cy:`10.5`,r:`.5`}),m(`circle`,{cx:`8.5`,cy:`7.5`,r:`.5`}),m(`circle`,{cx:`6.5`,cy:`12.5`,r:`.5`}),m(`path`,{d:`M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z`})]}),ZoomIn:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`11`,cy:`11`,r:`8`}),m(`path`,{d:`M21 21l-4.35-4.35`}),m(`line`,{x1:`11`,y1:`8`,x2:`11`,y2:`14`}),m(`line`,{x1:`8`,y1:`11`,x2:`14`,y2:`11`})]}),Target:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`10`}),m(`circle`,{cx:`12`,cy:`12`,r:`6`}),m(`circle`,{cx:`12`,cy:`12`,r:`2`})]}),Maximize2:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`polyline`,{points:`15,3 21,3 21,9`}),m(`polyline`,{points:`9,21 3,21 3,15`}),m(`line`,{x1:`21`,y1:`3`,x2:`14`,y2:`10`}),m(`line`,{x1:`3`,y1:`21`,x2:`10`,y2:`14`})]}),Scissors:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`6`,cy:`6`,r:`3`}),m(`circle`,{cx:`6`,cy:`18`,r:`3`}),m(`line`,{x1:`20`,y1:`4`,x2:`8.12`,y2:`15.88`}),m(`line`,{x1:`14.47`,y1:`14.48`,x2:`20`,y2:`20`}),m(`line`,{x1:`8.12`,y1:`8.12`,x2:`12`,y2:`12`})]}),Paintbrush2:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M14 19.9V16h5.9`}),m(`path`,{d:`M20.5 2.5L2 21l7-7h8v8l-7 7 18.5-18.5c.5-.5.5-1.3 0-1.8l-4.4-4.4c-.5-.5-1.3-.5-1.8 0z`})]}),Zap:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:m(`polygon`,{points:`13,2 3,14 12,14 11,22 21,10 12,10 13,2`})}),Network:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`2`}),m(`path`,{d:`M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14`})]}),FileText:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z`}),m(`polyline`,{points:`14,2 14,8 20,8`}),m(`line`,{x1:`16`,y1:`13`,x2:`8`,y2:`13`}),m(`line`,{x1:`16`,y1:`17`,x2:`8`,y2:`17`}),m(`polyline`,{points:`10,9 9,9 8,9`})]}),Grid:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`7`,height:`7`}),m(`rect`,{x:`14`,y:`3`,width:`7`,height:`7`}),m(`rect`,{x:`14`,y:`14`,width:`7`,height:`7`}),m(`rect`,{x:`3`,y:`14`,width:`7`,height:`7`})]}),EyeOff:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24`}),m(`line`,{x1:`1`,y1:`1`,x2:`23`,y2:`23`})]}),SkipBack:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`polygon`,{points:`19,20 9,12 19,4 19,20`}),m(`line`,{x1:`5`,y1:`19`,x2:`5`,y2:`5`})]}),SkipForward:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`polygon`,{points:`5,4 15,12 5,20 5,4`}),m(`line`,{x1:`19`,y1:`5`,x2:`19`,y2:`19`})]}),Pause:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`6`,y:`4`,width:`4`,height:`16`}),m(`rect`,{x:`14`,y:`4`,width:`4`,height:`16`})]}),Lock:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`11`,width:`18`,height:`11`,rx:`2`,ry:`2`}),m(`circle`,{cx:`12`,cy:`16`,r:`1`}),m(`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`})]}),X:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`line`,{x1:`18`,y1:`6`,x2:`6`,y2:`18`}),m(`line`,{x1:`6`,y1:`6`,x2:`18`,y2:`18`})]}),Music:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M9 18V5l12-2v13`}),m(`circle`,{cx:`6`,cy:`18`,r:`3`}),m(`circle`,{cx:`18`,cy:`16`,r:`3`})]}),Piano:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M2 8h20v12H2z`}),m(`path`,{d:`M6 8V4`}),m(`path`,{d:`M10 8V4`}),m(`path`,{d:`M14 8V4`}),m(`path`,{d:`M18 8V4`})]}),Repeat:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`m17 2 4 4-4 4`}),m(`path`,{d:`M3 11v-1a4 4 0 0 1 4-4h14`}),m(`path`,{d:`m7 22-4-4 4-4`}),m(`path`,{d:`M21 13v1a4 4 0 0 1-4 4H3`})]}),Replace:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M14 4c0-1.1.9-2 2-2h2a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2V4z`}),m(`path`,{d:`m9 15 3-3 3 3`}),m(`path`,{d:`M4 14h7v7a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-7z`})]}),Key:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`7.5`,cy:`15.5`,r:`5.5`}),m(`path`,{d:`m21 2-9.6 9.6`}),m(`path`,{d:`m15.5 7.5 3 3L22 7l-3-3`})]}),Film:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`2`,y:`3`,width:`20`,height:`18`,rx:`2`}),m(`path`,{d:`M7 3v18`}),m(`path`,{d:`M12 3v18`}),m(`path`,{d:`M17 3v18`}),m(`circle`,{cx:`4.5`,cy:`7.5`,r:`0.5`}),m(`circle`,{cx:`4.5`,cy:`12`,r:`0.5`}),m(`circle`,{cx:`4.5`,cy:`16.5`,r:`0.5`})]}),Archive:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`2`,y:`3`,width:`20`,height:`5`,rx:`1`}),m(`path`,{d:`M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8`}),m(`path`,{d:`M10 12h4`})]}),Swatch:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z`}),m(`circle`,{cx:`6.5`,cy:`10.5`,r:`1.5`}),m(`circle`,{cx:`8.5`,cy:`7.5`,r:`1.5`}),m(`circle`,{cx:`15.5`,cy:`7.5`,r:`1.5`}),m(`circle`,{cx:`17.5`,cy:`10.5`,r:`1.5`})]}),Timeline:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`4`,width:`18`,height:`18`,rx:`2`,ry:`2`}),m(`line`,{x1:`16`,y1:`2`,x2:`16`,y2:`6`}),m(`line`,{x1:`8`,y1:`2`,x2:`8`,y2:`6`}),m(`line`,{x1:`3`,y1:`10`,x2:`21`,y2:`10`})]}),Outline:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),m(`path`,{d:`M12 8v8`}),m(`path`,{d:`M8 12h8`})]}),SparkMini:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:m(`path`,{d:`M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.582a.5.5 0 0 1 0 .962L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0L9.937 15.5Z`})}),Video:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`polygon`,{points:`23 7 16 12 23 17 23 7`}),m(`rect`,{x:`1`,y:`5`,width:`15`,height:`14`,rx:`2`,ry:`2`})]}),MagnifyingGlassPlus:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`11`,cy:`11`,r:`8`}),m(`path`,{d:`M21 21l-4.35-4.35`}),m(`line`,{x1:`11`,y1:`8`,x2:`11`,y2:`14`}),m(`line`,{x1:`8`,y1:`11`,x2:`14`,y2:`11`})]}),Cut:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`6`,cy:`6`,r:`3`}),m(`circle`,{cx:`6`,cy:`18`,r:`3`}),m(`line`,{x1:`20`,y1:`4`,x2:`8.12`,y2:`15.88`}),m(`line`,{x1:`14.47`,y1:`14.48`,x2:`20`,y2:`20`}),m(`line`,{x1:`8.12`,y1:`8.12`,x2:`12`,y2:`12`})]}),ChartBar:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`line`,{x1:`12`,y1:`20`,x2:`12`,y2:`10`}),m(`line`,{x1:`18`,y1:`20`,x2:`18`,y2:`4`}),m(`line`,{x1:`6`,y1:`20`,x2:`6`,y2:`16`})]}),ChartLine:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M3 3v18h18`}),m(`path`,{d:`M7 12l4-4 4 4 6-6`})]}),EyeDropper:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M2 22l1-1h3l9-9`}),m(`path`,{d:`M3 21v-3l9-9`}),m(`path`,{d:`M15 6l3-3a2 2 0 0 1 3 3l-3 3`})]}),Square3Stack3d:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M12 2l8 5-8 5-8-5 8-5z`}),m(`path`,{d:`M4 10l8 5 8-5`}),m(`path`,{d:`M4 15l8 5 8-5`})]}),CursorArrowRipple:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z`}),m(`path`,{d:`M13 13l6 6`}),m(`circle`,{cx:`16`,cy:`8`,r:`2`,stroke:`currentColor`,fill:`none`})]}),CloudArrowUp:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M17.5 19H9a7 7 0 1 1 6.71-9h.79a4.5 4.5 0 0 1 .85 8.85`}),m(`polyline`,{points:`16 11 12 7 8 11`}),m(`line`,{x1:`12`,y1:`18`,x2:`12`,y2:`7`})]}),Squares2x2:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`8`,height:`8`}),m(`rect`,{x:`13`,y:`3`,width:`8`,height:`8`}),m(`rect`,{x:`3`,y:`13`,width:`8`,height:`8`}),m(`rect`,{x:`13`,y:`13`,width:`8`,height:`8`})]}),Photo:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),m(`circle`,{cx:`9`,cy:`9`,r:`2`}),m(`path`,{d:`M21 15l-3.086-3.086a2 2 0 0 0-2.828 0L6 21`})]}),SpeakerXMark:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`polygon`,{points:`11 5,6 9,2 9,2 15,6 15,11 19`}),m(`line`,{x1:`23`,y1:`9`,x2:`17`,y2:`15`}),m(`line`,{x1:`17`,y1:`9`,x2:`23`,y2:`15`})]}),Cog6Tooth:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`3`}),m(`path`,{d:`M12 1v6m0 6v6m11-7h-6m-6 0H1m15.5-6.5l-4.2 4.2m-5.6 0L2.5 5.5m0 13L6.7 14.3m5.6 0l4.2 4.2`})]}),ArrowsRightLeft:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M17 11h4l-4-4`}),m(`path`,{d:`M21 7l-4 4`}),m(`path`,{d:`M7 13H3l4 4`}),m(`path`,{d:`M3 17l4-4`})]}),Speaker:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:m(`polygon`,{points:`11 5,6 9,2 9,2 15,6 15,11 19`})}),Trim:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M3 3l18 18`}),m(`path`,{d:`M21 3L3 21`}),m(`path`,{d:`M12 8l-3 3 3 3`}),m(`path`,{d:`M12 16l3-3-3-3`})]}),SpeakerWave:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`polygon`,{points:`11 5,6 9,2 9,2 15,6 15,11 19`}),m(`path`,{d:`M15.54 8.46a5 5 0 0 1 0 7.07`}),m(`path`,{d:`M19.07 4.93a10 10 0 0 1 0 14.14`})]}),Speed:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M8 12L13 7L18 12`}),m(`path`,{d:`M13 7V19`})]}),ChartPie:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M21.21 15.89A10 10 0 1 1 8 2.83`}),m(`path`,{d:`M22 12A10 10 0 0 0 12 2v10z`})]}),Bars:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`line`,{x1:`3`,y1:`6`,x2:`21`,y2:`6`}),m(`line`,{x1:`3`,y1:`12`,x2:`21`,y2:`12`}),m(`line`,{x1:`3`,y1:`18`,x2:`21`,y2:`18`})]}),InformationCircle:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`10`}),m(`path`,{d:`M12 16v-4`}),m(`path`,{d:`M12 8h.01`})]}),LockClosed:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`11`,width:`18`,height:`11`,rx:`2`,ry:`2`}),m(`circle`,{cx:`12`,cy:`16`,r:`1`}),m(`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4`})]}),LockOpen:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`11`,width:`18`,height:`11`,rx:`2`,ry:`2`}),m(`circle`,{cx:`12`,cy:`16`,r:`1`}),m(`path`,{d:`M7 11V7a5 5 0 0 1 10 0v4h-5`})]}),DocumentText:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z`}),m(`polyline`,{points:`14,2 14,8 20,8`}),m(`line`,{x1:`16`,y1:`13`,x2:`8`,y2:`13`}),m(`line`,{x1:`16`,y1:`17`,x2:`8`,y2:`17`}),m(`polyline`,{points:`10,9 9,9 8,9`})]}),Lasso:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M3 12c2-4 6-6 9-6s7 2 9 6c-2 4-6 6-9 6s-7-2-9-6z`}),m(`path`,{d:`M8 12l2 2 4-4`})]}),Crop:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M6 2v14a2 2 0 0 0 2 2h14`}),m(`path`,{d:`M18 6H8a2 2 0 0 0-2 2v10`})]}),Healing:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M12 2v20`}),m(`path`,{d:`M2 12h20`}),m(`circle`,{cx:`12`,cy:`12`,r:`3`}),m(`circle`,{cx:`12`,cy:`12`,r:`8`,strokeDasharray:`2,2`})]}),Clone:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`9`,y:`9`,width:`13`,height:`13`,rx:`2`,ry:`2`}),m(`path`,{d:`M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1`}),m(`circle`,{cx:`15`,cy:`15`,r:`2`})]}),Eraser:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M20 20H8l-4-4a2 2 0 0 1 0-2.828l8.485-8.485a2 2 0 0 1 2.828 0L20 9.373a2 2 0 0 1 0 2.828L15.314 16`}),m(`path`,{d:`M9 15l6-6`})]}),Gradient:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`defs`,{children:h(`linearGradient`,{id:`gradient-icon`,x1:`0%`,y1:`0%`,x2:`100%`,y2:`0%`,children:[m(`stop`,{offset:`0%`,stopColor:`currentColor`,stopOpacity:`1`}),m(`stop`,{offset:`100%`,stopColor:`currentColor`,stopOpacity:`0.2`})]})}),m(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,fill:`url(#gradient-icon)`})]}),PaintBucket:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M19 14c0 1.657-2.686 3-6 3s-6-1.343-6-3 2.686-3 6-3 6 1.343 6 3z`}),m(`path`,{d:`M13 14v7a1 1 0 0 1-2 0v-7`}),m(`path`,{d:`M8 9l3-6 3 6`}),m(`path`,{d:`M11 3h2`})]}),Blur:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`3`}),m(`circle`,{cx:`12`,cy:`12`,r:`6`,strokeDasharray:`1,2`}),m(`circle`,{cx:`12`,cy:`12`,r:`9`,strokeDasharray:`1,3`})]}),Sharpen:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M12 2l8 20-8-6-8 6 8-20z`}),m(`path`,{d:`M6 12h12`})]}),Smudge:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M4 12c4-4 8-4 12 0s4 8 0 12`}),m(`path`,{d:`M8 8c2-2 4-2 6 0s2 4 0 6`})]}),Dodge:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`4`}),m(`path`,{d:`M12 2v2`}),m(`path`,{d:`M12 20v2`}),m(`path`,{d:`M4.93 4.93l1.41 1.41`}),m(`path`,{d:`M17.66 17.66l1.41 1.41`}),m(`path`,{d:`M2 12h2`}),m(`path`,{d:`M20 12h2`}),m(`path`,{d:`M6.34 17.66l-1.41 1.41`}),m(`path`,{d:`M19.07 4.93l-1.41 1.41`})]}),Burn:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M12 2c3 5.5 3 12-3 12s-6-6.5-3-12`}),m(`path`,{d:`M9 17c.5.5 1.5.5 2 0`}),m(`path`,{d:`M10 14c.5-.5 1.5-.5 2 0`})]}),Sponge:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3`}),m(`circle`,{cx:`12`,cy:`12`,r:`4`}),m(`path`,{d:`M8 8l8 8`}),m(`path`,{d:`M16 8l-8 8`})]}),Type:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`polyline`,{points:`4,7 4,4 20,4 20,7`}),m(`line`,{x1:`9`,y1:`20`,x2:`15`,y2:`20`}),m(`line`,{x1:`12`,y1:`4`,x2:`12`,y2:`20`})]}),BezierCurve:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M3 12c6-9 12-9 18 0`}),m(`circle`,{cx:`3`,cy:`12`,r:`1`}),m(`circle`,{cx:`21`,cy:`12`,r:`1`}),m(`circle`,{cx:`9`,cy:`3`,r:`1`}),m(`circle`,{cx:`15`,cy:`21`,r:`1`}),m(`path`,{d:`M3 12L9 3`,strokeDasharray:`2,2`}),m(`path`,{d:`M21 12L15 21`,strokeDasharray:`2,2`})]}),Shapes:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`8`,height:`8`,rx:`1`}),m(`circle`,{cx:`17`,cy:`7`,r:`4`}),m(`path`,{d:`M8 17l4-4 4 4v4H8v-4z`})]}),Hand:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M18 11V8a2 2 0 0 0-4 0v3`}),m(`path`,{d:`M14 10V4a2 2 0 0 0-4 0v2`}),m(`path`,{d:`M10 10.5V6a2 2 0 0 0-4 0v8`}),m(`path`,{d:`M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15`})]}),Ruler:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M21.3 8.7l-9.6 9.6c-.4.4-1 .4-1.4 0l-2.6-2.6c-.4-.4-.4-1 0-1.4l9.6-9.6`}),m(`path`,{d:`M7 17l2-2`}),m(`path`,{d:`M11 13l2-2`}),m(`path`,{d:`M15 9l2-2`})]}),Filter:e=>m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:m(`polygon`,{points:`22,3 2,3 10,12.46 10,19 14,21 14,12.46 22,3`})}),Layer:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`polygon`,{points:`12,2 2,7 12,12 22,7 12,2`}),m(`polyline`,{points:`2,17 12,22 22,17`}),m(`polyline`,{points:`2,12 12,17 22,12`})]}),SmartObject:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z`}),m(`circle`,{cx:`12`,cy:`12`,r:`4`})]}),LayerMask:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`,ry:`2`}),m(`circle`,{cx:`12`,cy:`12`,r:`6`,fill:`currentColor`}),m(`circle`,{cx:`12`,cy:`12`,r:`3`,fill:`none`,stroke:`white`})]}),Table:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`}),m(`path`,{d:`M21 9H3`}),m(`path`,{d:`M21 15H3`}),m(`path`,{d:`M12 3v18`})]}),Invert:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`10`}),m(`path`,{d:`M12 2v20`,stroke:`none`,fill:`currentColor`})]}),Threshold:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`}),m(`path`,{d:`M3 12h18`}),m(`rect`,{x:`3`,y:`3`,width:`18`,height:`9`,fill:`currentColor`,stroke:`none`})]}),Transparency:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`2`}),m(`path`,{d:`M8 8h8v8H8z`,fill:`currentColor`,fillOpacity:`0.3`}),m(`path`,{d:`M8 8l8 8`}),m(`path`,{d:`M16 8l-8 8`})]}),PlayCircle:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`circle`,{cx:`12`,cy:`12`,r:`10`}),m(`polygon`,{points:`10,8 16,12 10,16`})]}),Bars3:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`line`,{x1:`3`,y1:`6`,x2:`21`,y2:`6`}),m(`line`,{x1:`3`,y1:`12`,x2:`21`,y2:`12`}),m(`line`,{x1:`3`,y1:`18`,x2:`21`,y2:`18`})]}),Document:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M14,2 L20,8 L20,20 C20,21.1 19.1,22 18,22 L6,22 C4.9,22 4,21.1 4,20 L4,4 C4,2.9 4.9,2 6,2 L14,2 Z`}),m(`polyline`,{points:`14,2 14,8 20,8`})]}),ExclamationTriangle:e=>h(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,strokeLinecap:`round`,strokeLinejoin:`round`,...e,children:[m(`path`,{d:`M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z`}),m(`line`,{x1:`12`,y1:`9`,x2:`12`,y2:`13`}),m(`circle`,{cx:`12`,cy:`17`,r:`1`})]})},P=[{id:`scene`,icon:N.Scene,title:`Scene`}],F=[{id:`add`,icon:N.PlusCircle,title:`Add`},{id:`settings`,icon:N.Settings,title:`Settings`},{id:`fullscreen`,icon:N.Fullscreen,title:`Fullscreen`}],I={"3d-viewport":[`scene`],"daw-editor":[`scene`],"material-editor":[`scene`],"node-editor":[`scene`],"animation-editor":[`scene`],"text-editor":[`scene`],"video-editor":[`scene`],"photo-editor":[`scene`],"model-preview":[`scene`],default:[`scene`]};function L({selectedTool:e,onToolSelect:t,scenePanelOpen:n,onScenePanelToggle:r}){let{ui:i,viewport:a}=f(D.editor),{toolbarTabOrder:s,toolbarBottomTabOrder:c}=i,{setToolbarTabOrder:u,setToolbarBottomTabOrder:d}=k.editor,p=()=>{if(!a.tabs||a.tabs.length===0)return`default`;let e=a.tabs.find(e=>e.id===a.activeTabId);return e?.type||`default`},g=()=>{let e=p(),t=I[e]||I.default,n=P.reduce((e,t)=>(e[t.id]=t,e),{}),r=s||[],i=P.filter(e=>!r.includes(e.id)).map(e=>e.id);if(i.length>0&&(r=[...r,...i],u(r)),!r||!Array.isArray(r))return P.filter(e=>t.includes(e.id));let a=r.filter(e=>t.includes(e)).map(e=>n[e]).filter(Boolean);return a},_=()=>{if(!c||!Array.isArray(c))return F;let e=F.reduce((e,t)=>(e[t.id]=t,e),{}),t=c.map(t=>e[t]).filter(Boolean),n=new Set(c),r=F.filter(e=>!n.has(e.id));return[...t,...r]},[v,y]=l(()=>g()),[b,x]=l(()=>_());o(()=>{let e=g();y(e)},[s,a.activeTabId]),o(()=>{let e=F.reduce((e,t)=>(e[t.id]=t,e),{}),t=c.map(t=>e[t]).filter(Boolean),n=new Set(c),r=F.filter(e=>!n.has(e.id));x([...t,...r])},[c]);let[S,C]=l({isDragging:!1,draggedTool:null,dragOverTool:null,draggedFromBottom:!1}),w=(e,t,n=!1)=>{e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/html`,``);let r=e.currentTarget.cloneNode(!0);r.style.position=`absolute`,r.style.top=`-1000px`,r.style.left=`-1000px`,r.style.background=`linear-gradient(to bottom, rgb(51 65 85 / 0.95), rgb(15 23 42 / 0.98))`,r.style.border=`1px solid rgb(148 163 184 / 0.5)`,r.style.borderRadius=`8px`,r.style.padding=`8px`,r.style.boxShadow=`0 25px 50px -12px rgb(0 0 0 / 0.5)`,r.style.transform=`scale(1.1)`,r.style.pointerEvents=`none`,r.style.zIndex=`9999`;let i=r.querySelector(`svg`);i&&(i.style.color=`#e2e8f0`),document.body.appendChild(r),e.dataTransfer.setDragImage(r,24,24),setTimeout(()=>{document.body.contains(r)&&document.body.removeChild(r)},100),C({isDragging:!0,draggedTool:t,dragOverTool:null,draggedFromBottom:n})},T=(e,t,n=!1)=>{e.preventDefault(),e.dataTransfer.dropEffect=`move`,S.draggedTool&&S.draggedTool.id!==t.id&&C(e=>({...e,dragOverTool:t}))},E=e=>{let t=e.currentTarget.getBoundingClientRect(),{clientX:n,clientY:r}=e;(n<t.left||n>t.right||r<t.top||r>t.bottom)&&C(e=>({...e,dragOverTool:null}))},O=(e,t,n=!1)=>{if(e.preventDefault(),e.stopPropagation(),!S.draggedTool||S.draggedTool.id===t.id){C({isDragging:!1,draggedTool:null,dragOverTool:null,draggedFromBottom:!1});return}let r=S.draggedFromBottom?b:v,i=n?b:v,a=S.draggedFromBottom?x:y,o=n?x:y;if(S.draggedFromBottom!==n){let e=r.filter(e=>e.id!==S.draggedTool.id);a(e);let n=i.findIndex(e=>e.id===t.id),s=[...i];s.splice(n,0,S.draggedTool),o(s),S.draggedFromBottom?(k.editor.setToolbarBottomTabOrder(e.map(e=>e.id)),k.editor.setToolbarTabOrder(s.map(e=>e.id))):(k.editor.setToolbarTabOrder(e.map(e=>e.id)),k.editor.setToolbarBottomTabOrder(s.map(e=>e.id)))}else{let e=r.findIndex(e=>e.id===S.draggedTool.id),i=r.findIndex(e=>e.id===t.id);if(e!==-1&&i!==-1&&e!==i){let t=[...r],[o]=t.splice(e,1);t.splice(i,0,o),a(t);let s=t.map(e=>e.id);n?k.editor.setToolbarBottomTabOrder(s):k.editor.setToolbarTabOrder(s)}}C({isDragging:!1,draggedTool:null,dragOverTool:null,draggedFromBottom:!1})},A=()=>{C({isDragging:!1,draggedTool:null,dragOverTool:null,draggedFromBottom:!1})},j=e=>{if(!S.isDragging){if(e.id===`fullscreen`){M();return}p(),n||r(),t(e.id)}},M=()=>{document.fullscreenElement?document.exitFullscreen().catch(e=>{console.warn(`Error attempting to exit fullscreen:`,e)}):document.documentElement.requestFullscreen().catch(e=>{console.warn(`Error attempting to enable fullscreen:`,e)})};return h(`div`,{className:`relative w-12 h-full bg-gradient-to-b from-slate-800/95 to-slate-900/98 backdrop-blur-md border-l border-slate-700/80 shadow-2xl shadow-black/30 flex flex-col py-2 pointer-events-auto no-select`,children:[m(`div`,{className:`flex flex-col space-y-1 px-1`,children:v.map(t=>{let n=S.draggedTool?.id===t.id,r=S.dragOverTool?.id===t.id;return h(`button`,{draggable:!0,onClick:()=>j(t),onDragStart:e=>w(e,t,!1),onDragOver:e=>T(e,t,!1),onDragLeave:E,onDrop:e=>O(e,t,!1),onDragEnd:A,className:`p-2 rounded-lg transition-all duration-200 group relative select-none ${n?`opacity-50 cursor-grabbing scale-95`:e===t.id?`bg-gradient-to-b from-blue-500 to-blue-700 text-white shadow-lg shadow-blue-600/40 scale-105 cursor-grab`:`text-slate-400 hover:text-white hover:bg-gradient-to-b hover:from-slate-700/80 hover:to-slate-800/90 hover:shadow-md hover:shadow-black/30 hover:scale-102 cursor-grab`}`,title:t.title,children:[m(t.icon,{className:`w-6 h-6`}),r&&m(`div`,{className:`absolute inset-x-0 top-0 h-0.5 bg-blue-500 rounded-full`}),!S.isDragging&&h(`div`,{className:`absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-slate-900 border border-slate-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-[60] shadow-2xl`,children:[t.title,m(`div`,{className:`absolute left-full top-1/2 -translate-y-1/2 w-0 h-0 border-l-4 border-l-slate-900 border-t-4 border-t-transparent border-b-4 border-b-transparent`})]})]},t.id)})}),m(`div`,{className:`flex-1 flex items-center justify-center`,onDragOver:e=>{e.preventDefault(),S.draggedTool&&(e.dataTransfer.dropEffect=`move`)},onDrop:e=>{if(e.preventDefault(),e.stopPropagation(),S.draggedTool){let e=S.draggedFromBottom?b:v,t=S.draggedFromBottom?x:y,n=S.draggedFromBottom?v:b,r=S.draggedFromBottom?y:x,i=e.filter(e=>e.id!==S.draggedTool.id);t(i);let a=[...n,S.draggedTool];r(a),S.draggedFromBottom?(k.editor.setToolbarBottomTabOrder(i.map(e=>e.id)),k.editor.setToolbarTabOrder(a.map(e=>e.id))):(k.editor.setToolbarTabOrder(i.map(e=>e.id)),k.editor.setToolbarBottomTabOrder(a.map(e=>e.id))),C({isDragging:!1,draggedTool:null,dragOverTool:null,draggedFromBottom:!1})}},children:S.isDragging&&m(`div`,{className:`w-8 h-0.5 bg-blue-500/50 rounded-full opacity-50 transition-opacity`})}),m(`div`,{className:`flex flex-col space-y-1 px-1`,children:b.map(t=>{let n=S.draggedTool?.id===t.id,r=S.dragOverTool?.id===t.id;return h(`button`,{draggable:!0,onClick:()=>j(t),onDragStart:e=>w(e,t,!0),onDragOver:e=>T(e,t,!0),onDragLeave:E,onDrop:e=>O(e,t,!0),onDragEnd:A,className:`p-2 rounded-lg transition-all duration-200 group relative select-none ${n?`opacity-50 cursor-grabbing scale-95`:e===t.id?`bg-gradient-to-b from-blue-500 to-blue-700 text-white shadow-lg shadow-blue-600/40 scale-105 cursor-grab`:`text-slate-400 hover:text-white hover:bg-gradient-to-b hover:from-slate-700/80 hover:to-slate-800/90 hover:shadow-md hover:shadow-black/30 hover:scale-102 cursor-grab`}`,title:t.title,children:[m(t.icon,{className:`w-6 h-6`}),r&&m(`div`,{className:`absolute inset-x-0 top-0 h-0.5 bg-blue-500 rounded-full`}),!S.isDragging&&h(`div`,{className:`absolute right-full mr-2 top-1/2 -translate-y-1/2 bg-slate-900 border border-slate-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-[60] shadow-2xl`,children:[t.title,m(`div`,{className:`absolute left-full top-1/2 -translate-y-1/2 w-0 h-0 border-l-4 border-l-slate-900 border-t-4 border-t-transparent border-b-4 border-b-transparent`})]})]},t.id)})})]})}var R=L;const z=({label:e,min:t,max:n,step:r,defaultValue:i,onChange:a})=>{let[s,u]=l(i),[d,f]=l(!1),[p,g]=l(0),_=c(null),v=e=>{let t=parseFloat(e.target.value);u(t),a&&a(t)},y=e=>{let t=parseFloat(e.target.value);u(t),a&&a(t),S(e.target)},b=()=>{f(!0)},x=()=>{f(!1)},S=e=>{if(e){let t=parseFloat(e.min),n=parseFloat(e.max),r=parseFloat(e.value),i=(r-t)/(n-t),a=16,o=e.offsetWidth-a,s=i*o+a/2;g(s)}};return o(()=>{_.current&&S(_.current)},[s]),h(`div`,{className:`space-y-1 relative`,children:[m(`label`,{className:`text-xs text-gray-400`,children:e}),h(`div`,{className:`flex items-center space-x-2`,children:[h(`div`,{className:`relative flex-1`,children:[m(`input`,{type:`range`,min:t,max:n,step:r,value:s,onChange:y,onMouseDown:b,onMouseUp:x,ref:_,className:`w-full h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:h-4 [&::-webkit-slider-thumb]:w-4 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-blue-500 [&::-webkit-slider-thumb]:shadow [&::-moz-range-thumb]:h-4 [&::-moz-range-thumb]:w-4 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-blue-500 [&::-moz-range-thumb]:shadow`}),d&&h(`div`,{className:`absolute bg-blue-500 text-white text-xs rounded py-1 px-2 -mt-8 transform -translate-x-1/2 transition-opacity duration-100`,style:{left:p,opacity:d?1:0},children:[s.toFixed(1),m(`div`,{className:`absolute left-1/2 transform -translate-x-1/2 border-t-4 border-t-blue-500 border-x-4 border-x-transparent bottom-[-4px]`})]})]}),m(`input`,{type:`number`,min:t,max:n,step:r,value:s,onChange:v,className:`w-16 bg-slate-800 border border-slate-700 text-white text-xs p-1.5 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent`})]})]})};var B=z;const V=({title:e,children:t,defaultOpen:n=!0,index:r=0})=>{let[i,a]=l(n),o=r%2==0;return h(`div`,{className:`${o?`bg-slate-800/20`:`bg-slate-900/20`}`,children:[h(`button`,{onClick:()=>a(!i),className:`w-full flex items-center justify-between px-3 py-2.5 text-xs font-medium transition-all duration-200 group ${i?`bg-blue-600/20 text-blue-200 shadow-md shadow-blue-900/20 border-l-2 border-blue-500`:`text-gray-300 hover:bg-slate-700/30 hover:text-gray-200 hover:border-l-2 hover:border-slate-400 border-l-2 border-transparent`}`,children:[m(`span`,{className:`transition-transform duration-200 ${i?``:`group-hover:translate-x-1`}`,children:e}),m(N.ChevronDown,{className:`w-3 h-3 transition-transform ${i?``:`-rotate-90`}`})]}),i&&m(`div`,{className:`px-3 pt-2 pb-3`,children:t})]})};var H=V;const U=()=>{let[e,t]=l({format:`mp4`,codec:`h264`,quality:`high`,resolution:`1920x1080`,frameRate:30,bitrate:8e3,audioCodec:`aac`,audioSampleRate:48e3,audioBitrate:320,audioChannels:`stereo`,profile:`main`,level:`4.1`,keyframeInterval:250,bFrames:2,adaptiveBitrate:!0,outputPath:`/Users/Documents/Videos/`,filename:`video_export`,exportRange:`all`,customStart:`00:00:00:00`,customEnd:`00:05:30:15`}),[n,r]=l({isExporting:!1,progress:0,stage:``,timeRemaining:``}),i=[{id:`mp4`,name:`MP4`,extension:`.mp4`,description:`Most compatible format`},{id:`mov`,name:`QuickTime`,extension:`.mov`,description:`High quality, large files`},{id:`avi`,name:`AVI`,extension:`.avi`,description:`Legacy format`},{id:`webm`,name:`WebM`,extension:`.webm`,description:`Web optimized`},{id:`mkv`,name:`Matroska`,extension:`.mkv`,description:`Open source container`}],a={mp4:[{id:`h264`,name:`H.264`,description:`Best compatibility`},{id:`h265`,name:`H.265/HEVC`,description:`Better compression, newer`}],mov:[{id:`prores`,name:`Apple ProRes`,description:`Professional quality`},{id:`h264`,name:`H.264`,description:`Standard quality`}],webm:[{id:`vp9`,name:`VP9`,description:`Google codec`},{id:`av1`,name:`AV1`,description:`Next-gen codec`}]},o=[{id:`draft`,name:`Draft`,bitrate:2e3,description:`Fast export, low quality`},{id:`medium`,name:`Medium`,bitrate:5e3,description:`Balanced quality/size`},{id:`high`,name:`High`,bitrate:8e3,description:`High quality`},{id:`maximum`,name:`Maximum`,bitrate:15e3,description:`Best quality, large files`},{id:`custom`,name:`Custom`,bitrate:8e3,description:`Manual settings`}],s=[`3840x2160`,`2560x1440`,`1920x1080`,`1280x720`,`854x480`,`640x360`],c=[23.976,24,25,29.97,30,50,59.94,60],u=(e,n)=>{t(t=>({...t,[e]:n}))},d=e=>{let n=o.find(t=>t.id===e);n&&t(t=>({...t,quality:e,bitrate:n.bitrate}))},f=()=>{r({isExporting:!0,progress:0,stage:`Initializing...`,timeRemaining:`Calculating...`});let e=setInterval(()=>{r(t=>{let n=t.progress+Math.random()*5;return n>=100?(clearInterval(e),{isExporting:!1,progress:100,stage:`Export complete!`,timeRemaining:`00:00`}):{...t,progress:n,stage:n<30?`Encoding video...`:n<80?`Processing audio...`:`Finalizing...`,timeRemaining:`${Math.floor((100-n)/10)}:${Math.floor((100-n)%10*6).toString().padStart(2,`0`)}`}})},200)},p=()=>{r({isExporting:!1,progress:0,stage:``,timeRemaining:``})},g=()=>{let t=330,n=e.bitrate,r=e.audioBitrate,i=n+r,a=i*t/(8*1e3);return Math.round(a)};return h(`div`,{className:`h-full flex flex-col bg-slate-900`,children:[m(`div`,{className:`h-12 bg-slate-800/95 border-b border-slate-700 flex items-center px-4`,children:h(`div`,{className:`flex items-center gap-2`,children:[m(N.Film,{className:`w-4 h-4 text-green-400`}),m(`span`,{className:`text-sm font-medium text-gray-200`,children:`Export Settings`})]})}),h(`div`,{className:`flex-1 overflow-auto`,children:[n.isExporting&&h(`div`,{className:`p-4 bg-blue-950/50 border-b border-blue-800`,children:[h(`div`,{className:`flex items-center justify-between mb-2`,children:[m(`span`,{className:`text-sm font-medium text-blue-200`,children:`Exporting Video`}),m(`button`,{onClick:p,className:`px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors`,children:`Cancel`})]}),m(`div`,{className:`w-full h-2 bg-blue-900 rounded-full overflow-hidden mb-2`,children:m(`div`,{className:`h-full bg-blue-500 transition-all duration-300`,style:{width:`${n.progress}%`}})}),h(`div`,{className:`flex justify-between text-xs text-blue-300`,children:[m(`span`,{children:n.stage}),h(`span`,{children:[Math.round(n.progress),`% - `,n.timeRemaining]})]})]}),m(H,{title:`Output Format`,defaultOpen:!0,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Format`}),m(`select`,{value:e.format,onChange:e=>u(`format`,e.target.value),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 focus:outline-none focus:border-blue-500`,children:i.map(e=>h(`option`,{value:e.id,children:[e.name,` (`,e.extension,`) - `,e.description]},e.id))})]}),h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Video Codec`}),m(`select`,{value:e.codec,onChange:e=>u(`codec`,e.target.value),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 focus:outline-none focus:border-blue-500`,children:(a[e.format]||a.mp4).map(e=>h(`option`,{value:e.id,children:[e.name,` - `,e.description]},e.id))})]}),h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Quality Preset`}),m(`div`,{className:`space-y-2`,children:o.map(t=>h(`button`,{onClick:()=>d(t.id),className:`w-full flex items-center justify-between p-3 rounded border transition-colors ${e.quality===t.id?`bg-blue-600 border-blue-500 text-white`:`bg-slate-800 border-slate-700 text-gray-300 hover:bg-slate-750`}`,children:[h(`div`,{className:`text-left`,children:[m(`div`,{className:`font-medium`,children:t.name}),m(`div`,{className:`text-xs opacity-75`,children:t.description})]}),h(`div`,{className:`text-xs`,children:[t.bitrate,` kbps`]})]},t.id))})]})]})}),m(H,{title:`Video Settings`,defaultOpen:!0,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{className:`grid grid-cols-2 gap-3`,children:[h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Resolution`}),m(`select`,{value:e.resolution,onChange:e=>u(`resolution`,e.target.value),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 focus:outline-none focus:border-blue-500`,children:s.map(e=>m(`option`,{value:e,children:e},e))})]}),h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Frame Rate`}),m(`select`,{value:e.frameRate,onChange:e=>u(`frameRate`,parseFloat(e.target.value)),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 focus:outline-none focus:border-blue-500`,children:c.map(e=>h(`option`,{value:e,children:[e,` fps`]},e))})]})]}),e.quality===`custom`&&h(`div`,{children:[h(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:[`Bitrate: `,e.bitrate,` kbps`]}),m(`input`,{type:`range`,min:`500`,max:`50000`,step:`500`,value:e.bitrate,onChange:e=>u(`bitrate`,parseInt(e.target.value)),className:`w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider`}),h(`div`,{className:`flex justify-between text-xs text-gray-500 mt-1`,children:[m(`span`,{children:`0.5 Mbps`}),m(`span`,{children:`50 Mbps`})]})]})]})}),m(H,{title:`Audio Settings`,defaultOpen:!1,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{className:`grid grid-cols-2 gap-3`,children:[h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Audio Codec`}),h(`select`,{value:e.audioCodec,onChange:e=>u(`audioCodec`,e.target.value),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 focus:outline-none focus:border-blue-500`,children:[m(`option`,{value:`aac`,children:`AAC`}),m(`option`,{value:`mp3`,children:`MP3`}),m(`option`,{value:`pcm`,children:`PCM (Uncompressed)`})]})]}),h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Sample Rate`}),h(`select`,{value:e.audioSampleRate,onChange:e=>u(`audioSampleRate`,parseInt(e.target.value)),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 focus:outline-none focus:border-blue-500`,children:[m(`option`,{value:44100,children:`44.1 kHz`}),m(`option`,{value:48e3,children:`48 kHz`}),m(`option`,{value:96e3,children:`96 kHz`})]})]})]}),h(`div`,{className:`grid grid-cols-2 gap-3`,children:[h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Audio Bitrate`}),h(`select`,{value:e.audioBitrate,onChange:e=>u(`audioBitrate`,parseInt(e.target.value)),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 focus:outline-none focus:border-blue-500`,children:[m(`option`,{value:128,children:`128 kbps`}),m(`option`,{value:192,children:`192 kbps`}),m(`option`,{value:256,children:`256 kbps`}),m(`option`,{value:320,children:`320 kbps`})]})]}),h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Channels`}),h(`select`,{value:e.audioChannels,onChange:e=>u(`audioChannels`,e.target.value),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 focus:outline-none focus:border-blue-500`,children:[m(`option`,{value:`mono`,children:`Mono`}),m(`option`,{value:`stereo`,children:`Stereo`}),m(`option`,{value:`5.1`,children:`5.1 Surround`})]})]})]})]})}),m(H,{title:`Export Range`,defaultOpen:!1,children:h(`div`,{className:`space-y-4`,children:[m(`div`,{className:`space-y-2`,children:[{id:`all`,name:`Entire Timeline`,desc:`Export the complete video`},{id:`selection`,name:`Selection Only`,desc:`Export selected clips`},{id:`custom`,name:`Custom Range`,desc:`Specify start and end times`}].map(t=>h(`button`,{onClick:()=>u(`exportRange`,t.id),className:`w-full flex items-center gap-3 p-3 rounded border transition-colors ${e.exportRange===t.id?`bg-blue-600 border-blue-500 text-white`:`bg-slate-800 border-slate-700 text-gray-300 hover:bg-slate-750`}`,children:[m(`div`,{className:`w-4 h-4 rounded-full border-2 ${e.exportRange===t.id?`border-white bg-white`:`border-gray-500`}`,children:e.exportRange===t.id&&m(`div`,{className:`w-2 h-2 bg-blue-600 rounded-full m-0.5`})}),h(`div`,{className:`text-left`,children:[m(`div`,{className:`font-medium`,children:t.name}),m(`div`,{className:`text-xs opacity-75`,children:t.desc})]})]},t.id))}),e.exportRange===`custom`&&h(`div`,{className:`grid grid-cols-2 gap-3 mt-4`,children:[h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Start Time`}),m(`input`,{type:`text`,value:e.customStart,onChange:e=>u(`customStart`,e.target.value),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 font-mono focus:outline-none focus:border-blue-500`,placeholder:`HH:MM:SS:FF`})]}),h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`End Time`}),m(`input`,{type:`text`,value:e.customEnd,onChange:e=>u(`customEnd`,e.target.value),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 font-mono focus:outline-none focus:border-blue-500`,placeholder:`HH:MM:SS:FF`})]})]})]})}),m(H,{title:`Output`,defaultOpen:!0,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Output Directory`}),h(`div`,{className:`flex gap-2`,children:[m(`input`,{type:`text`,value:e.outputPath,onChange:e=>u(`outputPath`,e.target.value),className:`flex-1 p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 focus:outline-none focus:border-blue-500`}),m(`button`,{className:`px-3 py-2 bg-slate-700 hover:bg-slate-600 border border-slate-600 rounded text-sm text-gray-300 transition-colors`,children:`Browse`})]})]}),h(`div`,{children:[m(`label`,{className:`block text-sm font-medium text-gray-300 mb-2`,children:`Filename`}),m(`input`,{type:`text`,value:e.filename,onChange:e=>u(`filename`,e.target.value),className:`w-full p-2 bg-slate-700 border border-slate-600 rounded text-sm text-gray-200 focus:outline-none focus:border-blue-500`}),h(`div`,{className:`text-xs text-gray-500 mt-1`,children:[`Full path: `,e.outputPath,e.filename,i.find(t=>t.id===e.format)?.extension]})]}),m(`div`,{className:`p-3 bg-slate-800 rounded border border-slate-700`,children:h(`div`,{className:`flex justify-between items-center`,children:[m(`span`,{className:`text-sm text-gray-300`,children:`Estimated file size:`}),h(`span`,{className:`text-sm font-mono text-blue-400`,children:[g(),` MB`]})]})})]})})]}),m(`div`,{className:`p-4 bg-slate-800 border-t border-slate-700`,children:m(`button`,{onClick:f,disabled:n.isExporting,className:`w-full py-3 rounded font-medium transition-colors ${n.isExporting?`bg-gray-600 text-gray-400 cursor-not-allowed`:`bg-green-600 hover:bg-green-700 text-white`}`,children:n.isExporting?`Exporting...`:`Start Export`})})]})};var ee=U;const te=()=>{let[e,t]=l([{id:`1`,name:`Background`,type:`background`,visible:!0,locked:!1,opacity:100},{id:`2`,name:`Layer 1`,type:`normal`,visible:!0,locked:!1,opacity:85},{id:`3`,name:`Text Layer`,type:`text`,visible:!0,locked:!1,opacity:100},{id:`4`,name:`Adjustment Layer`,type:`adjustment`,visible:!1,locked:!1,opacity:75}]),[n,r]=l(`2`),[i,a]=l(`normal`),o=[`normal`,`multiply`,`screen`,`overlay`,`soft-light`,`hard-light`,`color-dodge`,`color-burn`,`darken`,`lighten`,`difference`,`exclusion`],s=e=>{switch(e){case`background`:return N.Layer;case`text`:return N.Type;case`adjustment`:return N.AdjustmentsHorizontal;case`shape`:return N.Shapes;case`smart-object`:return N.SmartObject;default:return N.Layer}},c=n=>{t(e.map(e=>e.id===n?{...e,visible:!e.visible}:e))},u=n=>{t(e.map(e=>e.id===n?{...e,locked:!e.locked}:e))},d=(n,r)=>{t(e.map(e=>e.id===n?{...e,opacity:r}:e))},f=()=>{let n={id:Date.now().toString(),name:`Layer ${e.length}`,type:`normal`,visible:!0,locked:!1,opacity:100};t([...e,n])},p=i=>{e.length>1&&(t(e.filter(e=>e.id!==i)),n===i&&r(e.find(e=>e.id!==i)?.id))};return h(`div`,{className:`h-full bg-gray-900 flex flex-col`,children:[h(`div`,{className:`h-10 bg-gray-800 border-b border-gray-700 flex items-center px-3`,children:[m(N.Layers,{className:`w-4 h-4 text-blue-400 mr-2`}),m(`span`,{className:`text-white text-sm font-medium`,children:`Layers`})]}),h(`div`,{className:`p-3 border-b border-gray-700`,children:[h(`div`,{className:`mb-2`,children:[m(`label`,{className:`text-xs text-gray-400 mb-1 block`,children:`Blend Mode`}),m(`select`,{value:i,onChange:e=>a(e.target.value),className:`w-full bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm text-white`,children:o.map(e=>m(`option`,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace(`-`,` `)},e))})]}),h(`div`,{children:[m(`label`,{className:`text-xs text-gray-400 mb-1 block`,children:`Opacity`}),h(`div`,{className:`flex items-center gap-2`,children:[m(`input`,{type:`range`,min:`0`,max:`100`,value:e.find(e=>e.id===n)?.opacity||100,onChange:e=>d(n,parseInt(e.target.value)),className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),h(`span`,{className:`text-xs text-gray-400 w-8`,children:[e.find(e=>e.id===n)?.opacity||100,`%`]})]})]})]}),m(`div`,{className:`flex-1 overflow-auto`,children:e.slice().reverse().map(e=>{let t=s(e.type);return h(`div`,{className:`flex items-center p-2 border-b border-gray-700 cursor-pointer hover:bg-gray-800 ${n===e.id?`bg-blue-600/20 border-blue-500`:``}`,onClick:()=>r(e.id),children:[m(`div`,{className:`w-12 h-12 bg-gray-700 border border-gray-600 rounded mr-2 flex items-center justify-center`,children:m(t,{className:`w-6 h-6 text-gray-400`})}),h(`div`,{className:`flex-1 min-w-0`,children:[m(`div`,{className:`text-sm text-white truncate`,children:e.name}),m(`div`,{className:`text-xs text-gray-400`,children:e.type})]}),h(`div`,{className:`flex items-center gap-1`,children:[m(`button`,{onClick:t=>{t.stopPropagation(),c(e.id)},className:`p-1 hover:bg-gray-700 rounded transition-colors`,title:e.visible?`Hide Layer`:`Show Layer`,children:e.visible?m(N.Eye,{className:`w-3 h-3 text-gray-300`}):m(N.EyeOff,{className:`w-3 h-3 text-gray-500`})}),m(`button`,{onClick:t=>{t.stopPropagation(),u(e.id)},className:`p-1 hover:bg-gray-700 rounded transition-colors`,title:e.locked?`Unlock Layer`:`Lock Layer`,children:e.locked?m(N.LockClosed,{className:`w-3 h-3 text-yellow-400`}):m(N.LockOpen,{className:`w-3 h-3 text-gray-500`})})]})]},e.id)})}),h(`div`,{className:`h-12 bg-gray-800 border-t border-gray-700 flex items-center px-3 gap-2`,children:[m(`button`,{onClick:f,className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`New Layer`,children:m(N.Plus,{className:`w-4 h-4`})}),m(`button`,{onClick:()=>p(n),className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Delete Layer`,children:m(N.Trash,{className:`w-4 h-4`})}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Duplicate Layer`,children:m(N.DocumentDuplicate,{className:`w-4 h-4`})}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Layer Effects`,children:m(N.Effects,{className:`w-4 h-4`})}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Layer Mask`,children:m(N.LayerMask,{className:`w-4 h-4`})})]})]})};var ne=te;const W=()=>{let[e,t]=l(`brightness-contrast`),[n,r]=l({brightness:0,contrast:0,exposure:0,highlights:0,shadows:0,whites:0,blacks:0,saturation:0,vibrance:0,hue:0,temperature:0,tint:0,clarity:0,dehaze:0,vignette:0}),i=[{id:`brightness-contrast`,name:`Brightness/Contrast`,icon:N.Sun},{id:`levels`,name:`Levels`,icon:N.ChartBar},{id:`curves`,name:`Curves`,icon:N.ChartLine},{id:`exposure`,name:`Exposure`,icon:N.Camera},{id:`vibrance`,name:`Vibrance`,icon:N.ColorSwatch},{id:`hue-saturation`,name:`Hue/Saturation`,icon:N.Palette},{id:`color-balance`,name:`Color Balance`,icon:N.Scale},{id:`photo-filter`,name:`Photo Filter`,icon:N.Filter},{id:`channel-mixer`,name:`Channel Mixer`,icon:N.Mixer},{id:`color-lookup`,name:`Color Lookup`,icon:N.Table},{id:`invert`,name:`Invert`,icon:N.Invert},{id:`posterize`,name:`Posterize`,icon:N.Layers},{id:`threshold`,name:`Threshold`,icon:N.Threshold},{id:`gradient-map`,name:`Gradient Map`,icon:N.Gradient}],a=(e,t)=>{r(n=>({...n,[e]:t}))},o=()=>{r({brightness:0,contrast:0,exposure:0,highlights:0,shadows:0,whites:0,blacks:0,saturation:0,vibrance:0,hue:0,temperature:0,tint:0,clarity:0,dehaze:0,vignette:0})},s=()=>{switch(e){case`brightness-contrast`:return h(`div`,{className:`space-y-4`,children:[h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Brightness`}),m(`span`,{className:`text-xs text-gray-400`,children:n.brightness})]}),m(`input`,{type:`range`,min:`-100`,max:`100`,value:n.brightness,onChange:e=>a(`brightness`,parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]}),h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Contrast`}),m(`span`,{className:`text-xs text-gray-400`,children:n.contrast})]}),m(`input`,{type:`range`,min:`-100`,max:`100`,value:n.contrast,onChange:e=>a(`contrast`,parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]})]});case`exposure`:return h(`div`,{className:`space-y-4`,children:[h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Exposure`}),m(`span`,{className:`text-xs text-gray-400`,children:n.exposure})]}),m(`input`,{type:`range`,min:`-5`,max:`5`,step:`0.1`,value:n.exposure,onChange:e=>a(`exposure`,parseFloat(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]}),h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Highlights`}),m(`span`,{className:`text-xs text-gray-400`,children:n.highlights})]}),m(`input`,{type:`range`,min:`-100`,max:`100`,value:n.highlights,onChange:e=>a(`highlights`,parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]}),h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Shadows`}),m(`span`,{className:`text-xs text-gray-400`,children:n.shadows})]}),m(`input`,{type:`range`,min:`-100`,max:`100`,value:n.shadows,onChange:e=>a(`shadows`,parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]})]});case`hue-saturation`:return h(`div`,{className:`space-y-4`,children:[h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Hue`}),h(`span`,{className:`text-xs text-gray-400`,children:[n.hue,`°`]})]}),m(`input`,{type:`range`,min:`-180`,max:`180`,value:n.hue,onChange:e=>a(`hue`,parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]}),h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Saturation`}),m(`span`,{className:`text-xs text-gray-400`,children:n.saturation})]}),m(`input`,{type:`range`,min:`-100`,max:`100`,value:n.saturation,onChange:e=>a(`saturation`,parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]}),h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Vibrance`}),m(`span`,{className:`text-xs text-gray-400`,children:n.vibrance})]}),m(`input`,{type:`range`,min:`-100`,max:`100`,value:n.vibrance,onChange:e=>a(`vibrance`,parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]})]});default:return h(`div`,{className:`text-center py-8`,children:[m(N.AdjustmentsHorizontal,{className:`w-12 h-12 text-gray-600 mx-auto mb-4`}),m(`div`,{className:`text-gray-500 text-sm`,children:`Select an adjustment type`})]})}};return h(`div`,{className:`h-full bg-gray-900 flex flex-col`,children:[h(`div`,{className:`h-10 bg-gray-800 border-b border-gray-700 flex items-center px-3`,children:[m(N.AdjustmentsHorizontal,{className:`w-4 h-4 text-purple-400 mr-2`}),m(`span`,{className:`text-white text-sm font-medium`,children:`Adjustments`})]}),m(`div`,{className:`border-b border-gray-700`,children:m(`div`,{className:`p-3`,children:m(`div`,{className:`grid grid-cols-2 gap-2`,children:i.map(n=>{let r=n.icon;return h(`button`,{onClick:()=>t(n.id),className:`p-2 rounded text-xs flex flex-col items-center gap-1 transition-colors ${e===n.id?`bg-purple-600 text-white`:`bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-gray-300`}`,children:[m(r,{className:`w-4 h-4`}),m(`span`,{className:`text-xs leading-tight text-center`,children:n.name})]},n.id)})})})}),m(`div`,{className:`flex-1 overflow-auto`,children:m(`div`,{className:`p-4`,children:s()})}),h(`div`,{className:`h-12 bg-gray-800 border-t border-gray-700 flex items-center px-3 gap-2`,children:[m(`button`,{onClick:o,className:`px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-xs rounded transition-colors`,children:`Reset`}),m(`button`,{className:`px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-xs rounded transition-colors`,children:`Auto`}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300 ml-auto`,title:`Save Preset`,children:m(N.Save,{className:`w-4 h-4`})}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Load Preset`,children:m(N.Upload,{className:`w-4 h-4`})})]})]})};var re=W;const G=()=>{let[e,t]=l([{id:`1`,name:`Open`,action:`open`,time:`10:32 AM`,current:!1},{id:`2`,name:`Crop`,action:`crop`,time:`10:33 AM`,current:!1},{id:`3`,name:`Brightness/Contrast`,action:`adjustment`,time:`10:34 AM`,current:!1},{id:`4`,name:`Brush Tool`,action:`paint`,time:`10:35 AM`,current:!1},{id:`5`,name:`Gaussian Blur`,action:`filter`,time:`10:36 AM`,current:!1},{id:`6`,name:`Color Balance`,action:`adjustment`,time:`10:37 AM`,current:!0},{id:`7`,name:`Healing Brush`,action:`healing`,time:`10:38 AM`,current:!1}]),[n,r]=l(`6`),[i,a]=l(!1),o=[{id:`s1`,name:`Before Retouching`,time:`10:30 AM`,thumbnail:null},{id:`s2`,name:`After Color Correction`,time:`10:35 AM`,thumbnail:null},{id:`s3`,name:`Final Edit`,time:`10:40 AM`,thumbnail:null}],s=e=>{switch(e){case`open`:return N.Upload;case`crop`:return N.Crop;case`adjustment`:return N.AdjustmentsHorizontal;case`paint`:return N.PaintBrush;case`filter`:return N.Filter;case`healing`:return N.Healing;case`selection`:return N.Rectangle;case`text`:return N.Type;case`transform`:return N.Move;default:return N.Photo}},c=e=>{r(e),t(t=>t.map(t=>({...t,current:t.id===e})))},u=i=>{if(e.length>1&&(t(e=>e.filter(e=>e.id!==i)),n===i)){let t=e.filter(e=>e.id!==i);t.length>0&&r(t[t.length-1].id)}},d=()=>{let r=e.find(e=>e.id===n);r&&t([r])},f=()=>{`${Date.now()}`,`${o.length+1}`,new Date().toLocaleTimeString([],{hour:`2-digit`,minute:`2-digit`})};return h(`div`,{className:`h-full bg-gray-900 flex flex-col`,children:[h(`div`,{className:`h-10 bg-gray-800 border-b border-gray-700 flex items-center px-3`,children:[m(N.Clock,{className:`w-4 h-4 text-green-400 mr-2`}),m(`span`,{className:`text-white text-sm font-medium`,children:`History`}),m(`div`,{className:`ml-auto flex items-center gap-1`,children:m(`button`,{onClick:()=>a(!i),className:`p-1 rounded transition-colors ${i?`bg-green-600 text-white`:`text-gray-400 hover:text-gray-300`}`,title:`Show Snapshots`,children:m(N.Camera,{className:`w-3 h-3`})})})]}),m(`div`,{className:`border-b border-gray-700`,children:h(`div`,{className:`flex`,children:[m(`button`,{onClick:()=>a(!1),className:`flex-1 px-3 py-2 text-sm transition-colors ${i?`text-gray-400 hover:text-gray-300`:`bg-gray-700 text-white border-b-2 border-green-500`}`,children:`History States`}),m(`button`,{onClick:()=>a(!0),className:`flex-1 px-3 py-2 text-sm transition-colors ${i?`bg-gray-700 text-white border-b-2 border-green-500`:`text-gray-400 hover:text-gray-300`}`,children:`Snapshots`})]})}),m(`div`,{className:`flex-1 overflow-auto`,children:i?m(`div`,{className:`p-2`,children:o.length===0?h(`div`,{className:`text-center py-8`,children:[m(N.Camera,{className:`w-12 h-12 text-gray-600 mx-auto mb-4`}),m(`div`,{className:`text-gray-500 text-sm mb-2`,children:`No snapshots created`}),m(`button`,{onClick:f,className:`px-3 py-1.5 bg-green-600 hover:bg-green-700 text-white text-sm rounded transition-colors`,children:`Create Snapshot`})]}):o.map(e=>h(`div`,{className:`flex items-center p-2 rounded hover:bg-gray-800 cursor-pointer group`,children:[m(`div`,{className:`w-12 h-12 bg-gray-700 border border-gray-600 rounded mr-2 flex items-center justify-center`,children:m(N.Photo,{className:`w-6 h-6 text-gray-400`})}),h(`div`,{className:`flex-1 min-w-0`,children:[m(`div`,{className:`text-sm text-gray-300 truncate`,children:e.name}),m(`div`,{className:`text-xs text-gray-500`,children:e.time})]}),h(`div`,{className:`opacity-0 group-hover:opacity-100 flex items-center gap-1 transition-opacity`,children:[m(`button`,{className:`p-1 hover:bg-gray-700 rounded transition-colors`,title:`Rename`,children:m(N.Pencil,{className:`w-3 h-3 text-gray-400`})}),m(`button`,{className:`p-1 hover:bg-gray-700 rounded transition-colors`,title:`Delete`,children:m(N.Trash,{className:`w-3 h-3 text-gray-400`})})]})]},e.id))}):m(`div`,{className:`p-2`,children:e.map((t,r)=>{let i=s(t.action),a=t.id===n,o=e.findIndex(e=>e.id===n)<r;return h(`div`,{className:`flex items-center p-2 rounded cursor-pointer group transition-colors ${a?`bg-green-600/20 border border-green-500`:o?`opacity-50 hover:opacity-75`:`hover:bg-gray-800`}`,onClick:()=>c(t.id),children:[m(`div`,{className:`w-8 h-8 bg-gray-700 border border-gray-600 rounded mr-2 flex items-center justify-center`,children:m(i,{className:`w-4 h-4 ${a?`text-green-400`:`text-gray-400`}`})}),h(`div`,{className:`flex-1 min-w-0`,children:[m(`div`,{className:`text-sm truncate ${a?`text-white font-medium`:`text-gray-300`}`,children:t.name}),m(`div`,{className:`text-xs text-gray-500`,children:t.time})]}),m(`button`,{onClick:e=>{e.stopPropagation(),u(t.id)},className:`opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-700 rounded transition-all`,title:`Delete State`,children:m(N.XMark,{className:`w-3 h-3 text-gray-400`})})]},t.id)})})}),m(`div`,{className:`h-12 bg-gray-800 border-t border-gray-700 flex items-center px-3 gap-2`,children:i?h(p,{children:[m(`button`,{onClick:f,className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`New Snapshot`,children:m(N.Camera,{className:`w-4 h-4`})}),h(`span`,{className:`text-xs text-gray-500 ml-auto`,children:[o.length,` snapshots`]})]}):h(p,{children:[m(`button`,{onClick:d,className:`px-3 py-1.5 bg-gray-700 hover:bg-gray-600 text-white text-xs rounded transition-colors`,title:`Clear History`,children:`Clear`}),h(`span`,{className:`text-xs text-gray-500 ml-auto`,children:[e.length,` states`]})]})})]})};var ie=G;const K=()=>{let[e,t]=l(`#000000`),[n,r]=l(`#ffffff`),[i,a]=l(`rgb`),[o,s]=l([`#ff0000`,`#00ff00`,`#0000ff`,`#ffff00`,`#ff00ff`,`#00ffff`,`#800000`,`#008000`,`#000080`,`#808000`,`#800080`,`#008080`]),c=[`rgb`,`hsb`,`lab`,`cmyk`],[u,d]=l({r:0,g:0,b:0}),[f,p]=l({h:0,s:0,b:0}),[g,_]=l({c:0,m:0,y:0,k:100}),v=[[`#000000`,`#333333`,`#666666`,`#999999`,`#cccccc`,`#ffffff`],[`#ff0000`,`#ff6600`,`#ffcc00`,`#66ff00`,`#00ff66`,`#00ffcc`],[`#0066ff`,`#6600ff`,`#cc00ff`,`#ff0066`,`#ff3300`,`#ff9900`],[`#ffff00`,`#ccff00`,`#66ff66`,`#00ffff`,`#0099ff`,`#3366ff`],[`#9933ff`,`#ff33cc`,`#ff6699`,`#ff9966`,`#ffcc33`,`#ccff33`]],y=(e,n=!1)=>{n?r(e):(t(e),o.includes(e)||s(t=>[e,...t.slice(0,11)]),b(e))},b=e=>{let t=e.replace(`#`,``),n=parseInt(t.substr(0,2),16),r=parseInt(t.substr(2,2),16),i=parseInt(t.substr(4,2),16);d({r:n,g:r,b:i});let a=Math.max(n,r,i),o=Math.min(n,r,i),s=a-o,c=0;s!==0&&(c=a===n?(r-i)/s%6:a===r?(i-n)/s+2:(n-r)/s+4),c=Math.round(c*60),c<0&&(c+=360);let l=Math.round(a===0?0:s/a*100),u=Math.round(a/255*100);p({h:c,s:l,b:u});let f=Math.round((1-a/255)*100),m=a===0?0:Math.round((1-n/255-f/100)/(1-f/100)*100),h=a===0?0:Math.round((1-r/255-f/100)/(1-f/100)*100),g=a===0?0:Math.round((1-i/255-f/100)/(1-f/100)*100);_({c:m||0,m:h||0,y:g||0,k:f})},x=()=>{let i=e;t(n),r(i),b(n)},S=()=>{t(`#000000`),r(`#ffffff`),b(`#000000`)},C=()=>{switch(i){case`rgb`:return h(`div`,{className:`space-y-2`,children:[h(`div`,{className:`flex items-center gap-2`,children:[m(`span`,{className:`text-xs text-red-400 w-4`,children:`R`}),m(`input`,{type:`range`,min:`0`,max:`255`,value:u.r,onChange:e=>{let n=parseInt(e.target.value);d(e=>({...e,r:n}));let r=`#${n.toString(16).padStart(2,`0`)}${u.g.toString(16).padStart(2,`0`)}${u.b.toString(16).padStart(2,`0`)}`;t(r)},className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),m(`span`,{className:`text-xs text-gray-400 w-8`,children:u.r})]}),h(`div`,{className:`flex items-center gap-2`,children:[m(`span`,{className:`text-xs text-green-400 w-4`,children:`G`}),m(`input`,{type:`range`,min:`0`,max:`255`,value:u.g,onChange:e=>{let n=parseInt(e.target.value);d(e=>({...e,g:n}));let r=`#${u.r.toString(16).padStart(2,`0`)}${n.toString(16).padStart(2,`0`)}${u.b.toString(16).padStart(2,`0`)}`;t(r)},className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),m(`span`,{className:`text-xs text-gray-400 w-8`,children:u.g})]}),h(`div`,{className:`flex items-center gap-2`,children:[m(`span`,{className:`text-xs text-blue-400 w-4`,children:`B`}),m(`input`,{type:`range`,min:`0`,max:`255`,value:u.b,onChange:e=>{let n=parseInt(e.target.value);d(e=>({...e,b:n}));let r=`#${u.r.toString(16).padStart(2,`0`)}${u.g.toString(16).padStart(2,`0`)}${n.toString(16).padStart(2,`0`)}`;t(r)},className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),m(`span`,{className:`text-xs text-gray-400 w-8`,children:u.b})]})]});case`hsb`:return h(`div`,{className:`space-y-2`,children:[h(`div`,{className:`flex items-center gap-2`,children:[m(`span`,{className:`text-xs text-purple-400 w-4`,children:`H`}),m(`input`,{type:`range`,min:`0`,max:`360`,value:f.h,className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),h(`span`,{className:`text-xs text-gray-400 w-8`,children:[f.h,`°`]})]}),h(`div`,{className:`flex items-center gap-2`,children:[m(`span`,{className:`text-xs text-yellow-400 w-4`,children:`S`}),m(`input`,{type:`range`,min:`0`,max:`100`,value:f.s,className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),h(`span`,{className:`text-xs text-gray-400 w-8`,children:[f.s,`%`]})]}),h(`div`,{className:`flex items-center gap-2`,children:[m(`span`,{className:`text-xs text-gray-400 w-4`,children:`B`}),m(`input`,{type:`range`,min:`0`,max:`100`,value:f.b,className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),h(`span`,{className:`text-xs text-gray-400 w-8`,children:[f.b,`%`]})]})]});case`cmyk`:return h(`div`,{className:`space-y-2`,children:[h(`div`,{className:`flex items-center gap-2`,children:[m(`span`,{className:`text-xs text-cyan-400 w-4`,children:`C`}),m(`input`,{type:`range`,min:`0`,max:`100`,value:g.c,className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),h(`span`,{className:`text-xs text-gray-400 w-8`,children:[g.c,`%`]})]}),h(`div`,{className:`flex items-center gap-2`,children:[m(`span`,{className:`text-xs text-pink-400 w-4`,children:`M`}),m(`input`,{type:`range`,min:`0`,max:`100`,value:g.m,className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),h(`span`,{className:`text-xs text-gray-400 w-8`,children:[g.m,`%`]})]}),h(`div`,{className:`flex items-center gap-2`,children:[m(`span`,{className:`text-xs text-yellow-400 w-4`,children:`Y`}),m(`input`,{type:`range`,min:`0`,max:`100`,value:g.y,className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),h(`span`,{className:`text-xs text-gray-400 w-8`,children:[g.y,`%`]})]}),h(`div`,{className:`flex items-center gap-2`,children:[m(`span`,{className:`text-xs text-gray-400 w-4`,children:`K`}),m(`input`,{type:`range`,min:`0`,max:`100`,value:g.k,className:`flex-1 h-1 bg-gray-600 rounded appearance-none slider`}),h(`span`,{className:`text-xs text-gray-400 w-8`,children:[g.k,`%`]})]})]});default:return m(`div`,{className:`text-gray-500 text-sm`,children:`Mode not implemented`})}};return h(`div`,{className:`h-full bg-gray-900 flex flex-col`,children:[h(`div`,{className:`h-10 bg-gray-800 border-b border-gray-700 flex items-center px-3`,children:[m(N.Palette,{className:`w-4 h-4 text-pink-400 mr-2`}),m(`span`,{className:`text-white text-sm font-medium`,children:`Color`})]}),h(`div`,{className:`p-4 border-b border-gray-700`,children:[h(`div`,{className:`relative w-16 h-16 mx-auto`,children:[m(`div`,{className:`absolute bottom-0 right-0 w-12 h-12 border-2 border-gray-600 cursor-pointer`,style:{backgroundColor:n},onClick:()=>y(n,!0)}),m(`div`,{className:`absolute top-0 left-0 w-12 h-12 border-2 border-gray-600 cursor-pointer`,style:{backgroundColor:e},onClick:()=>y(e,!1)}),m(`button`,{onClick:x,className:`absolute -top-1 -right-1 w-4 h-4 bg-gray-700 border border-gray-600 rounded flex items-center justify-center hover:bg-gray-600 transition-colors`,title:`Swap Colors`,children:m(N.ArrowsRightLeft,{className:`w-2 h-2 text-gray-400`})}),m(`button`,{onClick:S,className:`absolute -bottom-1 -left-1 w-4 h-4 bg-gray-700 border border-gray-600 rounded flex items-center justify-center hover:bg-gray-600 transition-colors`,title:`Default Colors`,children:m(N.Square,{className:`w-2 h-2 text-gray-400`})})]}),m(`div`,{className:`mt-4`,children:m(`input`,{type:`text`,value:e,onChange:e=>y(e.target.value),className:`w-full bg-gray-800 border border-gray-600 rounded px-2 py-1 text-sm text-white text-center`,placeholder:`#000000`})})]}),m(`div`,{className:`border-b border-gray-700`,children:m(`div`,{className:`flex`,children:c.map(e=>m(`button`,{onClick:()=>a(e),className:`flex-1 px-3 py-2 text-xs transition-colors ${i===e?`bg-gray-700 text-white border-b-2 border-pink-500`:`text-gray-400 hover:text-gray-300`}`,children:e.toUpperCase()},e))})}),m(`div`,{className:`p-4 border-b border-gray-700`,children:C()}),m(`div`,{className:`flex-1 overflow-auto`,children:h(`div`,{className:`p-4`,children:[h(`div`,{className:`mb-4`,children:[m(`h4`,{className:`text-sm text-gray-300 mb-2`,children:`Color Swatches`}),m(`div`,{className:`grid grid-cols-6 gap-1`,children:v.flat().map((e,t)=>m(`button`,{className:`w-6 h-6 rounded border border-gray-600 hover:border-gray-400 transition-colors`,style:{backgroundColor:e},onClick:()=>y(e),title:e},t))})]}),h(`div`,{children:[m(`h4`,{className:`text-sm text-gray-300 mb-2`,children:`Recent Colors`}),m(`div`,{className:`grid grid-cols-6 gap-1`,children:o.map((e,t)=>m(`button`,{className:`w-6 h-6 rounded border border-gray-600 hover:border-gray-400 transition-colors`,style:{backgroundColor:e},onClick:()=>y(e),title:e},t))})]})]})}),h(`div`,{className:`h-12 bg-gray-800 border-t border-gray-700 flex items-center px-3 gap-2`,children:[m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Add to Swatches`,children:m(N.Plus,{className:`w-4 h-4`})}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Color Picker`,children:m(N.EyeDropper,{className:`w-4 h-4`})}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Load Swatches`,children:m(N.Upload,{className:`w-4 h-4`})}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Save Swatches`,children:m(N.Save,{className:`w-4 h-4`})})]})]})};var q=K;const ae=()=>{let[e,t]=l(`1`),[n,r]=l(50),[i,a]=l(100),[o,s]=l(100),[c,u]=l(100),[d,f]=l(25),[p,g]=l(`brushes`),_=[{id:`1`,name:`Hard Round`,type:`round`,hardness:100,preview:`●`},{id:`2`,name:`Soft Round`,type:`round`,hardness:0,preview:`○`},{id:`3`,name:`Hard Square`,type:`square`,hardness:100,preview:`■`},{id:`4`,name:`Soft Square`,type:`square`,hardness:0,preview:`□`},{id:`5`,name:`Textured 1`,type:`texture`,hardness:80,preview:`⬢`},{id:`6`,name:`Textured 2`,type:`texture`,hardness:60,preview:`※`},{id:`7`,name:`Scattered`,type:`scatter`,hardness:90,preview:`✦`},{id:`8`,name:`Grunge`,type:`grunge`,hardness:70,preview:`⚹`},{id:`9`,name:`Watercolor`,type:`watercolor`,hardness:20,preview:`🎨`},{id:`10`,name:`Oil Paint`,type:`oil`,hardness:40,preview:`🖌️`},{id:`11`,name:`Chalk`,type:`chalk`,hardness:30,preview:`✏️`},{id:`12`,name:`Charcoal`,type:`charcoal`,hardness:50,preview:`🖊️`}],v=[{id:`t1`,name:`Round`,shape:`round`},{id:`t2`,name:`Square`,shape:`square`},{id:`t3`,name:`Diamond`,shape:`diamond`},{id:`t4`,name:`Triangle`,shape:`triangle`},{id:`t5`,name:`Star`,shape:`star`},{id:`t6`,name:`Cross`,shape:`cross`}],y=[{id:`size`,name:`Size Jitter`,enabled:!1,value:0},{id:`opacity`,name:`Opacity Jitter`,enabled:!1,value:0},{id:`angle`,name:`Angle Jitter`,enabled:!1,value:0},{id:`roundness`,name:`Roundness Jitter`,enabled:!1,value:0},{id:`scatter`,name:`Scatter`,enabled:!1,value:0}],[b,x]=l(y),S=e=>{t(e);let n=_.find(t=>t.id===e);n&&a(n.hardness)},C=e=>{x(t=>t.map(t=>t.id===e?{...t,enabled:!t.enabled}:t))},w=(e,t)=>{x(n=>n.map(n=>n.id===e?{...n,value:t}:n))},T=()=>{let e=Math.max(2,Math.min(n,100));return m(`div`,{className:`bg-white rounded-full border border-gray-600 mx-auto`,style:{width:`${e}px`,height:`${e}px`,opacity:i/100}})};return h(`div`,{className:`h-full bg-gray-900 flex flex-col`,children:[h(`div`,{className:`h-10 bg-gray-800 border-b border-gray-700 flex items-center px-3`,children:[m(N.PaintBrush,{className:`w-4 h-4 text-red-400 mr-2`}),m(`span`,{className:`text-white text-sm font-medium`,children:`Brushes`})]}),m(`div`,{className:`border-b border-gray-700`,children:h(`div`,{className:`flex`,children:[m(`button`,{onClick:()=>g(`brushes`),className:`flex-1 px-3 py-2 text-sm transition-colors ${p===`brushes`?`bg-gray-700 text-white border-b-2 border-red-500`:`text-gray-400 hover:text-gray-300`}`,children:`Brush Presets`}),m(`button`,{onClick:()=>g(`tips`),className:`flex-1 px-3 py-2 text-sm transition-colors ${p===`tips`?`bg-gray-700 text-white border-b-2 border-red-500`:`text-gray-400 hover:text-gray-300`}`,children:`Brush Tip`}),m(`button`,{onClick:()=>g(`dynamics`),className:`flex-1 px-3 py-2 text-sm transition-colors ${p===`dynamics`?`bg-gray-700 text-white border-b-2 border-red-500`:`text-gray-400 hover:text-gray-300`}`,children:`Dynamics`})]})}),h(`div`,{className:`p-4 border-b border-gray-700 text-center`,children:[m(`div`,{className:`w-20 h-20 bg-gray-800 border border-gray-600 rounded mx-auto mb-2 flex items-center justify-center`,children:T()}),m(`div`,{className:`text-xs text-gray-400`,children:_.find(t=>t.id===e)?.name||`Custom Brush`})]}),h(`div`,{className:`p-4 border-b border-gray-700 space-y-4`,children:[h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Size`}),h(`span`,{className:`text-xs text-gray-400`,children:[n,`px`]})]}),m(`input`,{type:`range`,min:`1`,max:`2500`,value:n,onChange:e=>r(parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]}),h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Hardness`}),h(`span`,{className:`text-xs text-gray-400`,children:[i,`%`]})]}),m(`input`,{type:`range`,min:`0`,max:`100`,value:i,onChange:e=>a(parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]}),h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Opacity`}),h(`span`,{className:`text-xs text-gray-400`,children:[o,`%`]})]}),m(`input`,{type:`range`,min:`1`,max:`100`,value:o,onChange:e=>s(parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]}),h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Flow`}),h(`span`,{className:`text-xs text-gray-400`,children:[c,`%`]})]}),m(`input`,{type:`range`,min:`1`,max:`100`,value:c,onChange:e=>u(parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]})]}),h(`div`,{className:`flex-1 overflow-auto`,children:[p===`brushes`&&m(`div`,{className:`p-2`,children:m(`div`,{className:`grid grid-cols-2 gap-2`,children:_.map(t=>h(`button`,{onClick:()=>S(t.id),className:`p-3 rounded border transition-colors text-center ${e===t.id?`bg-red-600/20 border-red-500`:`bg-gray-800 border-gray-600 hover:border-gray-500`}`,children:[m(`div`,{className:`text-2xl mb-1`,children:t.preview}),m(`div`,{className:`text-xs text-gray-300 truncate`,children:t.name}),m(`div`,{className:`text-xs text-gray-500`,children:t.type})]},t.id))})}),p===`tips`&&h(`div`,{className:`p-4 space-y-4`,children:[h(`div`,{children:[m(`label`,{className:`text-sm text-gray-300 mb-2 block`,children:`Brush Tip Shape`}),m(`div`,{className:`grid grid-cols-3 gap-2`,children:v.map(e=>m(`button`,{className:`p-3 bg-gray-800 border border-gray-600 rounded hover:border-gray-500 transition-colors text-center`,children:m(`div`,{className:`text-sm text-gray-300`,children:e.name})},e.id))})]}),h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`label`,{className:`text-sm text-gray-300`,children:`Spacing`}),h(`span`,{className:`text-xs text-gray-400`,children:[d,`%`]})]}),m(`input`,{type:`range`,min:`1`,max:`1000`,value:d,onChange:e=>f(parseInt(e.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]}),h(`div`,{className:`space-y-2`,children:[h(`label`,{className:`flex items-center gap-2`,children:[m(`input`,{type:`checkbox`,className:`rounded`}),m(`span`,{className:`text-sm text-gray-300`,children:`Flip X`})]}),h(`label`,{className:`flex items-center gap-2`,children:[m(`input`,{type:`checkbox`,className:`rounded`}),m(`span`,{className:`text-sm text-gray-300`,children:`Flip Y`})]})]})]}),p===`dynamics`&&m(`div`,{className:`p-4`,children:m(`div`,{className:`space-y-3`,children:b.map(e=>h(`div`,{className:`bg-gray-800 rounded p-3`,children:[h(`label`,{className:`flex items-center gap-2 mb-2`,children:[m(`input`,{type:`checkbox`,checked:e.enabled,onChange:()=>C(e.id),className:`rounded`}),m(`span`,{className:`text-sm text-gray-300`,children:e.name})]}),e.enabled&&h(`div`,{children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`span`,{className:`text-xs text-gray-400`,children:`Amount`}),h(`span`,{className:`text-xs text-gray-400`,children:[e.value,`%`]})]}),m(`input`,{type:`range`,min:`0`,max:`100`,value:e.value,onChange:t=>w(e.id,parseInt(t.target.value)),className:`w-full h-1 bg-gray-600 rounded appearance-none slider`})]})]},e.id))})})]}),h(`div`,{className:`h-12 bg-gray-800 border-t border-gray-700 flex items-center px-3 gap-2`,children:[m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`New Brush`,children:m(N.Plus,{className:`w-4 h-4`})}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Delete Brush`,children:m(N.Trash,{className:`w-4 h-4`})}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Load Brushes`,children:m(N.Upload,{className:`w-4 h-4`})}),m(`button`,{className:`p-1.5 hover:bg-gray-700 rounded transition-colors text-gray-300`,title:`Save Brushes`,children:m(N.Save,{className:`w-4 h-4`})})]})]})};var oe=ae;function J({selectedObject:e,onObjectSelect:t,isOpen:n,onToggle:r,selectedTool:i,onToolSelect:a,onContextMenu:u}){let[d,g]=l([`scene`]),_=f(D.editor.ui),{scenePropertiesHeight:v}=_,{setScenePropertiesHeight:y}=k.editor,[b,x]=l(!1),[S,C]=l(!1),[w,T]=l(.5),[E,O]=l(.5),[A,j]=l(1),[M,P]=l(.5),[F,I]=l({isDragging:!1,draggedItem:null,dragOverItem:null,dropPosition:null,dragStartDepth:0}),L=f(D.editor.settings),R=D.editor.babylonScene,{grid:z,viewport:V}=L,{setSelectedEntity:U,setTransformMode:te,updateGridSettings:W,updateViewportSettings:G}=k.editor,K=s(()=>{if(!e)return null;let t=R?.current;if(!t)return null;let n=[];return t.meshes&&t.meshes.forEach(t=>{(t.uniqueId||t.name)===e&&n.push({id:t.uniqueId||t.name,name:t.name,type:`mesh`,position:t.position?[t.position.x,t.position.y,t.position.z]:[0,0,0],rotation:t.rotation?[t.rotation.x,t.rotation.y,t.rotation.z]:[0,0,0],scale:t.scaling?[t.scaling.x,t.scaling.y,t.scaling.z]:[1,1,1],visible:t.isVisible!==!1,babylonObject:t})}),t.lights&&t.lights.forEach(t=>{(t.uniqueId||t.name)===e&&n.push({id:t.uniqueId||t.name,name:t.name,type:`light`,lightType:t.getClassName().toLowerCase().replace(`light`,``),position:t.position?[t.position.x,t.position.y,t.position.z]:[0,0,0],rotation:t.rotation?[t.rotation.x,t.rotation.y,t.rotation.z]:[0,0,0],visible:t.isEnabled(),intensity:t.intensity||1,color:t.diffuse?`rgb(${Math.round(t.diffuse.r*255)}, ${Math.round(t.diffuse.g*255)}, ${Math.round(t.diffuse.b*255)})`:`#ffffff`,castShadow:t.shadowEnabled||!1,babylonObject:t})}),t.cameras&&t.cameras.forEach(t=>{(t.uniqueId||t.name)===e&&n.push({id:t.uniqueId||t.name,name:t.name,type:`camera`,position:t.position?[t.position.x,t.position.y,t.position.z]:[0,0,0],rotation:t.rotation?[t.rotation.x,t.rotation.y,t.rotation.z]:[0,0,0],cameraType:t.getClassName().toLowerCase().replace(`camera`,``),fov:t.fov?t.fov*180/Math.PI:60,near:t.minZ||.1,far:t.maxZ||1e3,visible:!0,babylonObject:t})}),n.length>0?n[0]:null},[e,R]),ae=(t,n)=>{n.stopPropagation();let r=R?.current;if(!r)return;let i=null;r.meshes&&(i=r.meshes.find(e=>(e.uniqueId||e.name)===t)),!i&&r.lights&&(i=r.lights.find(e=>(e.uniqueId||e.name)===t)),!i&&r.cameras&&(i=r.cameras.find(e=>(e.uniqueId||e.name)===t)),!i&&r.transformNodes&&(i=r.transformNodes.find(e=>(e.uniqueId||e.name)===t)),i&&i.dispose(),e===t&&(U(null),te(`select`))},J=(e,t,n)=>{if(!K?.babylonObject)return;let r=parseFloat(n)||0,i=K.babylonObject;e===`position`&&i.position?t===`x`?i.position.x=r:t===`y`?i.position.y=r:t===`z`&&(i.position.z=r):e===`rotation`&&i.rotation?t===`x`?i.rotation.x=r:t===`y`?i.rotation.y=r:t===`z`&&(i.rotation.z=r):e===`scale`&&i.scaling&&(t===`x`?i.scaling.x=r:t===`y`?i.scaling.y=r:t===`z`&&(i.scaling.z=r))},se=t=>{K&&updateSceneObject(e,{material:{...K.material,color:t}})},Y=e=>{let t=e.match(/hsl\((\d+),\s*(\d+)%,\s*(\d+)%\)/);if(!t)return`#ff0000`;let n=parseInt(t[1])/360,r=parseInt(t[2])/100,i=parseInt(t[3])/100,a=(e,t,n)=>(n<0&&(n+=1),n>1&&--n,n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e),o,s,c;if(r===0)o=s=c=i;else{let e=i<.5?i*(1+r):i+r-i*r,t=2*i-e;o=a(t,e,n+1/3),s=a(t,e,n),c=a(t,e,n-1/3)}let l=e=>{let t=Math.round(e*255).toString(16);return t.length===1?`0`+t:t};return`#${l(o)}${l(s)}${l(c)}`},ce=()=>{if(!K?.material?.color)return`#ff0000`;let e=K.material.color;return typeof e==`string`&&e.startsWith(`#`)?e:typeof e==`string`&&e.startsWith(`hsl`)?Y(e):e||`#ff0000`},[le,ue]=l(0);o(()=>{let e=setInterval(()=>{let e=R?.current;e&&e.meshes&&ue(e=>e+1)},1e3);return()=>clearInterval(e)},[R]);let X=s(()=>{let e=R?.current;if(!e)return[{id:`scene`,name:`Scene`,type:`scene`,visible:!0,children:[]}];let t=[];return e.meshes&&e.meshes.forEach(e=>{e.name&&e.name!==`__root__`&&t.push({id:e.uniqueId||e.name,name:e.name,type:`mesh`,visible:e.isVisible!==!1,babylonObject:e,children:[]})}),e.lights&&e.lights.forEach(e=>{e.name&&!e.name.startsWith(`Default`)&&t.push({id:e.uniqueId||e.name,name:e.name,type:`light`,lightType:e.getClassName().toLowerCase().replace(`light`,``),visible:e.isEnabled(),babylonObject:e,children:[]})}),e.cameras&&e.cameras.forEach(e=>{e.name&&e.name!==`camera`&&t.push({id:e.uniqueId||e.name,name:e.name,type:`camera`,visible:!0,babylonObject:e,children:[]})}),e.transformNodes&&e.transformNodes.forEach(e=>{e.name&&e.name!==`__root__`&&t.push({id:e.uniqueId||e.name,name:e.name,type:`transform`,visible:!0,babylonObject:e,children:[]})}),[{id:`scene`,name:`Scene`,type:`scene`,visible:!0,children:t}]},[R,le]),de=c(null),fe=c(null),pe=e=>{x(!0)};o(()=>{let e=()=>x(!1),t=e=>{if(b){let t=de.current,n=fe.current;if(t&&n){let r=t.getBoundingClientRect().bottom,i=n.offsetHeight,a=r-e.clientY,o=100,s=50,c=t.clientHeight-i-s;a=Math.max(o,a),a=Math.min(c,a),y(a)}}};return b?(document.body.style.cursor=`row-resize`,document.addEventListener(`mousemove`,t),document.addEventListener(`mouseup`,e)):document.body.style.cursor=`default`,()=>{document.body.style.cursor=`default`,document.removeEventListener(`mousemove`,t),document.removeEventListener(`mouseup`,e)}},[b]);let Z=e=>{g(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},me=(e,t,n)=>{e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/html`,``),I({isDragging:!0,draggedItem:t,dragOverItem:null,dropPosition:null,dragStartDepth:n})},he=(e,t,n)=>{let r=e.currentTarget.getBoundingClientRect(),i=e.clientY-r.top,a=r.height,o=a/3;return i<o?`above`:i>a-o&&t.children&&t.children.length>0?`inside`:i>a-o?`below`:`inside`},Q=(e,t,n)=>{if(e.preventDefault(),e.dataTransfer.dropEffect=`move`,F.draggedItem&&F.draggedItem.id!==t.id){if(_e(F.draggedItem,t))return;let r=he(e,t,n);I(e=>({...e,dragOverItem:t,dropPosition:r}))}},ge=e=>{let t=e.currentTarget.getBoundingClientRect(),{clientX:n,clientY:r}=e;(n<t.left||n>t.right||r<t.top||r>t.bottom)&&I(e=>({...e,dragOverItem:null,dropPosition:null}))},_e=(e,t)=>{if(!e.children)return!1;for(let n of e.children)if(n.id===t.id||_e(n,t))return!0;return!1},ve=(e,t)=>e.reduce((e,n)=>{if(n.id===t)return e;let r={...n};return n.children&&(r.children=ve(n.children,t)),e.push(r),e},[]),ye=(e,t,n,r)=>e.map(e=>{if(e.id===t){let t={...e};return r===`inside`&&(t.children=[...e.children||[],n]),t}if(e.children){let i=ye(e.children,t,n,r);return{...e,children:i}}return e}),be=(e,t,n,r)=>{for(let i=0;i<e.length;i++){if(e[i].id===t){let t=[...e],a=r===`before`?i:i+1;return t.splice(a,0,n),t}if(e[i].children){let a=be(e[i].children,t,n,r);if(a!==e[i].children){let t=[...e];return t[i]={...e[i],children:a},t}}}return e},xe=(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!F.draggedItem||!F.dropPosition){Se();return}if(F.draggedItem.id===t.id||_e(F.draggedItem,t)){Se();return}console.log(`Drag and drop not yet implemented for Babylon.js scene objects`),Se()},Se=()=>{I({isDragging:!1,draggedItem:null,dragOverItem:null,dropPosition:null,dragStartDepth:0})},Ce=()=>{Se()},we=(e,t)=>{switch(e){case`character`:return m(N.Character,{className:`w-4 h-4 text-blue-400`});case`terrain`:return m(N.Terrain,{className:`w-4 h-4 text-green-400`});case`model`:return m(N.Cube,{className:`w-4 h-4 text-gray-400`});case`mesh`:return m(N.Cube3D,{className:`w-4 h-4 text-blue-400`});case`transform`:return m(N.Cube,{className:`w-4 h-4 text-purple-400`});case`light`:switch(t){case`directional`:return m(N.LightDirectional,{className:`w-4 h-4 text-yellow-400`});case`point`:return m(N.LightPoint,{className:`w-4 h-4 text-yellow-400`});case`spot`:return m(N.LightSpot,{className:`w-4 h-4 text-yellow-400`});case`hemispheric`:return m(N.LightBulb,{className:`w-4 h-4 text-yellow-400`});default:return m(N.LightBulb,{className:`w-4 h-4 text-yellow-400`})}case`camera`:return m(N.CameraScene,{className:`w-4 h-4 text-green-400`});case`folder`:return m(N.Folder,{className:`w-4 h-4 text-yellow-500`});case`scene`:return m(N.Cube,{className:`w-4 h-4 text-gray-300`});default:return m(N.Cube,{className:`w-4 h-4 text-gray-400`})}},Te=(n,r=0)=>{let i=n.children&&n.children.length>0,a=d.includes(n.id),o=e===n.id;return h(`div`,{className:`relative rounded-sm transition-all duration-100 ${F.isDragging&&F.draggedItem?.id===n.id?`opacity-50`:``} ${F.dragOverItem?.id===n.id&&F.dropPosition?F.dropPosition===`above`?`border-t-2 border-blue-500`:F.dropPosition===`below`?`border-b-2 border-blue-500`:`bg-blue-800/30`:``}`,onContextMenu:e=>u(e,n),children:[h(`div`,{draggable:`true`,onDragStart:e=>me(e,n,r),onDragOver:e=>Q(e,n,r),onDragLeave:ge,onDrop:e=>xe(e,n),onDragEnd:Ce,className:`flex items-center py-0.5 px-2 cursor-pointer transition-colors text-xs group ${o?`bg-blue-800/60`:`hover:bg-slate-700`}`,style:{paddingLeft:`${8+r*20}px`},onClick:()=>t(n.id),children:[i&&m(`button`,{onClick:e=>{e.stopPropagation(),Z(n.id)},className:`mr-1 p-0.5 hover:bg-slate-600 rounded transition-colors`,children:m(a?N.ChevronDown:N.ChevronRight,{className:`w-3 h-3 text-gray-300`})}),m(`button`,{className:`mr-1 p-0.5 rounded transition-colors opacity-70 hover:opacity-100`,onClick:e=>e.stopPropagation(),children:n.visible?m(N.Eye,{className:`w-4 h-4 text-gray-300`}):m(N.EyeSlash,{className:`w-4 h-4 text-gray-500`})}),m(`span`,{className:`mr-2`,children:we(n.type,n.lightType)}),m(`span`,{className:`flex-1 text-gray-200 truncate`,children:n.name}),m(`button`,{className:`ml-2 p-0.5 rounded transition-colors opacity-0 group-hover:opacity-70 hover:opacity-100`,onClick:e=>ae(n.id,e),title:`Delete object`,children:m(N.Trash,{className:`w-4 h-4 text-gray-300 hover:text-red-400`})})]}),i&&a&&n.children.map(e=>Te(e,r+1))]},n.id)};if(!n)return null;let Ee=()=>{switch(i){case`scene`:return`Scene`;case`light`:return`Light`;case`effects`:return`Effects`;case`folder`:return`Files`;case`star`:return`Favorites`;case`wifi`:return`Network`;case`cloud`:return`Cloud`;case`monitor`:return`Display`;case`settings`:return`Settings`;case`audio-devices`:return`Audio Devices`;case`mixer-settings`:return`Mixer Settings`;case`export-settings`:return`Export Settings`;case`layers`:return`Layers`;case`adjustments`:return`Adjustments`;case`history`:return`History`;case`colors`:return`Colors`;case`brushes`:return`Brushes`;default:return`Properties`}},De=()=>{switch(i){case`scene`:return h(`div`,{ref:de,className:`flex flex-col flex-1 overflow-hidden`,onContextMenu:e=>u(e,null),children:[m(`div`,{className:`flex-1 overflow-y-auto scrollbar-thin`,onContextMenu:e=>u(e,null),children:X.map(e=>Te(e))}),e&&h(p,{children:[m(`div`,{className:`h-1 cursor-row-resize transition-colors ${b?`bg-blue-500/75`:`bg-slate-700/50 hover:bg-blue-500/75`}`,onMouseDown:pe}),m(`div`,{className:`overflow-y-auto scrollbar-thin`,style:{height:`${v}px`},children:h(`div`,{children:[m(H,{title:`Transform`,defaultOpen:!0,index:0,children:h(`div`,{className:`space-y-4`,children:[K&&(K.type===`mesh`||K.type===`light`||K.type===`camera`)&&K.position&&h(p,{children:[h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Position`}),h(`div`,{className:`grid grid-cols-3 gap-2`,children:[h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:K?K.position[0].toFixed(2):`0`,onChange:e=>J(`position`,`x`,e.target.value),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`X`})]}),h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:K?K.position[1].toFixed(2):`0`,onChange:e=>J(`position`,`y`,e.target.value),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`Y`})]}),h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:K?K.position[2].toFixed(2):`0`,onChange:e=>J(`position`,`z`,e.target.value),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`Z`})]})]})]}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Rotation`}),h(`div`,{className:`grid grid-cols-3 gap-2`,children:[h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:K?(K.rotation[0]*180/Math.PI).toFixed(1):`0`,onChange:e=>J(`rotation`,`x`,(parseFloat(e.target.value)||0)*Math.PI/180),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`X`})]}),h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:K?(K.rotation[1]*180/Math.PI).toFixed(1):`0`,onChange:e=>J(`rotation`,`y`,(parseFloat(e.target.value)||0)*Math.PI/180),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`Y`})]}),h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:K?(K.rotation[2]*180/Math.PI).toFixed(1):`0`,onChange:e=>J(`rotation`,`z`,(parseFloat(e.target.value)||0)*Math.PI/180),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`Z`})]})]})]}),K.type===`mesh`&&K.scale&&h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Scale`}),h(`div`,{className:`grid grid-cols-3 gap-2`,children:[h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:K?K.scale[0].toFixed(2):`1`,onChange:e=>J(`scale`,`x`,e.target.value),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`X`})]}),h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:K?K.scale[1].toFixed(2):`1`,onChange:e=>J(`scale`,`y`,e.target.value),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`Y`})]}),h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:K?K.scale[2].toFixed(2):`1`,onChange:e=>J(`scale`,`z`,e.target.value),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`Z`})]})]})]})]}),K&&K.type===`folder`&&h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Folder Info`}),h(`div`,{className:`text-xs text-gray-400`,children:[m(`p`,{children:`Type: Folder`}),h(`p`,{children:[`Children: `,K.children?K.children.length:0]})]})]}),K&&K.type===`camera`&&h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Camera Info`}),h(`div`,{className:`text-xs text-gray-400`,children:[h(`p`,{children:[`Type: `,K.cameraType||`perspective`]}),h(`p`,{children:[`FOV: `,K.fov||60,`°`]}),h(`p`,{children:[`Near: `,K.near||.1]}),h(`p`,{children:[`Far: `,K.far||1e3]})]})]}),K&&K.type===`light`&&h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Light Info`}),h(`div`,{className:`text-xs text-gray-400`,children:[h(`p`,{children:[`Type: `,K.lightType]}),h(`p`,{children:[`Color: `,K.color]}),h(`p`,{children:[`Intensity: `,K.intensity]}),h(`p`,{children:[`Cast Shadow: `,K.castShadow?`Yes`:`No`]})]})]})]})}),m(H,{title:`Material`,defaultOpen:!0,index:1,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Material Type`}),h(`select`,{className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all cursor-pointer`,children:[m(`option`,{children:`Standard`}),m(`option`,{children:`Toon`}),m(`option`,{children:`Glass`}),m(`option`,{children:`Emissive`}),m(`option`,{children:`Metallic`})]})]}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Base Color`}),h(`div`,{className:`flex items-center gap-2`,children:[m(`input`,{type:`color`,value:ce(),onChange:e=>se(e.target.value),className:`w-10 h-10 rounded-lg border border-slate-600 bg-slate-800 cursor-pointer`}),m(`div`,{className:`flex-1 bg-slate-800/80 border border-slate-600 rounded-lg p-2`,children:m(`div`,{className:`text-xs text-gray-300`,children:ce().toUpperCase()})})]})]}),h(`div`,{className:`space-y-3`,children:[m(B,{label:`Roughness`,min:0,max:1,step:.1,defaultValue:w,onChange:T}),m(B,{label:`Metalness`,min:0,max:1,step:.1,defaultValue:E,onChange:O})]})]})}),m(H,{title:`Scripts`,index:2,children:h(`div`,{className:`space-y-3`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Attached Scripts`}),m(`div`,{className:`bg-gradient-to-br from-slate-800/50 to-slate-900/80 border-2 border-dashed border-slate-600 hover:border-blue-500/50 rounded-xl p-6 text-center transition-all duration-200 group`,children:h(`div`,{className:`flex flex-col items-center gap-2`,children:[m(N.CodeBracket,{className:`w-8 h-8 text-slate-500 group-hover:text-blue-400 transition-colors`}),m(`p`,{className:`text-xs text-gray-400 group-hover:text-gray-300 transition-colors`,children:`Drag scripts here or click to browse`}),m(`button`,{className:`text-xs text-blue-400 hover:text-blue-300 transition-colors`,children:`+ Add Script`})]})})]})}),m(H,{title:`Custom Properties`,index:3,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{className:`flex items-center justify-between p-3 bg-slate-800/40 rounded-lg border border-slate-700/50`,children:[m(`label`,{className:`text-xs font-medium text-gray-300`,children:`Enable Features`}),m(`button`,{onClick:()=>C(!S),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-all duration-200 ${S?`bg-blue-500 shadow-lg shadow-blue-500/30`:`bg-slate-600`}`,children:m(`span`,{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 shadow-sm ${S?`translate-x-6`:`translate-x-1`}`})})]}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Object Name`}),m(`input`,{type:`text`,className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`,placeholder:`Enter object name`})]}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Description`}),m(`textarea`,{className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all resize-none`,rows:`3`,placeholder:`Enter description`})]}),h(`div`,{className:`grid grid-cols-2 gap-3`,children:[h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Category`}),h(`select`,{className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all cursor-pointer`,children:[m(`option`,{children:`Environment`}),m(`option`,{children:`Character`}),m(`option`,{children:`Prop`}),m(`option`,{children:`Effect`})]})]}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Created`}),m(`input`,{type:`date`,className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2.5 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`})]})]})]})})]})})]})]});case`light`:return h(`div`,{className:`flex-1 p-3 space-y-4 overflow-y-auto scrollbar-thin`,children:[h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300`,children:`Type`}),h(`select`,{className:`w-full bg-slate-900 border border-slate-600 text-white text-xs p-2 rounded`,children:[m(`option`,{children:`Directional`}),m(`option`,{children:`Point`}),m(`option`,{children:`Spot`})]})]}),m(`div`,{className:`space-y-2`,children:m(B,{label:`Intensity`,min:0,max:10,step:.1,defaultValue:A,onChange:j})}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300`,children:`Color`}),m(`input`,{type:`color`,defaultValue:`#ffffff`,className:`w-full h-8 rounded`})]}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300`,children:`Shadow`}),h(`label`,{className:`flex items-center space-x-2`,children:[m(`input`,{type:`checkbox`,defaultChecked:!0,className:`text-blue-600`}),m(`span`,{className:`text-xs text-gray-300`,children:`Cast Shadows`})]})]})]});case`effects`:return h(`div`,{className:`flex-1 p-3 space-y-4 overflow-y-auto scrollbar-thin`,children:[h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300`,children:`Post Processing`}),h(`label`,{className:`flex items-center space-x-2`,children:[m(`input`,{type:`checkbox`,defaultChecked:!0,className:`text-blue-600`}),m(`span`,{className:`text-xs text-gray-300`,children:`Bloom`})]}),h(`label`,{className:`flex items-center space-x-2`,children:[m(`input`,{type:`checkbox`,className:`text-blue-600`}),m(`span`,{className:`text-xs text-gray-300`,children:`Motion Blur`})]}),h(`label`,{className:`flex items-center space-x-2`,children:[m(`input`,{type:`checkbox`,className:`text-blue-600`}),m(`span`,{className:`text-xs text-gray-300`,children:`Depth of Field`})]})]}),m(`div`,{className:`space-y-2`,children:m(B,{label:`Ambient Occlusion`,min:0,max:1,step:.1,defaultValue:M,onChange:P})})]});case`settings`:return m(`div`,{className:`flex-1 overflow-y-auto scrollbar-thin`,children:h(`div`,{children:[m(H,{title:`Grid Helper`,defaultOpen:!0,index:0,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{className:`flex items-center justify-between p-3 bg-slate-800/40 rounded-lg border border-slate-700/50`,children:[m(`label`,{className:`text-xs font-medium text-gray-300`,children:`Enable Grid`}),m(`button`,{onClick:()=>W({enabled:!z.enabled}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-all duration-200 ${z.enabled?`bg-blue-500 shadow-lg shadow-blue-500/30`:`bg-slate-600`}`,children:m(`span`,{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 shadow-sm ${z.enabled?`translate-x-6`:`translate-x-1`}`})})]}),m(`div`,{className:`overflow-hidden transition-all duration-300 ease-in-out ${z.enabled?`max-h-[1000px] opacity-100`:`max-h-0 opacity-0`}`,children:h(`div`,{className:`space-y-4`,children:[!z.infiniteGrid&&h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Grid Size`}),m(`input`,{type:`number`,step:`10`,min:`10`,max:`1000`,value:z.size,onChange:e=>W({size:parseInt(e.target.value)||100}),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`})]}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Cell Size`}),m(`input`,{type:`number`,step:`0.1`,min:`0.1`,max:`10`,value:z.cellSize,onChange:e=>W({cellSize:parseFloat(e.target.value)||1}),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`})]}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Grid Position`}),h(`div`,{className:`grid grid-cols-3 gap-2`,children:[h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:z.position[0],onChange:e=>{let t=[...z.position];t[0]=parseFloat(e.target.value)||0,W({position:t})},className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`X`})]}),h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:z.position[1],onChange:e=>{let t=[...z.position];t[1]=parseFloat(e.target.value)||0,W({position:t})},className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`Y`})]}),h(`div`,{className:`relative`,children:[m(`input`,{type:`number`,step:`0.1`,value:z.position[2],onChange:e=>{let t=[...z.position];t[2]=parseFloat(e.target.value)||0,W({position:t})},className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`}),m(`span`,{className:`absolute right-2 top-1/2 -translate-y-1/2 text-xs text-gray-400 pointer-events-none`,children:`Z`})]})]})]}),h(`div`,{className:`space-y-3`,children:[h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Cell Color`}),h(`div`,{className:`flex items-center gap-2`,children:[m(`input`,{type:`color`,value:z.cellColor,onChange:e=>W({cellColor:e.target.value}),className:`w-10 h-10 rounded-lg border border-slate-600 bg-slate-800 cursor-pointer`}),m(`div`,{className:`flex-1 bg-slate-800/80 border border-slate-600 rounded-lg p-2`,children:m(`div`,{className:`text-xs text-gray-300`,children:z.cellColor.toUpperCase()})})]})]}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Section Color`}),h(`div`,{className:`flex items-center gap-2`,children:[m(`input`,{type:`color`,value:z.sectionColor,onChange:e=>W({sectionColor:e.target.value}),className:`w-10 h-10 rounded-lg border border-slate-600 bg-slate-800 cursor-pointer`}),m(`div`,{className:`flex-1 bg-slate-800/80 border border-slate-600 rounded-lg p-2`,children:m(`div`,{className:`text-xs text-gray-300`,children:z.sectionColor.toUpperCase()})})]})]})]}),h(`div`,{className:`space-y-3`,children:[h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Section Size`}),m(`input`,{type:`number`,step:`1`,min:`1`,max:`50`,value:z.sectionSize,onChange:e=>W({sectionSize:parseInt(e.target.value)||10}),className:`w-full bg-slate-800/80 border border-slate-600 text-white text-xs p-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all`})]}),h(`div`,{className:`flex items-center justify-between p-3 bg-slate-800/40 rounded-lg border border-slate-700/50`,children:[m(`label`,{className:`text-xs font-medium text-gray-300`,children:`Infinite Grid`}),m(`button`,{onClick:()=>W({infiniteGrid:!z.infiniteGrid}),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-all duration-200 ${z.infiniteGrid?`bg-blue-500 shadow-lg shadow-blue-500/30`:`bg-slate-600`}`,children:m(`span`,{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 shadow-sm ${z.infiniteGrid?`translate-x-6`:`translate-x-1`}`})})]})]})]})})]})}),m(H,{title:`Viewport`,defaultOpen:!0,index:1,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Background Color`}),h(`div`,{className:`flex items-center gap-2`,children:[m(`input`,{type:`color`,value:V.backgroundColor,onChange:e=>G({backgroundColor:e.target.value}),className:`w-10 h-10 rounded-lg border border-slate-600 bg-slate-800 cursor-pointer`}),m(`div`,{className:`flex-1 bg-slate-800/80 border border-slate-600 rounded-lg p-2`,children:m(`div`,{className:`text-xs text-gray-300`,children:V.backgroundColor.toUpperCase()})})]})]}),h(`div`,{className:`space-y-2`,children:[m(`label`,{className:`text-xs font-medium text-gray-300 uppercase tracking-wide`,children:`Quick Presets`}),h(`div`,{className:`grid grid-cols-4 gap-2`,children:[m(`button`,{onClick:()=>G({backgroundColor:`#1a202c`}),className:`h-8 rounded-lg border border-slate-600 transition-all hover:scale-105 hover:border-blue-500`,style:{backgroundColor:`#1a202c`},title:`Dark Blue`}),m(`button`,{onClick:()=>G({backgroundColor:`#000000`}),className:`h-8 rounded-lg border border-slate-600 transition-all hover:scale-105 hover:border-blue-500`,style:{backgroundColor:`#000000`},title:`Black`}),m(`button`,{onClick:()=>G({backgroundColor:`#374151`}),className:`h-8 rounded-lg border border-slate-600 transition-all hover:scale-105 hover:border-blue-500`,style:{backgroundColor:`#374151`},title:`Gray`}),m(`button`,{onClick:()=>G({backgroundColor:`#ffffff`}),className:`h-8 rounded-lg border border-slate-600 transition-all hover:scale-105 hover:border-blue-500`,style:{backgroundColor:`#ffffff`},title:`White`})]})]})]})}),m(H,{title:`Performance`,defaultOpen:!1,index:3,children:m(`div`,{className:`space-y-4`,children:h(`div`,{className:`flex items-center justify-between p-3 bg-slate-800/40 rounded-lg border border-slate-700/50`,children:[h(`div`,{children:[m(`label`,{className:`text-xs font-medium text-gray-300`,children:`Performance Stats`}),m(`p`,{className:`text-xs text-gray-500 mt-0.5`,children:`Show FPS, memory usage, and render statistics`})]}),m(`button`,{onClick:()=>{let e=!L.editor.showStats;console.log(`ScenePanel: Stats toggle clicked, newValue:`,e),k.editor.updateEditorSettings({showStats:e}),k.editor.addConsoleMessage(`Performance stats ${e?`enabled`:`disabled`}`,`success`)},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-all duration-200 ${L.editor.showStats?`bg-blue-500 shadow-lg shadow-blue-500/30`:`bg-slate-600`}`,children:m(`span`,{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 shadow-sm ${L.editor.showStats?`translate-x-6`:`translate-x-1`}`})})]})})})]})});case`audio-devices`:return h(`div`,{className:`h-full overflow-y-auto bg-gray-900 p-4 space-y-4`,children:[m(H,{title:`Audio Devices`,icon:N.Audio,defaultOpen:!0,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{children:[m(`label`,{className:`text-xs text-gray-400 mb-2 block`,children:`Input Device`}),h(`select`,{className:`w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-sm text-gray-200`,children:[m(`option`,{children:`Default Input`}),m(`option`,{children:`Microphone Array`}),m(`option`,{children:`Audio Interface`})]})]}),h(`div`,{children:[m(`label`,{className:`text-xs text-gray-400 mb-2 block`,children:`Output Device`}),h(`select`,{className:`w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-sm text-gray-200`,children:[m(`option`,{children:`Default Output`}),m(`option`,{children:`Speakers`}),m(`option`,{children:`Headphones`})]})]}),m(`div`,{children:m(B,{label:`Input Gain`,defaultValue:75,min:0,max:100,step:1})}),m(`div`,{children:m(B,{label:`Output Gain`,defaultValue:85,min:0,max:100,step:1})})]})}),m(H,{title:`Monitoring`,icon:N.Monitor,defaultOpen:!1,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{className:`flex items-center justify-between`,children:[m(`label`,{className:`text-xs text-gray-400`,children:`Direct Monitoring`}),m(`button`,{className:`w-10 h-6 rounded-full bg-gray-600`,children:m(`div`,{className:`w-4 h-4 rounded-full bg-white translate-x-1`})})]}),m(`div`,{children:m(B,{label:`Monitor Mix`,defaultValue:50,min:0,max:100,step:1})})]})})]});case`mixer-settings`:return h(`div`,{className:`h-full overflow-y-auto bg-gray-900 p-4 space-y-4`,children:[m(H,{title:`Mixer Configuration`,icon:N.Mixer,defaultOpen:!0,children:h(`div`,{className:`space-y-4`,children:[h(`div`,{children:[m(`label`,{className:`text-xs text-gray-400 mb-2 block`,children:`Channel Layout`}),h(`select`,{className:`w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-sm text-gray-200`,children:[m(`option`,{children:`Stereo`}),m(`option`,{children:`5.1 Surround`}),m(`option`,{children:`7.1 Surround`}),m(`option`,{children:`Custom`})]})]}),h(`div`,{children:[m(`label`,{className:`text-xs text-gray-400 mb-2 block`,children:`Max Channels`}),m(`input`,{type:`number`,min:`2`,max:`64`,defaultValue:`16`,className:`w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-sm text-gray-200`})]}),h(`div`,{className:`flex items-center justify-between`,children:[m(`label`,{className:`text-xs text-gray-400`,children:`Auto Gain Control`}),m(`button`,{className:`w-10 h-6 rounded-full bg-blue-600`,children:m(`div`,{className:`w-4 h-4 rounded-full bg-white translate-x-5`})})]}),h(`div`,{className:`flex items-center justify-between`,children:[m(`label`,{className:`text-xs text-gray-400`,children:`Peak Limiting`}),m(`button`,{className:`w-10 h-6 rounded-full bg-blue-600`,children:m(`div`,{className:`w-4 h-4 rounded-full bg-white translate-x-5`})})]})]})}),m(H,{title:`Effects Send`,icon:N.Effects,defaultOpen:!1,children:h(`div`,{className:`space-y-4`,children:[m(`div`,{children:m(B,{label:`Reverb Send`,defaultValue:25,min:0,max:100,step:1})}),m(`div`,{children:m(B,{label:`Delay Send`,defaultValue:15,min:0,max:100,step:1})}),m(`div`,{children:m(B,{label:`Chorus Send`,defaultValue:10,min:0,max:100,step:1})})]})})]});case`export-settings`:return m(ee,{});case`layers`:return m(ne,{});case`adjustments`:return m(re,{});case`history`:return m(ie,{});case`colors`:return m(q,{});case`brushes`:return m(oe,{});default:return m(`div`,{className:`flex-1 p-3 overflow-y-auto scrollbar-thin`,children:h(`div`,{className:`text-center text-gray-500 mt-8`,children:[h(`p`,{className:`text-sm`,children:[Ee(),` panel`]}),m(`p`,{className:`text-xs mt-1`,children:`Content coming soon...`})]})})}};return h(`div`,{className:`relative w-full h-full bg-gradient-to-b from-slate-800/95 to-slate-900/98 backdrop-blur-md border-l border-slate-700/80 shadow-2xl shadow-black/30 flex flex-col pointer-events-auto no-select`,children:[h(`div`,{ref:fe,className:`px-3 py-2 border-b border-slate-700/60`,children:[h(`div`,{className:`flex items-center justify-between mb-1`,children:[m(`h2`,{className:`text-sm font-medium text-white`,children:Ee()}),m(`button`,{onClick:()=>{r(),a(`select`)},className:`p-1 hover:bg-slate-700/50 rounded transition-colors`,children:m(N.ChevronRight,{className:`w-3 h-3 text-gray-400`})})]}),i===`scene`&&h(`div`,{className:`text-xs text-gray-400 uppercase tracking-wide`,children:[`SCENE OBJECTS (`,X[0]?.children?.length||0,`)`]})]}),De()]})}var se=J;const Y=({isScenePanelOpen:e,rightPanelWidth:t,bottomPanelHeight:n,isAssetPanelOpen:r,selectedRightTool:i,selectedObject:a,onToolSelect:o,onScenePanelToggle:s,onObjectSelect:c,onContextMenu:l,style:u={}})=>h(`div`,{className:`absolute right-0 top-0 bottom-0 pointer-events-auto no-select z-20`,style:{width:e?t:48,paddingBottom:r?n:40,...u},suppressHydrationWarning:!0,children:[m(`div`,{className:`absolute top-0 bottom-0 w-12 ${e?`left-1`:`left-0`}`,children:m(R,{selectedTool:i,onToolSelect:o,scenePanelOpen:e,onScenePanelToggle:s})}),e&&m(`div`,{className:`absolute left-13 right-0 top-0 bottom-0`,children:m(se,{selectedObject:a,onObjectSelect:c,isOpen:e,onToggle:s,selectedTool:i,onToolSelect:o,onContextMenu:l})})]});var ce=Y;const le=[{id:`assets`,label:`Assets`,icon:N.Cube}],ue={"3d-viewport":[`assets`],default:[`assets`]};function X({activeTab:e,onTabChange:t,isAssetPanelOpen:n,onToggleAssetPanel:r,rightPanelWidth:i,isScenePanelOpen:a}){let{selectedBottomTab:s,bottomTabOrder:u}=f(D.editor.ui),d=f(D.editor.viewport),{setBottomTabOrder:p,hydrateFromLocalStorage:g}=k.editor,_=()=>{if(!d.tabs||d.tabs.length===0)return`default`;let e=d.tabs.find(e=>e.id===d.activeTabId);return e?.type||`default`},v=()=>{let e=_(),t=ue[e]||ue.default,n=le.reduce((e,t)=>(e[t.id]=t,e),{}),r=u||[],i=le.filter(e=>!r.includes(e.id)).map(e=>e.id);i.length>0&&(r=[...r,...i],p(r));let a=r.filter(e=>t.includes(e)).map(e=>n[e]).filter(Boolean);return a},[y,b]=l(v()),[x,S]=l(v()),[C,w]=l([]),[T,E]=l(!1),[O,A]=l({x:0,y:0}),[j,M]=l({isDragging:!1,draggedTab:null,dragOverTab:null,dragStartX:0,dragOffsetX:0}),[P,F]=l(!1),I=c(null),L=c(null),R=c(null),z=c(null);o(()=>{let e=v();b(e)},[u,d.activeTabId]),o(()=>{let e=()=>{if(!L.current||!R.current)return;let e=L.current.offsetWidth,t=40,n=40,r=e-t,i=0,a=0;for(let e=0;e<y.length;e++){let t=y[e].label.length*7+50;if(i+t<=r)i+=t,a++;else break}if(a<y.length){i=0,a=0;let e=r-n;for(let t=0;t<y.length;t++){let n=y[t].label.length*7+50;if(i+n<=e)i+=n,a++;else break}S(y.slice(0,Math.max(1,a))),w(y.slice(Math.max(1,a)))}else S(y),w([])};return e(),window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[y,i,a]),o(()=>{let e=()=>{if(T&&z.current){let e=z.current.getBoundingClientRect();A({x:e.right,y:e.top-8})}},t=e=>{if(z.current&&!z.current.contains(e.target)){let t=document.querySelector(`[data-dropdown="true"]`);(!t||!t.contains(e.target))&&E(!1)}};if(T)return window.addEventListener(`resize`,e),window.addEventListener(`scroll`,e),document.addEventListener(`mousedown`,t),()=>{window.removeEventListener(`resize`,e),window.removeEventListener(`scroll`,e),document.removeEventListener(`mousedown`,t)}},[T]);let B=e=>{j.isDragging||(t(e),E(!1))},V=()=>{if(!T&&z.current){let e=z.current.getBoundingClientRect();A({x:e.right,y:e.top-8})}E(!T)},H=(e,t)=>{e.dataTransfer.effectAllowed=`move`,e.dataTransfer.setData(`text/html`,``);let n=e.currentTarget.getBoundingClientRect(),r=e.clientX-n.left;M({isDragging:!0,draggedTab:t,dragOverTab:null,dragStartX:e.clientX,dragOffsetX:r})},U=(e,t)=>{e.preventDefault(),e.dataTransfer.dropEffect=`move`,j.draggedTab&&j.draggedTab.id!==t.id&&M(e=>({...e,dragOverTab:t}))},ee=e=>{let t=e.currentTarget.getBoundingClientRect(),{clientX:n,clientY:r}=e;(n<t.left||n>t.right||r<t.top||r>t.bottom)&&M(e=>({...e,dragOverTab:null}))},te=(e,t)=>{if(e.preventDefault(),e.stopPropagation(),!j.draggedTab||j.draggedTab.id===t.id){M({isDragging:!1,draggedTab:null,dragOverTab:null,dragStartX:0,dragOffsetX:0});return}let n=y.findIndex(e=>e.id===j.draggedTab.id),r=y.findIndex(e=>e.id===t.id);if(n!==-1&&r!==-1&&n!==r){let e=[...y],[t]=e.splice(n,1);e.splice(r,0,t),b(e);let i=e.map(e=>e.id);p(i)}M({isDragging:!1,draggedTab:null,dragOverTab:null,dragStartX:0,dragOffsetX:0})},ne=()=>{M({isDragging:!1,draggedTab:null,dragOverTab:null,dragStartX:0,dragOffsetX:0}),F(!1),I.current&&(clearTimeout(I.current),I.current=null)};return o(()=>()=>{I.current&&clearTimeout(I.current)},[]),_(),h(`div`,{ref:L,className:`h-10 bg-slate-900 border-t border-slate-700 border-b border-slate-700 flex items-center relative z-50`,suppressHydrationWarning:!0,children:[h(`div`,{ref:R,className:`flex flex-1 overflow-hidden`,children:[x.map(t=>{let n=j.draggedTab?.id===t.id,r=j.dragOverTab?.id===t.id;return h(`button`,{draggable:!0,onClick:()=>B(t.id),onDragStart:e=>H(e,t),onDragOver:e=>U(e,t),onDragLeave:ee,onDrop:e=>te(e,t),onDragEnd:ne,className:`relative flex items-center px-4 py-2.5 text-sm font-medium transition-all whitespace-nowrap select-none ${n?`opacity-50 cursor-grabbing`:`hover:bg-slate-800 cursor-grab`} ${e===t.id?`text-blue-400`:`text-gray-400 hover:text-gray-200`}`,style:{transform:n?`scale(0.95)`:`scale(1)`},children:[m(t.icon,{className:`w-4 h-4 mr-2`}),t.label,e===t.id&&m(`div`,{className:`absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500`,suppressHydrationWarning:!0}),r&&m(`div`,{className:`absolute inset-y-0 left-0 w-0.5 bg-blue-500 z-10`})]},t.id)}),C.length>0&&m(`div`,{onDragOver:e=>{e.preventDefault(),j.draggedTab&&C.some(e=>e.id===j.draggedTab.id)&&(e.dataTransfer.dropEffect=`move`)},onDrop:e=>{if(e.preventDefault(),j.draggedTab&&C.some(e=>e.id===j.draggedTab.id)){let e=y.findIndex(e=>e.id===j.draggedTab.id),t=x.length-1,n=y.findIndex(e=>e.id===x[t].id);if(e!==-1&&n!==-1){let t=[...y],[r]=t.splice(e,1);t.splice(n+1,0,r),b(t);let i=t.map(e=>e.id);p(i)}M({isDragging:!1,draggedTab:null,dragOverTab:null,dragStartX:0,dragOffsetX:0})}},className:`w-4 h-full flex items-center justify-center`,children:j.draggedTab&&C.some(e=>e.id===j.draggedTab.id)&&m(`div`,{className:`w-0.5 h-6 bg-blue-500 opacity-50`})}),C.length>0&&m(`div`,{className:`relative`,children:h(`button`,{ref:z,onClick:V,onDragEnter:e=>{e.preventDefault(),j.draggedTab&&(F(!0),I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{if(!T){let e=z.current?.getBoundingClientRect();e&&(A({x:e.right,y:e.top-8}),E(!0))}},500))},onDragLeave:e=>{let t=e.currentTarget.getBoundingClientRect(),{clientX:n,clientY:r}=e;(n<t.left||n>t.right||r<t.top||r>t.bottom)&&(F(!1),I.current&&(clearTimeout(I.current),I.current=null))},onDragOver:e=>{e.preventDefault(),j.draggedTab&&(e.dataTransfer.dropEffect=`move`)},onDrop:e=>{if(e.preventDefault(),F(!1),I.current&&(clearTimeout(I.current),I.current=null),j.draggedTab&&x.some(e=>e.id===j.draggedTab.id)){let e=y.findIndex(e=>e.id===j.draggedTab.id);if(e!==-1){let t=[...y],[n]=t.splice(e,1);t.push(n),b(t);let r=t.map(e=>e.id);p(r)}M({isDragging:!1,draggedTab:null,dragOverTab:null,dragStartX:0,dragOffsetX:0})}},className:`relative flex items-center px-3 py-2.5 text-sm font-medium transition-colors ${P?`bg-blue-600/20 border border-blue-500`:`hover:bg-slate-800`} ${C.some(t=>t.id===e)?`text-blue-400`:`text-gray-400 hover:text-gray-200`}`,children:[m(N.MenuBars,{className:`w-4 h-4`}),C.some(t=>t.id===e)&&m(`div`,{className:`absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500`})]})})]}),m(`div`,{className:`flex items-center pr-1`,children:m(`button`,{onClick:r,className:`p-1.5 hover:bg-slate-800 rounded transition-colors text-gray-400 hover:text-white`,title:n?`Hide panel`:`Show panel`,children:m(n?N.ChevronDown:N.ChevronUp,{className:`w-4 h-4`})})}),T&&C.length>0&&m(`div`,{className:`fixed bg-slate-800 border border-slate-700 rounded-lg shadow-2xl shadow-black/50 min-w-48 pointer-events-auto`,"data-dropdown":`true`,style:{left:`${O.x}px`,top:`${O.y}px`,transform:`translate(-100%, -100%)`,zIndex:9999},children:C.map(t=>{let n=j.draggedTab?.id===t.id,r=j.dragOverTab?.id===t.id;return h(`button`,{draggable:!0,onClick:()=>B(t.id),onDragStart:e=>H(e,t),onDragOver:e=>U(e,t),onDragLeave:ee,onDrop:e=>te(e,t),onDragEnd:ne,className:`w-full flex items-center px-3 py-2 text-sm font-medium transition-all first:rounded-t-lg last:rounded-b-lg select-none ${n?`opacity-50 cursor-grabbing`:`hover:bg-slate-700 cursor-grab`} ${e===t.id?`text-blue-400 bg-slate-700/50`:`text-gray-300 hover:text-gray-200`}`,style:{transform:n?`scale(0.95)`:`scale(1)`},children:[m(t.icon,{className:`w-4 h-4 mr-2`}),t.label,r&&m(`div`,{className:`absolute inset-y-0 left-0 w-0.5 bg-blue-500 z-10`})]},t.id)})})]})}var de=X;const fe=`1.0.0`,pe=`0.1.0`,Z=`renzora-current-project`,me=`UntitledProject`;var he=class{constructor(){this.currentProjectPath=null,this.currentProjectName=null,this.initialized=!1,this.loadingCallbacks=[],this.isCurrentlyLoading=!1,this.eventSource=null,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.fileChangeCallbacks=[],e.setProjectManager(this)}addLoadingListener(e){this.loadingCallbacks.push(e)}removeLoadingListener(e){this.loadingCallbacks=this.loadingCallbacks.filter(t=>t!==e)}emitLoadingProgress(e,t=``,n=`loading`){this.loadingCallbacks.forEach(r=>{try{r({progress:e,asset:t,operation:n,isLoading:this.isCurrentlyLoading})}catch(e){console.warn(`Loading callback error:`,e)}})}startLoading(e=`loading`){console.log(`🚨 startLoading called with operation:`,e),console.trace(`Loading triggered from:`),this.isCurrentlyLoading=!0,this.emitLoadingProgress(0,``,e)}updateLoadingProgress(e,t=``){this.emitLoadingProgress(e,t)}finishLoading(){this.emitLoadingProgress(100),setTimeout(()=>{this.isCurrentlyLoading=!1,this.emitLoadingProgress(0,``,``)},300)}addFileChangeListener(e){this.fileChangeCallbacks.push(e)}removeFileChangeListener(e){this.fileChangeCallbacks=this.fileChangeCallbacks.filter(t=>t!==e)}emitFileChange(e){this.fileChangeCallbacks.forEach(t=>{try{t(e)}catch(e){console.warn(`File change callback error:`,e)}})}connectEventSource(e){this.eventSource&&this.eventSource.close();let t=`/api/projects/${e}/watch`;console.log(`Connecting to SSE: ${t}`),this.eventSource=new EventSource(t),this.eventSource.onopen=()=>{console.log(`SSE connected for project: ${e}`),this.reconnectAttempts=0},this.eventSource.onmessage=e=>{try{let t=JSON.parse(e.data);switch(console.log(`File change detected:`,t),t.type){case`connected`:console.log(`SSE connection confirmed for project: ${t.project}`);break;case`file_added`:case`file_changed`:case`file_deleted`:case`directory_added`:case`directory_deleted`:case`assets_directory_recreated`:this.emitFileChange(t);break;default:console.log(`Unknown SSE message:`,t)}}catch(e){console.error(`Error parsing SSE message:`,e)}},this.eventSource.onerror=t=>{console.error(`SSE error for project ${e}:`,t),this.eventSource.readyState===EventSource.CLOSED&&(console.log(`SSE connection closed for project: ${e}`),this.eventSource=null,this.reconnectAttempts<this.maxReconnectAttempts&&setTimeout(()=>{console.log(`Attempting to reconnect SSE (${this.reconnectAttempts+1}/${this.maxReconnectAttempts})`),this.reconnectAttempts++,this.connectEventSource(e)},this.reconnectDelay*2**this.reconnectAttempts))}}disconnectEventSource(){this.eventSource&&(this.eventSource.close(),this.eventSource=null)}async extractProject(e,t){this.startLoading(`importing`);try{this.updateLoadingProgress(10,`Reading .ren file`);let n=await this.readFile(e);this.updateLoadingProgress(20,`Parsing project data`);let r=JSON.parse(n);if(this.updateLoadingProgress(30,`Validating project`),!this.validateProjectData(r))throw Error(`Invalid .ren project file`);this.updateLoadingProgress(40,`Creating project structure`);let i=await fetch(`/api/projects/import`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({projectName:t,renData:r})});if(!i.ok){let e=await i.json();throw Error(e.error||`Failed to import project`)}this.updateLoadingProgress(60,`Extracting assets`);let a=await i.json();return await new Promise(e=>setTimeout(e,500)),this.updateLoadingProgress(80,`Loading scene data`),this.loadSceneData(r.scene),this.updateLoadingProgress(90,`Loading editor settings`),r.editor&&this.loadEditorSettings(r.editor),this.currentProjectPath=a.projectPath,this.currentProjectName=t,this.saveCurrentProjectToStorage(),this.connectEventSource(a.projectPath),this.updateLoadingProgress(100,`Project imported successfully`),console.log(`Project "${t}" extracted successfully`),this.finishLoading(),a.projectPath}catch(e){throw console.error(`Failed to extract project:`,e),this.finishLoading(),e}}async packageProject(e,t){this.startLoading(`exporting`);try{if(!e||!t)throw Error(`Project path and output name are required`);this.updateLoadingProgress(20,`Collecting project data`);let n=await fetch(`/api/projects/${e}/export`);if(!n.ok){let e=await n.json();throw Error(e.error||`Failed to export project`)}this.updateLoadingProgress(60,`Packaging assets`);let r=await n.text(),i=Math.min(1e3,r.length/1e3);return await new Promise(e=>setTimeout(e,i)),this.updateLoadingProgress(90,`Preparing download`),await this.downloadFile(`${t}.ren`,r),this.updateLoadingProgress(100,`Export complete`),console.log(`Project packaged as "${t}.ren"`),this.finishLoading(),JSON.parse(r)}catch(e){throw console.error(`Failed to package project:`,e),this.finishLoading(),e}}async createNewProject(e,t=!1){this.startLoading(`creating`);try{if(!t)try{console.log(`Checking if project "${e}" already exists`);let t=await fetch(`/api/projects/${e}`);if(t.ok){console.log(`Project "${e}" already exists, loading instead of creating`);let t=await this.loadProject(e);return this.finishLoading(),t}}catch(e){console.log(`Project doesn't exist or check failed, proceeding with creation:`,e.message)}this.updateLoadingProgress(20,`Creating project structure`);let n=await fetch(`/api/projects/create`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({projectName:e})});if(!n.ok){let e=await n.json();throw Error(e.error||`Failed to create project`)}this.updateLoadingProgress(50,`Setting up directories`);let r=await n.json();if(await new Promise(e=>setTimeout(e,300)),this.updateLoadingProgress(80,`Setting up project`),t||Object.keys(D.scene.entities).length===0){console.log(`Initializing with default scene`),k.scene.clear();let e=k.scene.createEntity(`Scene`);k.scene.setSceneRoot(e)}else console.log(`Preserving existing scene data`);return this.updateLoadingProgress(90,`Finalizing project`),this.currentProjectPath=r.projectPath,this.currentProjectName=e,this.saveCurrentProjectToStorage(),this.connectEventSource(r.projectPath),this.updateLoadingProgress(100,`Project created successfully`),console.log(`New project "${e}" created`),this.finishLoading(),r.projectPath}catch(e){throw console.error(`Failed to create new project:`,e),this.finishLoading(),e}}async createProjectStructure(e){let t=[`${e}`,`${e}/assets`,`${e}/assets/textures`,`${e}/assets/models`,`${e}/assets/audio`,`${e}/assets/scripts`,`${e}/scenes`];console.log(`Creating directories:`,t)}async extractAssets(e,t){for(let[n,r]of Object.entries(e)){let e=`${t}/${n}`;if(r.startsWith(`data:`)){let t=r.split(`,`)[1],n=atob(t);await this.saveBinaryFile(e,n)}else await this.saveFile(e,r)}}async collectAssets(){let e={};return e}loadSceneData(e){if(e){if(k.scene.clear(),e.entities){D.scene.entityCounter=e.entityCounter||0;for(let[t,n]of Object.entries(e.entities))D.scene.entities[parseInt(t)]=n}if(e.components){for(let[t,n]of Object.entries(e.components))if(D.scene.components[t])for(let[e,r]of Object.entries(n))D.scene.components[t][parseInt(e)]=r}e.sceneObjects&&console.warn(`Legacy sceneObjects loading may need updating for unified store`),e.sceneRoot&&k.scene.setSceneRoot(e.sceneRoot)}}collectSceneData(){let e={};Object.entries(D.scene.entities).forEach(([t,n])=>{e[t]={...n,components:Array.from(n.components||[])}});let t={};for(let[e,n]of Object.entries(D.scene.components))t[e]={},Object.entries(n).forEach(([n,r])=>{t[e][n]=r});return{entities:e,components:t,entityCounter:D.scene.entityCounter,sceneRoot:D.scene.sceneRoot}}loadEditorSettings(e){e.settings&&e.settings.editor&&Object.assign(D.editor.settings.editor,e.settings.editor),console.log(`📋 Project settings loaded, UI preferences preserved in localStorage`)}collectEditorSettings(){return{settings:{editor:{...D.editor.settings.editor}}}}validateProjectData(e){return e&&typeof e==`object`&&(e.project||e.scene||e.editor)}async readProjectInfo(e){try{let t=await this.readFile(e);return JSON.parse(t)}catch{return{name:`Untitled Project`,version:fe,engineVersion:pe,created:new Date().toISOString()}}}async readFile(e){if(e instanceof File)return await e.text();throw Error(`File reading not implemented for paths`)}async saveFile(e,t){console.log(`Saving file: ${e}`),console.log(`Content length: ${t.length}`)}async saveBinaryFile(e,t){console.log(`Saving binary file: ${e}`),console.log(`Data length: ${t.length}`)}async downloadFile(e,t){let n=new Blob([t],{type:`application/json`}),r=URL.createObjectURL(n),i=document.createElement(`a`);i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}async loadProject(t){this.startLoading(`loading`);try{console.log(`Loading project from server: ${t}`),this.updateLoadingProgress(10,`Connecting to server`);let n=await fetch(`/api/projects/${t}`);if(!n.ok){let e=await n.json();throw console.error(`Server error loading project:`,e),Error(e.error||`Failed to load project`)}this.updateLoadingProgress(40,`Loading project data`);let r=await n.json();return console.log(`Project data loaded:`,r),await new Promise(e=>setTimeout(e,300)),this.updateLoadingProgress(70,`Loading project state`),console.log(`🔄 Loading project data into stores:`,r),e.loadFromProject(r),console.log(`✅ Project data loaded into stores`),this.updateLoadingProgress(95,`Finalizing`),this.currentProjectPath=r.projectPath,this.currentProjectName=r.project.name,this.saveCurrentProjectToStorage(),this.connectEventSource(r.projectPath),this.updateLoadingProgress(100,`Project loaded successfully`),console.log(`Project "${t}" loaded successfully`),this.finishLoading(),r.projectPath}catch(e){throw console.error(`Failed to load project:`,e),this.finishLoading(),e}}async initializeDefaultProject(){if(!this.initialized)try{let e=this.getCurrentProjectFromStorage();if(e&&e.name&&e.path){console.log(`Reloading project: ${e.name} from path: ${e.path}`);try{let t=e.path.includes(`/`)?e.path.split(`/`).pop():e.path;await this.loadProject(t)}catch(t){console.warn(`Failed to reload stored project:`,t),console.warn(`Stored project data:`,e);try{console.log(`Attempting to load existing default project instead of creating new`),await this.loadProject(me)}catch(e){console.warn(`Default project also failed to load, creating new:`,e),this.clearCurrentProjectFromStorage(),await this.createNewProject(me)}}}else{console.log(`No stored project found, attempting to load default project`),console.log(`Stored project data:`,e);try{await this.loadProject(me),console.log(`Default project loaded successfully`)}catch(e){console.log(`Default project does not exist, creating new:`,e.message),await this.createNewProject(me)}}this.initialized=!0}catch(e){console.error(`Failed to initialize default project:`,e),this.currentProjectName=me,this.currentProjectPath=me,Object.keys(D.scene.entities).length===0?(console.log(`No scene data found, setting up default scene`),this.setupDefaultScene()):console.log(`Preserving existing scene data in fallback`),this.saveCurrentProjectToStorage(),this.initialized=!0}}setupDefaultScene(){k.scene.clear();let e=k.scene.createEntity(`Scene`);k.scene.setSceneRoot(e),console.log(`Default scene created with root entity:`,e)}saveCurrentProjectToStorage(){try{let e={name:this.currentProjectName,path:this.currentProjectPath,lastAccessed:new Date().toISOString()};localStorage.setItem(Z,JSON.stringify(e))}catch(e){console.warn(`Failed to save current project to localStorage:`,e)}}getCurrentProjectFromStorage(){try{let e=localStorage.getItem(Z);return e?JSON.parse(e):null}catch(e){return console.warn(`Failed to load current project from localStorage:`,e),null}}clearCurrentProjectFromStorage(){try{localStorage.removeItem(Z)}catch(e){console.warn(`Failed to clear current project from localStorage:`,e)}}async autoSaveCurrentProject(){if(!(!this.currentProjectName||!this.currentProjectPath))try{console.log(`Auto-saving project: ${this.currentProjectName}`);let t=e.getAllStoreData(),n=await fetch(`/api/projects/${this.currentProjectPath}/save`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify(t)});if(!n.ok){let e=await n.json();throw Error(e.error||`Failed to auto-save project`)}this.saveCurrentProjectToStorage(),console.log(`✅ Auto-saved project: ${this.currentProjectName}`)}catch(e){console.warn(`⚠️ Auto-save failed:`,e)}}getCurrentProject(){return{path:this.currentProjectPath,name:this.currentProjectName}}hasCurrentProject(){return!!(this.currentProjectName&&this.currentProjectPath)}clearAllStorageData(){console.log(`Clearing all project localStorage data...`),this.clearCurrentProjectFromStorage(),localStorage.removeItem(`engine-ui-settings`),console.log(`All storage data cleared`)}};const Q=new he,ge=({items:e,position:t,onClose:n})=>{let r=c(null),i=c(null),[a,s]=l({top:0,left:0}),[u,d]=l(null),[f,g]=l(null),[_,v]=l(null),y=c(null);o(()=>{let e=e=>{let t=r.current&&r.current.contains(e.target),a=i.current&&i.current.contains(e.target);!t&&!a&&n()};return document.addEventListener(`mousedown`,e),()=>{document.removeEventListener(`mousedown`,e)}},[n]),o(()=>{if(r.current){let{innerWidth:e,innerHeight:n}=window,{offsetWidth:i,offsetHeight:a}=r.current,{x:o,y:c}=t;o+i>e&&(o=e-i),c+a>n&&(c=n-a),s({top:c,left:o})}},[t]);let b=(e,t,n)=>{if(d(e),y.current&&(clearTimeout(y.current),y.current=null),t.submenu&&t.submenu.length>0){let e=n.currentTarget.getBoundingClientRect(),{innerWidth:r,innerHeight:i}=window,a=e.right+2,o=e.top,s=180;a+s>r&&(a=e.left-s-2);let c=t.submenu.length*32;o+c>i&&(o=i-c-10),g({top:o,left:a}),v(t.submenu)}else g(null),v(null)},x=()=>{y.current=setTimeout(()=>{g(null),v(null)},300)};return!e||e.length===0?null:h(p,{children:[m(`div`,{ref:r,className:`bg-slate-800/95 backdrop-blur-md border border-slate-700 rounded-md shadow-xl py-1 pointer-events-auto`,style:{position:`fixed`,top:a.top,left:a.left,zIndex:999998},onMouseLeave:()=>{d(null),x()},children:m(`ul`,{children:e.map((e,t)=>m(`li`,{children:e.separator?m(`div`,{className:`border-t border-slate-700 my-1`}):h(`button`,{onMouseEnter:n=>b(t,e,n),onMouseLeave:()=>void 0,onClick:()=>{e.submenu||(e.action(),n())},className:`flex items-center w-full px-3 py-1.5 text-xs text-left transition-all duration-200 ${u===t?`bg-blue-600 text-white`:`text-gray-300 hover:bg-blue-600/70 hover:text-white`}`,children:[e.color&&m(`div`,{className:`w-3 h-3 rounded-full mr-2 border border-gray-600`,style:{backgroundColor:e.color}}),e.icon&&m(`span`,{className:`mr-2`,children:e.icon}),m(`span`,{className:`flex-1`,children:e.label}),e.submenu&&m(N.ChevronRight,{className:`w-3 h-3 ml-1`})]})},t))})}),_&&f&&m(`div`,{ref:i,className:`bg-slate-800/95 backdrop-blur-md border border-slate-700 rounded-md shadow-xl py-1 pointer-events-auto min-w-[180px]`,style:{position:`fixed`,top:f.top,left:f.left,zIndex:999999},onMouseEnter:()=>{y.current&&(clearTimeout(y.current),y.current=null)},onMouseLeave:()=>{x()},children:m(`ul`,{children:_.map((e,t)=>m(`li`,{children:e.separator?m(`div`,{className:`border-t border-slate-700 my-1`}):h(`button`,{onClick:t=>{t.preventDefault(),t.stopPropagation();try{e.action(),n()}catch(e){console.error(`Error executing submenu action:`,e),n()}},className:`flex items-center w-full px-3 py-1.5 text-xs text-left text-gray-300 transition-all duration-200 hover:bg-blue-600/70 hover:text-white`,children:[e.color&&m(`div`,{className:`w-3 h-3 rounded-full mr-2 border border-gray-600`,style:{backgroundColor:e.color}}),e.icon&&m(`span`,{className:`mr-2`,children:e.icon}),m(`span`,{className:`flex-1`,children:e.label})]})},t))})})]})};var _e=ge;const ve=e=>{let{addSceneObject:t,removeSceneObject:n,setSelectedEntity:r,setTransformMode:i,setSelectedTool:a,setSelectedBottomTab:o}=e,s=(e,t)=>{if(e){let t=[{label:`Rename`,action:()=>c(e.id),icon:m(N.Pencil,{className:`w-4 h-4`})},{separator:!0},{label:`Copy`,action:()=>l(e.id),icon:m(N.Copy,{className:`w-4 h-4`})},{label:`Duplicate`,action:()=>u(e.id),icon:m(N.DocumentDuplicate,{className:`w-4 h-4`})},{label:`Delete`,action:()=>d(e.id),icon:m(N.Trash,{className:`w-4 h-4`})},{separator:!0}],n=[];(e.type===`model`||e.type===`mesh`)&&n.push({label:`Add Material`,action:()=>f(e.id),icon:m(N.Cube,{className:`w-4 h-4`})},{label:`Add Script`,action:()=>p(e.id),icon:m(N.CodeBracket,{className:`w-4 h-4`})}),e.type===`terrain`&&n.push({label:`Edit Terrain`,action:()=>h(e.id),icon:m(N.Mountain,{className:`w-4 h-4`})},{label:`Paint Texture`,action:()=>g(e.id),icon:m(N.PaintBrush,{className:`w-4 h-4`})});let r=[{separator:!0},{label:`Color Code`,action:()=>{},icon:m(N.ColorSwatch,{className:`w-4 h-4`}),submenu:[{label:`Red`,action:()=>_(e.id,`red`),color:`#ef4444`},{label:`Orange`,action:()=>_(e.id,`orange`),color:`#f97316`},{label:`Yellow`,action:()=>_(e.id,`yellow`),color:`#eab308`},{label:`Green`,action:()=>_(e.id,`green`),color:`#22c55e`},{label:`Blue`,action:()=>_(e.id,`blue`),color:`#3b82f6`},{label:`Purple`,action:()=>_(e.id,`purple`),color:`#a855f7`},{label:`Clear`,action:()=>_(e.id,null),icon:m(N.XMark,{className:`w-3 h-3`})}]}];return[...t,...n,...r]}else{let e=[{label:`Create Object`,action:()=>{},icon:m(N.PlusCircle,{className:`w-4 h-4`}),submenu:[{label:`Cube`,action:()=>v(`cube`),icon:m(N.Cube,{className:`w-4 h-4`})},{label:`Sphere`,action:()=>v(`sphere`),icon:m(N.Circle,{className:`w-4 h-4`})},{label:`Cylinder`,action:()=>v(`cylinder`),icon:m(N.Rectangle,{className:`w-4 h-4`})},{label:`Plane`,action:()=>v(`plane`),icon:m(N.Square2Stack,{className:`w-4 h-4`})},{separator:!0},{label:`Light`,action:()=>v(`light`),icon:m(N.LightBulb,{className:`w-4 h-4`})},{label:`Camera`,action:()=>v(`camera`),icon:m(N.Camera,{className:`w-4 h-4`})}]},{separator:!0},{label:`Paste`,action:()=>y(),icon:m(N.Clipboard,{className:`w-4 h-4`})},{separator:!0},{label:`Undo`,action:()=>b(),icon:m(N.Undo,{className:`w-4 h-4`})},{label:`Redo`,action:()=>x(),icon:m(N.Redo,{className:`w-4 h-4`})}];return t===`viewport`?[...e,{separator:!0},{label:`Frame All`,action:()=>w(),icon:m(N.ArrowsPointingOut,{className:`w-4 h-4`})},{label:`Frame Selected`,action:()=>C(),icon:m(N.MagnifyingGlass,{className:`w-4 h-4`})},{separator:!0},{label:`Reset View`,action:()=>T(),icon:m(N.ArrowPath,{className:`w-4 h-4`})},{label:`Top View`,action:()=>E(`top`),icon:m(N.ArrowUp,{className:`w-4 h-4`})},{label:`Front View`,action:()=>E(`front`),icon:m(N.ArrowRight,{className:`w-4 h-4`})},{label:`Right View`,action:()=>E(`right`),icon:m(N.ArrowDown,{className:`w-4 h-4`})}]:[...e,{separator:!0},{label:`Select All`,action:()=>S(),icon:m(N.CursorArrowRays,{className:`w-4 h-4`})},{label:`Expand All`,action:()=>D(),icon:m(N.PlusCircle,{className:`w-4 h-4`})},{label:`Collapse All`,action:()=>O(),icon:m(N.MinusCircle,{className:`w-4 h-4`})}]}},c=e=>{console.log(`Rename`,e)},l=e=>{console.log(`Copy`,e)},u=e=>{console.log(`Duplicate`,e)},d=e=>{console.log(`Delete`,e),n(e)},f=e=>{console.log(`Add Material`,e),a(`materials`)},p=e=>{console.log(`Add Script`,e),o(`scripts`)},h=e=>{console.log(`Edit Terrain`,e),a(`terrain`)},g=e=>{console.log(`Paint Texture`,e)},_=(e,t)=>{console.log(`Color Code`,e,t)},v=e=>{let n={name:e.charAt(0).toUpperCase()+e.slice(1),type:`mesh`,position:[Math.random()*4-2,0,Math.random()*4-2],rotation:[0,0,0],scale:[1,1,1],geometry:e===`cube`?`box`:e,material:{color:`hsl(${Math.random()*360}, 70%, 50%)`},visible:!0},a=t(n);r(a.id),i(`move`),setTimeout(()=>{let e=document.querySelector(`canvas`);e&&e.focus()},100)},y=()=>{console.log(`Paste`)},b=()=>{console.log(`Undo`)},x=()=>{console.log(`Redo`)},S=()=>{console.log(`Select All`)},C=()=>{console.log(`Focus Selected`)},w=()=>{console.log(`Frame All`)},T=()=>{console.log(`Reset View`)},E=e=>{console.log(`Set View`,e)},D=()=>{console.log(`Expand All`)},O=()=>{console.log(`Collapse All`)};return{getContextMenuItems:s,handleCreateObject:v,handleDelete:d,handleRename:c,handleCopy:l,handleDuplicate:u,handleAddMaterial:f,handleAddScript:p,handleEditTerrain:h,handlePaintTexture:g,handleColorCode:_,handlePaste:y,handleUndo:b,handleRedo:x,handleSelectAll:S,handleFocusSelected:C,handleFrameAll:w,handleResetView:T,handleSetView:E,handleExpandAll:D,handleCollapseAll:O}};function ye(){let[e,n]=l(`folder`),[r,i]=l(`grid`),[a,s]=l(``),[u,d]=l(`3d-models`),[g,_]=l(``),[v,y]=l(null),[b,x]=l(!1),[S,C]=l([]),[w,T]=l(null),[E,O]=l(null),[A,j]=l([``]),[M,P]=l(!0),[F,I]=l(null),[L,R]=l([]),[z,B]=l([]),[V,H]=l([]),[U,ee]=l(!0),[te,ne]=l(!1),[W,re]=l(!1),[G,ie]=l(null),[K,q]=l(null),[ae,oe]=l(null),[J,se]=l(null),[Y,ce]=l(!1),le=c(null),ue=c(null),X=c({folderTree:null,folderTreeTimestamp:null,assetsByPath:{},categories:null,categoriesTimestamp:null,lastProjectName:null}),{ui:de}=f(D.editor),{assetsLibraryWidth:fe}=de,{setAssetsLibraryWidth:pe}=k.editor,{handleCreateObject:Z}=ve(k.editor),me=300*1e3,he=()=>{let e=X.current;return{folderTreeCached:!!e.folderTree,categoriesCached:!!e.categories,pathsCached:e.assetsByPath.size,project:e.lastProjectName}},ge=e=>{X.current.lastProjectName===e.name?console.log(`📊 Cache stats:`,he()):(console.log(`🗑️ Clearing cache due to project change`,{from:X.current.lastProjectName,to:e.name}),X.current={folderTree:null,folderTreeTimestamp:null,assetsByPath:{},categories:null,categoriesTimestamp:null,lastProjectName:e.name})},ye=e=>e&&Date.now()-e<me,be=async e=>{if(X.current.folderTree&&ye(X.current.folderTreeTimestamp)){console.log(`📂 Using cached folder tree`),T(X.current.folderTree);return}try{console.log(`📂 Fetching folder tree from server`);let t=await fetch(`/api/projects/${e.name}/assets/tree`);if(!t.ok)throw Error(`Failed to fetch folder tree`);let n=await t.json();X.current.folderTree=n.tree,X.current.folderTreeTimestamp=Date.now(),T(n.tree)}catch(e){console.error(`Error fetching folder tree:`,e),I(e.message)}},xe=async e=>{if(X.current.categories&&ye(X.current.categoriesTimestamp)){console.log(`📊 Using cached asset categories`),O(X.current.categories);let e=X.current.categories[u]?.files||[];C(e),P(!1);return}try{console.log(`📊 Fetching asset categories from server`);let t=await fetch(`/api/projects/${e.name}/assets/categories`);if(!t.ok){let e=await t.text();throw console.error(`Categories fetch failed:`,t.status,e),Error(`Failed to fetch asset categories: ${t.status} ${e}`)}let n=await t.json();X.current.categories=n.categories,X.current.categoriesTimestamp=Date.now(),O(n.categories);let r=n.categories[u]?.files||[];C(r),P(!1)}catch(e){console.error(`Error fetching asset categories:`,e),I(`Failed to load asset categories: ${e.message}`),P(!1)}},Se=async(e,t=a)=>{let n=X.current.assetsByPath.get(t);if(n&&ye(n.timestamp)){console.log(`📁 Using cached assets for path: ${t||`root`}`),C(n.assets),P(!1);return}try{P(!0),I(null),console.log(`📁 Fetching assets from server for path: ${t||`root`}`);let n=await fetch(`/api/projects/${e.name}/assets?folder=${encodeURIComponent(t)}`);if(!n.ok)throw Error(`Failed to fetch assets`);let r=await n.json(),i=r.assets||[];X.current.assetsByPath.set(t,{assets:i,timestamp:Date.now()}),C(i),P(!1)}catch(e){console.error(`Error fetching assets:`,e),I(e.message),C([]),P(!1)}};o(()=>{let t=Q.getCurrentProject();if(console.log(`🔍 AssetLibrary checking project:`,{viewMode:e,projectName:t?.name,projectPath:t?.path,hasProject:Q.hasCurrentProject()}),!t?.name){P(!0);let t=setTimeout(()=>{let t=Q.getCurrentProject();console.log(`🔄 Retry project check:`,t),t?.name?(I(null),e===`folder`?(be(t),Se(t)):xe(t)):(I(`No project loaded`),P(!1))},100);return()=>clearTimeout(t)}ge(t),I(null),e===`folder`?(be(t),Se(t)):(P(!0),xe(t));let n=n=>{console.log(`📁 File change detected in assets:`,n),(n.path.startsWith(`assets/`)||n.type===`assets_directory_recreated`)&&(console.log(`🗑️ Invalidating cache due to file change:`,n.path),X.current.folderTree=null,X.current.folderTreeTimestamp=null,X.current.categories=null,X.current.categoriesTimestamp=null,X.current.assetsByPath.clear(),console.log(`🔄 Refreshing assets due to change:`,n.path),e===`folder`?(be(t),Se(t)):xe(t))};return Q.addFileChangeListener(n),()=>{Q.removeFileChangeListener(n)}},[a,e,u]),o(()=>{let t=Q.getCurrentProject();!t.name||e!==`folder`||Se(t,a)},[a]);let Ce=e=>{console.log(`Asset available for loading:`,e.name)},we=t.useMemo(()=>{if(e!==`folder`)return[];if(!a)return[{name:`assets`,path:``}];let t=a.split(`/`),n=[{name:`assets`,path:``}],r=``;for(let e of t)r=r?`${r}/${e}`:e,n.push({name:e,path:r});return n},[a,e]),Te=e=>{let t={"3d-models":N.Cube,textures:N.Camera,audio:N.Audio,scripts:N.Code,data:N.FolderOpen,misc:N.Folder};return t[e]||N.Folder},Ee=t.useMemo(()=>E?Object.entries(E).map(([e,t])=>({id:e,label:t.name,count:t.files.length,icon:Te(e)})):[],[E]),[De,Oe]=l([]),[ke,Ae]=l(!1);o(()=>{if(!g.trim()){Oe([]),Ae(!1);return}let e=async()=>{Ae(!0);let e=Q.getCurrentProject();if(!e.name){Ae(!1);return}try{let t=await fetch(`/api/projects/${e.name}/assets/search?q=${encodeURIComponent(g)}`);if(t.ok){let e=await t.json();Oe(e.results||[])}else console.warn(`Server search not available, falling back to client-side search`),Oe([])}catch(e){console.warn(`Search API error, falling back to client-side search:`,e),t()}finally{Ae(!1)}},t=()=>{let e=[],t=g.toLowerCase();X.current.assetsByPath.forEach((n,r)=>{n.assets.forEach(n=>{(n.name.toLowerCase().includes(t)||n.fileName?.toLowerCase().includes(t))&&e.push({...n,path:r?`${r}/${n.name}`:n.name})})}),X.current.categories&&Object.values(X.current.categories).forEach(n=>{n.files?.forEach(n=>{(n.name.toLowerCase().includes(t)||n.fileName?.toLowerCase().includes(t))&&(e.find(e=>e.id===n.id)||e.push(n))})}),Oe(e)},n=setTimeout(e,300);return()=>clearTimeout(n)},[g]);let $=t.useMemo(()=>g?De.length>0?De:S.filter(e=>{let t=e.name.toLowerCase().includes(g.toLowerCase())||e.fileName.toLowerCase().includes(g.toLowerCase());return t}):S,[S,g,De]);o(()=>{if(e===`type`&&E){let e=E[u]?.files||[];C(e),P(!1)}},[e,u,E]),o(()=>{if(S.length===0)return;let e=Q.getCurrentProject();e.name;let t=[],n=[],r=[];S.forEach(e=>{e.type===`file`&&(state===`loaded`?t.push(e.id):state===`error`?n.push(e.id):state===`loading`?r.push(e.id):state===`idle`&&($.includes(e),Ce(e,priority)))}),R(t),H(n),B(r);let i=setInterval(()=>{S.forEach(e=>{state===`loaded`&&!L.includes(e.id)?(R(t=>t.includes(e.id)?t:[...t,e.id]),B(t=>t.filter(t=>t!==e.id))):state===`error`&&!V.includes(e.id)?(H(t=>t.includes(e.id)?t:[...t,e.id]),B(t=>t.filter(t=>t!==e.id))):state===`loading`&&!z.includes(e.id)&&B(t=>t.includes(e.id)?t:[...t,e.id])})},300);return()=>clearInterval(i)},[S,$]),o(()=>{if($.length===0)return;let e=$.length,t=$.filter(e=>L.includes(e.id)||V.includes(e.id)).length,n=z.size>0;if(t===e&&!n&&U){let e=setTimeout(()=>{ee(!1)},1e3);return()=>clearTimeout(e)}},[$,L,V,z,U]),o(()=>{if($.length>0){let e=$.some(e=>e.type===`file`?state===`idle`||state===`loading`:!1);ee(e)}},[$]);let je=e=>{x(!0),document.body.classList.add(`dragging-horizontal`),e.preventDefault()},Me=e=>{if(!b)return;let t=e.clientX;pe(Math.max(200,Math.min(400,t)))},Ne=()=>{x(!1),document.body.classList.remove(`dragging-horizontal`)};t.useEffect(()=>{if(b)return document.addEventListener(`mousemove`,Me),document.addEventListener(`mouseup`,Ne),()=>{document.removeEventListener(`mousemove`,Me),document.removeEventListener(`mouseup`,Ne)}},[b]);let Pe=async e=>{re(!0);let t=Q.getCurrentProject();if(!t.name){console.error(`No project loaded for file upload`),re(!1);return}try{for(let n of e){let e=new FormData;e.append(`file`,n);let r=``,i=`misc`;if(n.webkitRelativePath){let e=n.webkitRelativePath.split(`/`);e.length>1&&(r=e.slice(0,-1).join(`/`))}else{let e=n.name.toLowerCase().split(`.`).pop();[`glb`,`gltf`,`obj`,`fbx`].includes(e)?i=`models`:[`jpg`,`jpeg`,`png`,`bmp`,`tga`,`webp`].includes(e)?i=`textures`:[`mp3`,`wav`,`ogg`,`m4a`].includes(e)?i=`audio`:[`js`,`ts`,`py`].includes(e)?i=`scripts`:[`json`,`xml`].includes(e)&&(i=`data`)}let a={"X-Asset-Category":i};r&&(a[`X-Folder-Path`]=r);let o=await fetch(`/api/projects/${t.name}/assets/upload`,{method:`POST`,body:e,headers:a});if(!o.ok)throw Error(`Failed to upload ${n.name}`);let s=await o.json();console.log(`✅ Uploaded ${n.name} to ${s.path}`)}}catch(e){console.error(`Upload error:`,e),I(`Upload failed: ${e.message}`)}finally{re(!1)}},Fe=e=>{e.preventDefault(),e.stopPropagation(),!Y&&!te&&ne(!0)},Ie=e=>{e.preventDefault(),e.stopPropagation(),Y||ne(!0)},Le=e=>{e.preventDefault(),e.stopPropagation(),e.currentTarget.contains(e.relatedTarget)||ne(!1)},Re=e=>{if(e.preventDefault(),e.stopPropagation(),ne(!1),!Y){let t=Array.from(e.dataTransfer.files);t.length>0&&Pe(t)}},ze=e=>{e.preventDefault(),e.stopPropagation();let t=[{label:`Create Object`,action:()=>{},icon:m(N.PlusCircle,{className:`w-4 h-4`}),submenu:[{label:`Cube`,action:()=>Z(`cube`),icon:m(N.Cube,{className:`w-4 h-4`})},{label:`Sphere`,action:()=>Z(`sphere`),icon:m(N.Circle,{className:`w-4 h-4`})},{label:`Cylinder`,action:()=>Z(`cylinder`),icon:m(N.Rectangle,{className:`w-4 h-4`})},{label:`Plane`,action:()=>Z(`plane`),icon:m(N.Square2Stack,{className:`w-4 h-4`})},{separator:!0},{label:`Light`,action:()=>Z(`light`),icon:m(N.LightBulb,{className:`w-4 h-4`})},{label:`Camera`,action:()=>Z(`camera`),icon:m(N.Camera,{className:`w-4 h-4`})}]},{separator:!0},{label:`Upload Files...`,action:()=>Be(),icon:m(N.Upload,{className:`w-4 h-4`}),shortcut:`Ctrl+U`},{label:`Upload Folder...`,action:()=>Ve(),icon:m(N.FolderOpen,{className:`w-4 h-4`})},{separator:!0},{label:`Camera`,action:()=>{},icon:m(N.Camera,{className:`w-4 h-4`}),submenu:[{label:`Frame All`,action:()=>Ze(),icon:m(N.ArrowsPointingOut,{className:`w-4 h-4`}),shortcut:`F`},{label:`Frame Selected`,action:()=>Qe(),icon:m(N.MagnifyingGlass,{className:`w-4 h-4`}),shortcut:`Shift+F`},{separator:!0},{label:`Reset View`,action:()=>$e(),icon:m(N.ArrowPath,{className:`w-4 h-4`})},{separator:!0},{label:`Top View`,action:()=>et(`top`),icon:m(N.ArrowUp,{className:`w-4 h-4`}),shortcut:`Numpad 7`},{label:`Front View`,action:()=>et(`front`),icon:m(N.ArrowRight,{className:`w-4 h-4`}),shortcut:`Numpad 1`},{label:`Right View`,action:()=>et(`right`),icon:m(N.ArrowDown,{className:`w-4 h-4`}),shortcut:`Numpad 3`}]},{label:`Refresh`,action:()=>window.location.reload(),icon:m(N.ArrowPath,{className:`w-4 h-4`}),shortcut:`F5`},{separator:!0},{label:`New Folder`,action:()=>Ge(),icon:m(N.Folder,{className:`w-4 h-4`})}];ie({items:t,position:{x:e.clientX,y:e.clientY}})},Be=()=>{le.current?.click()},Ve=()=>{ue.current?.click()},He=e=>{let t=Array.from(e.target.files);t.length>0&&Pe(t),e.target.value=``},Ue=e=>{let t=Array.from(e.target.files);t.length>0&&Pe(t),e.target.value=``};o(()=>{let e=()=>{ie(null)};if(G)return document.addEventListener(`click`,e),()=>document.removeEventListener(`click`,e)},[G]);let We=async(e,t)=>{let n=Q.getCurrentProject();if(!n.name){console.error(`No project loaded for move operation`);return}let r=e.split(`/`).pop(),i=t?`${t}/${r}`:r;try{let t=await fetch(`/api/projects/${n.name}/assets/move`,{method:`PUT`,headers:{"Content-Type":`application/json`},body:JSON.stringify({sourcePath:e,targetPath:i})});if(!t.ok){let e=await t.json();throw Error(e.error||`Failed to move item`)}let r=await t.json();console.log(`📁 Item moved: ${r.sourcePath} → ${r.targetPath}`)}catch(e){console.error(`Error moving item:`,e),I(`Failed to move item: ${e.message}`)}},Ge=async()=>{let t=prompt(`Enter folder name:`);if(!t||!t.trim())return;let n=Q.getCurrentProject();if(!n.name){console.error(`No project loaded for folder creation`);return}try{let r=await fetch(`/api/projects/${n.name}/assets/folder`,{method:`POST`,headers:{"Content-Type":`application/json`},body:JSON.stringify({folderName:t.trim(),parentPath:e===`folder`?a:``})});if(!r.ok){let e=await r.json();throw Error(e.error||`Failed to create folder`)}let i=await r.json();console.log(`📁 Folder created: ${i.path}`)}catch(e){console.error(`Error creating folder:`,e),I(`Failed to create folder: ${e.message}`)}},Ke=e=>{s(e)},qe=e=>{j(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},Je=e=>{s(e)},Ye=e=>{e.type===`folder`&&s(e.path)},Xe=(t,n=0)=>{if(!t)return null;let r=A.includes(t.path),i=a===t.path,o=t.children&&t.children.length>0;return h(`div`,{children:[h(`div`,{className:`flex items-center py-1 px-2 text-xs cursor-pointer transition-colors ${ae===t.path?`bg-blue-600/30 border-2 border-blue-400 border-dashed rounded`:i?`bg-blue-600 text-white`:`text-gray-300 hover:bg-slate-700 hover:text-white`}`,style:{paddingLeft:`${8+n*12}px`},onClick:()=>Ke(t.path),onDragOver:n=>{Y&&e===`folder`&&(n.preventDefault(),n.dataTransfer.dropEffect=`move`,oe(t.path))},onDragEnter:n=>{Y&&e===`folder`&&(n.preventDefault(),oe(t.path))},onDragLeave:e=>{e.currentTarget.contains(e.relatedTarget)||oe(null)},onDrop:n=>{if(n.preventDefault(),Y&&e===`folder`){oe(null);try{let e=JSON.parse(n.dataTransfer.getData(`application/json`));if(e.type===`asset`&&e.path!==t.path){if(e.assetType===`folder`&&t.path.startsWith(e.path)){console.warn(`Cannot move folder into itself or its children`);return}We(e.path,t.path)}}catch(e){console.error(`Error parsing drag data in tree:`,e)}}},children:[o&&m(`button`,{onClick:e=>{e.stopPropagation(),qe(t.path)},className:`mr-1 hover:bg-blue-500 rounded`,children:m(r?N.ChevronDown:N.ChevronRight,{className:`w-3 h-3`})}),!o&&m(`div`,{className:`w-4 mr-1`}),m(N.Folder,{className:`w-3 h-3 mr-2 ${i?`text-white`:`text-yellow-400`}`}),m(`span`,{className:`truncate`,children:t.name}),t.files&&t.files.length>0&&m(`span`,{className:`ml-auto text-[10px] px-1.5 py-0.5 rounded-full ${i?`text-white bg-blue-500`:`text-gray-400 bg-slate-700`}`,children:t.files.length})]}),r&&o&&m(`div`,{children:t.children.map(e=>Xe(e,n+1))})]},t.path)},Ze=()=>{console.log(`Frame All`)},Qe=()=>{console.log(`Focus Selected`)},$e=()=>{console.log(`Reset View`)},et=e=>{console.log(`Set View`,e)};return h(`div`,{className:`h-full flex bg-slate-800 no-select`,children:[h(`div`,{className:`bg-slate-900 border-r border-slate-700 flex flex-col relative`,style:{width:fe},children:[m(`div`,{className:`absolute right-0 top-0 bottom-0 w-0.5 resize-handle cursor-col-resize ${b?`dragging`:``}`,onMouseDown:je}),h(`div`,{className:`px-2 py-2 border-b border-slate-700`,children:[h(`div`,{className:`flex items-center justify-between mb-2`,children:[m(`div`,{className:`text-xs font-medium text-gray-300`,children:`Project Assets`}),m(`div`,{className:`flex items-center gap-2`,children:h(`div`,{className:`flex bg-slate-800 rounded overflow-hidden`,children:[m(`button`,{onClick:()=>n(`folder`),className:`px-2 py-1 text-xs transition-colors ${e===`folder`?`bg-blue-600 text-white`:`text-gray-400 hover:text-white hover:bg-slate-700`}`,title:`Folder View`,children:m(N.Folder,{className:`w-3 h-3`})}),m(`button`,{onClick:()=>n(`type`),className:`px-2 py-1 text-xs transition-colors ${e===`type`?`bg-blue-600 text-white`:`text-gray-400 hover:text-white hover:bg-slate-700`}`,title:`Asset Type View`,children:m(N.Cube,{className:`w-3 h-3`})})]})})]}),h(`div`,{className:`relative`,children:[ke?m(`div`,{className:`w-3 h-3 absolute left-2 top-1.5 animate-spin`,children:m(`div`,{className:`w-3 h-3 border border-gray-400 border-t-blue-400 rounded-full`})}):m(N.MagnifyingGlass,{className:`w-3 h-3 absolute left-2 top-1.5 text-gray-400`}),m(`input`,{type:`text`,placeholder:`Search all assets...`,value:g,onChange:e=>_(e.target.value),className:`w-full pl-6 pr-2 py-1 bg-slate-800 border border-slate-600 rounded text-xs text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 transition-colors`})]})]}),m(`div`,{className:`flex-1 overflow-y-auto scrollbar-thin`,children:e===`folder`?w?m(`div`,{className:`py-1`,children:Xe(w)}):m(`div`,{className:`p-4 text-center text-gray-500 text-xs`,children:`Loading directory tree...`}):Ee.length>0?m(`div`,{className:`space-y-0.5 p-1`,children:Ee.map(e=>h(`button`,{onClick:()=>d(e.id),className:`w-full flex items-center justify-between px-2 py-1.5 text-left text-xs rounded hover:bg-slate-800 transition-colors ${u===e.id?`bg-blue-600 text-white`:`text-gray-300 hover:text-white`}`,children:[h(`span`,{className:`flex items-center`,children:[m(e.icon,{className:`w-3 h-3 mr-2 ${u===e.id?`text-white`:`text-gray-400`}`}),e.label]}),m(`span`,{className:`text-[10px] px-1.5 py-0.5 rounded-full ${u===e.id?`text-white bg-blue-500`:`text-gray-400 bg-slate-700`}`,children:e.count})]},e.id))}):m(`div`,{className:`p-4 text-center text-gray-500 text-xs`,children:`Loading asset categories...`})})]}),h(`div`,{className:`flex-1 flex flex-col transition-all duration-200 relative ${te?`bg-blue-900/30 border-2 border-blue-400 border-dashed`:`bg-slate-800`}`,children:[m(`div`,{className:`bg-slate-800 flex-shrink-0 border-b border-slate-700`,children:h(`div`,{className:`flex items-center justify-between px-3 py-2`,children:[m(`div`,{className:`flex items-center text-xs`,children:e===`folder`&&we.length>0?we.map((e,n)=>h(t.Fragment,{children:[m(`button`,{onClick:()=>Je(e.path),className:`px-2 py-1 rounded transition-colors ${J===e.path?`bg-blue-600/30 border border-blue-400 border-dashed text-blue-200`:n===we.length-1?`text-white font-medium hover:text-blue-400`:`text-gray-400 hover:text-blue-400`}`,onDragOver:t=>{Y&&(t.preventDefault(),t.dataTransfer.dropEffect=`move`,se(e.path))},onDragEnter:t=>{Y&&(t.preventDefault(),se(e.path))},onDragLeave:e=>{e.currentTarget.contains(e.relatedTarget)||se(null)},onDrop:t=>{if(t.preventDefault(),Y){se(null);try{let n=JSON.parse(t.dataTransfer.getData(`application/json`));if(n.type===`asset`&&n.path!==e.path){if(n.assetType===`folder`&&e.path.startsWith(n.path)){console.warn(`Cannot move folder into itself or its children`);return}We(n.path,e.path)}}catch(e){console.error(`Error parsing drag data in breadcrumb:`,e)}}},children:e.name}),n<we.length-1&&m(N.ChevronRight,{className:`w-3 h-3 mx-1 text-gray-600`})]},e.path)):m(`span`,{className:`text-gray-400 px-2 py-1`,children:e===`type`&&E&&E[u]?E[u].name:`Assets`})}),h(`div`,{className:`flex items-center gap-3`,children:[h(`span`,{className:`text-xs text-gray-400`,children:[$.length,` items`]}),$.length>0&&U&&h(`div`,{className:`flex items-center gap-2 transition-all duration-1000 opacity-100`,children:[m(`div`,{className:`w-20 h-1.5 bg-gray-700 rounded-full overflow-hidden`,children:m(`div`,{className:`h-full bg-green-500 transition-all duration-300 rounded-full`,style:{width:`${$.filter(e=>L.includes(e.id)).length/$.length*100}%`}})}),h(`span`,{className:`text-xs text-gray-400`,children:[$.filter(e=>L.includes(e.id)).length,`/`,$.length]})]}),h(`div`,{className:`flex bg-slate-700 rounded overflow-hidden`,children:[m(`button`,{onClick:()=>i(`grid`),className:`px-2 py-1 text-xs transition-colors ${r===`grid`?`bg-blue-600 text-white`:`text-gray-400 hover:text-white hover:bg-slate-600`}`,title:`Grid View`,children:m(N.Square2Stack,{className:`w-3 h-3`})}),m(`button`,{onClick:()=>i(`list`),className:`px-2 py-1 text-xs transition-colors ${r===`list`?`bg-blue-600 text-white`:`text-gray-400 hover:text-white hover:bg-slate-600`}`,title:`List View`,children:m(N.MenuBars,{className:`w-3 h-3`})})]}),$.length>0&&m(p,{children:U?h(`div`,{className:`flex items-center gap-1.5 text-blue-400/80 bg-blue-400/10 px-2 py-1 rounded-md border border-blue-400/20`,children:[m(`div`,{className:`w-2 h-2 bg-blue-400 rounded-full animate-spin`}),m(`span`,{className:`text-xs font-medium`,children:`Loading...`})]}):(()=>{let e=$.filter(e=>e.type===`file`),t=e.filter(e=>L.includes(e.id));return t.length===e.length})()?h(`div`,{className:`flex items-center gap-1.5 text-green-400/80`,children:[m(`div`,{className:`w-2 h-2 bg-green-400 rounded-full animate-pulse`}),m(`span`,{className:`text-xs font-medium`,children:`Synced`})]}):(()=>{let e=$.filter(e=>e.type===`file`),t=e.filter(e=>L.includes(e.id));if(e.length===0)return h(`div`,{className:`flex items-center gap-1.5 text-green-400/80`,children:[m(`div`,{className:`w-2 h-2 bg-green-400 rounded-full animate-pulse`}),m(`span`,{className:`text-xs font-medium`,children:`Synced`})]});let n=Math.round(t.length/e.length*100);return h(`div`,{className:`flex items-center gap-1.5 text-orange-400/80`,children:[m(`div`,{className:`w-2 h-2 bg-orange-400 rounded-full animate-pulse`}),h(`span`,{className:`text-xs font-medium`,children:[n,`%`]})]})})()})]})]})}),h(`div`,{className:`flex-1 p-3 overflow-y-auto scrollbar-thin`,onDragOver:Fe,onDragEnter:Ie,onDragLeave:Le,onDrop:Re,onContextMenu:ze,children:[M&&m(`div`,{className:`text-center text-gray-400 mt-12`,children:m(`p`,{className:`text-sm`,children:`Loading assets...`})}),F&&m(`div`,{className:`text-center text-red-400 mt-12`,children:h(`p`,{className:`text-sm`,children:[`Error: `,F]})}),W&&m(`div`,{className:`text-center text-blue-400 mt-12`,children:h(`div`,{className:`flex items-center justify-center gap-2`,children:[m(`div`,{className:`w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin`}),m(`p`,{className:`text-sm`,children:`Uploading files...`})]})}),te&&m(`div`,{className:`absolute inset-0 flex items-center justify-center bg-blue-900/20 backdrop-blur-sm z-10`,children:h(`div`,{className:`text-center`,children:[m(`div`,{className:`w-16 h-16 mx-auto mb-4 border-2 border-blue-400 border-dashed rounded-lg flex items-center justify-center`,children:m(`svg`,{className:`w-8 h-8 text-blue-400`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:m(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12`})})}),m(`p`,{className:`text-lg font-medium text-blue-400`,children:`Drop files to upload`}),m(`p`,{className:`text-sm text-blue-300`,children:`Supports 3D models, textures, audio, and more`})]})}),!M&&!F&&!W&&m(p,{children:$.length===0?h(`div`,{className:`flex flex-col items-center justify-center min-h-[200px] h-[calc(100vh-500px)] max-h-[400px] py-4 sm:py-6 lg:py-8 text-center`,children:[m(`div`,{className:`w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 sm:mb-6 border-2 border-gray-600 border-dashed rounded-xl flex items-center justify-center bg-gray-800/30`,children:m(N.FolderOpen,{className:`w-8 h-8 sm:w-10 sm:h-10 text-gray-500`})}),m(`h3`,{className:`text-base sm:text-lg font-medium text-gray-300 mb-2`,children:e===`folder`?`Empty folder`:`No ${E?.[u]?.name?.toLowerCase()||`assets`} found`}),m(`p`,{className:`text-sm text-gray-400 mb-4 sm:mb-6 max-w-sm px-4`,children:e===`folder`?`This folder is empty. Add some assets to get started.`:`No ${E?.[u]?.name?.toLowerCase()||`assets`} in this category yet.`}),h(`div`,{className:`flex flex-col sm:flex-row gap-3 mb-3 sm:mb-4`,children:[h(`button`,{onClick:()=>le.current?.click(),className:`flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors min-w-[120px]`,children:[m(N.Upload,{className:`w-4 h-4`}),`Upload Files`]}),h(`button`,{onClick:()=>ue.current?.click(),className:`flex items-center justify-center gap-2 px-4 py-2 border border-gray-600 hover:border-gray-500 hover:bg-gray-800/50 text-gray-300 text-sm font-medium rounded-lg transition-colors min-w-[120px]`,children:[m(N.Folder,{className:`w-4 h-4`}),`Upload Folder`]})]}),m(`p`,{className:`text-xs text-gray-500`,children:`Or drag and drop files anywhere in this area`})]}):r===`grid`?m(`div`,{className:`grid grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-10 gap-3`,children:$.map(t=>h(`div`,{className:`group cursor-pointer transition-all duration-200 p-2 rounded hover:bg-slate-700/30 ${K===t.path?`bg-blue-600/30 border-2 border-blue-400 border-dashed`:``}`,draggable:!0,onMouseEnter:()=>y(t.id),onMouseLeave:()=>y(null),onClick:e=>{t.type===`file`&&V.includes(t.id)&&(e.preventDefault(),console.log(`🔄 Retrying failed asset: ${t.name}`),H(e=>e.filter(e=>e!==t.id)),Ce(t))},onDoubleClick:()=>Ye(t),onDragStart:e=>{if(console.log(`🔥 Drag start triggered for:`,t.name,t.type),ce(!0),t.type===`file`){console.log(`✅ Starting drag for file:`,t.name);let n=e=>{let t=e?.toLowerCase()||``;return[`.glb`,`.gltf`,`.obj`,`.fbx`].includes(t)?`3d-models`:[`.jpg`,`.jpeg`,`.png`,`.webp`,`.bmp`,`.tga`].includes(t)?`textures`:[`.mp3`,`.wav`,`.ogg`,`.m4a`].includes(t)?`audio`:[`.js`,`.ts`,`.py`].includes(t)?`scripts`:`misc`},r={type:`asset`,id:t.id,name:t.name,path:t.path,assetType:t.type,fileName:t.fileName,extension:t.extension,mimeType:t.mimeType,category:n(t.extension)};e.dataTransfer.setData(`application/json`,JSON.stringify(r)),e.dataTransfer.setData(`text/plain`,t.name),e.dataTransfer.setData(`application/x-asset-drag`,`true`);let i=Q.getCurrentProject(),a=`/api/projects/${i.name}/assets/file/${encodeURIComponent(t.path)}?download=true`;e.dataTransfer.setData(`text/uri-list`,a),e.dataTransfer.setData(`DownloadURL`,`${t.mimeType||`application/octet-stream`}:${t.name}:${a}`),e.dataTransfer.effectAllowed=`copyMove`;let o=document.createElement(`div`),s=e=>[`.glb`,`.gltf`,`.obj`,`.fbx`].includes(e)?`🧊`:[`.jpg`,`.jpeg`,`.png`,`.webp`,`.bmp`].includes(e)?`🖼️`:[`.mp3`,`.wav`,`.ogg`,`.m4a`].includes(e)?`🎵`:[`.js`,`.ts`,`.py`].includes(e)?`📄`:`📦`,c=s(t.extension||``);o.innerHTML=`
                      <div style="
                        background: rgba(59, 130, 246, 0.9);
                        color: white;
                        padding: 8px 12px;
                        border-radius: 6px;
                        font-size: 12px;
                        font-weight: 500;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                        backdrop-filter: blur(8px);
                        border: 1px solid rgba(255,255,255,0.2);
                      ">
                        ${c} ${t.name}
                      </div>
                    `,o.style.position=`absolute`,o.style.top=`-1000px`,document.body.appendChild(o),e.dataTransfer.setDragImage(o,50,20),setTimeout(()=>{document.body.removeChild(o)},0)}else if(t.type===`folder`){console.log(`✅ Starting drag for folder:`,t.name);let n={type:`asset`,id:t.id,name:t.name,path:t.path,assetType:t.type};e.dataTransfer.setData(`application/json`,JSON.stringify(n)),e.dataTransfer.setData(`text/plain`,t.name),e.dataTransfer.effectAllowed=`move`;let r=document.createElement(`div`);r.innerHTML=`
                      <div style="
                        background: rgba(251, 191, 36, 0.9);
                        color: black;
                        padding: 8px 12px;
                        border-radius: 6px;
                        font-size: 12px;
                        font-weight: 500;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                        backdrop-filter: blur(8px);
                        border: 1px solid rgba(255,255,255,0.2);
                      ">
                        📁 ${t.name}
                      </div>
                    `,r.style.position=`absolute`,r.style.top=`-1000px`,document.body.appendChild(r),e.dataTransfer.setDragImage(r,50,20),setTimeout(()=>{document.body.removeChild(r)},0)}console.log(`📦 Drag data prepared for:`,t.type,t.name)},onDragEnd:()=>{ce(!1),q(null),oe(null),se(null)},onDragOver:n=>{t.type===`folder`&&e===`folder`&&(n.preventDefault(),n.dataTransfer.dropEffect=`move`,q(t.path))},onDragLeave:e=>{t.type===`folder`&&!e.currentTarget.contains(e.relatedTarget)&&q(null)},onDrop:n=>{if(n.preventDefault(),t.type===`folder`&&e===`folder`){q(null);try{let e=JSON.parse(n.dataTransfer.getData(`application/json`));if(e.type===`asset`&&e.path!==t.path){if(e.assetType===`folder`&&t.path.startsWith(e.path)){console.warn(`Cannot move folder into itself or its children`);return}We(e.path,t.path)}}catch(e){console.error(`Error parsing drag data:`,e)}}},children:[m(`div`,{className:`relative`,children:h(`div`,{className:`w-full h-16 mb-2 flex items-center justify-center relative`,children:[t.type===`folder`?m(N.Folder,{className:`w-12 h-12 text-yellow-400 group-hover:scale-110 transition-all`}):m(`div`,{className:`w-14 h-14 bg-gray-700 rounded flex items-center justify-center transition-all group-hover:scale-110 ${L.includes(t.id)?`opacity-100`:V.includes(t.id)?`opacity-40 grayscale`:`opacity-60`}`,children:m(N.Cube,{className:`w-8 h-8 text-gray-400`})}),t.type===`file`&&t.extension&&m(`div`,{className:`absolute top-0 right-0 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full text-center leading-none`,children:t.extension.replace(`.`,``).toUpperCase()}),t.type===`file`&&m(`div`,{className:`absolute -bottom-1 -right-1`,children:z.includes(t.id)?m(`div`,{className:`w-6 h-6 bg-yellow-500 rounded-full flex items-center justify-center`,children:m(`div`,{className:`w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin`})}):V.includes(t.id)?m(`div`,{className:`w-6 h-6 bg-red-500 rounded-full flex items-center justify-center`,title:`Failed to load ${t.name}`,children:m(`svg`,{className:`w-3 h-3 text-white`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:m(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:3,d:`M6 18L18 6M6 6l12 12`})})}):L.includes(t.id)?m(`div`,{className:`w-6 h-6 bg-green-500 rounded-full flex items-center justify-center`,children:m(`svg`,{className:`w-3 h-3 text-white`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:m(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:3,d:`M5 13l4 4L19 7`})})}):m(`div`,{className:`w-6 h-6 bg-gray-500 rounded-full flex items-center justify-center`,children:m(`div`,{className:`w-2 h-2 bg-gray-300 rounded-full`})})})]})}),m(`div`,{className:`text-xs text-gray-300 group-hover:text-white transition-colors truncate text-center`,title:t.name,children:t.name})]},t.id))}):m(`div`,{className:`space-y-0`,children:$.map((t,n)=>h(`div`,{className:`group cursor-pointer transition-all duration-200 p-2 flex items-center gap-3 ${K===t.path?`bg-blue-600/30 border-2 border-blue-400 border-dashed rounded`:n%2==0?`bg-slate-800/50 hover:bg-slate-700/50`:`bg-slate-900/30 hover:bg-slate-700/50`}`,draggable:!0,onMouseEnter:()=>y(t.id),onMouseLeave:()=>y(null),onClick:e=>{t.type===`file`&&V.includes(t.id)&&(e.preventDefault(),console.log(`🔄 Retrying failed asset: ${t.name}`),H(e=>e.filter(e=>e!==t.id)),Ce(t))},onDoubleClick:()=>Ye(t),onDragStart:e=>{if(console.log(`🔥 Drag start triggered for:`,t.name,t.type),ce(!0),t.type===`file`){console.log(`✅ Starting drag for file:`,t.name);let n=e=>{let t=e?.toLowerCase()||``;return[`.glb`,`.gltf`,`.obj`,`.fbx`].includes(t)?`3d-models`:[`.jpg`,`.jpeg`,`.png`,`.webp`,`.bmp`,`.tga`].includes(t)?`textures`:[`.mp3`,`.wav`,`.ogg`,`.m4a`].includes(t)?`audio`:[`.js`,`.ts`,`.py`].includes(t)?`scripts`:`misc`},r={type:`asset`,id:t.id,name:t.name,path:t.path,assetType:t.type,fileName:t.fileName,extension:t.extension,mimeType:t.mimeType,category:n(t.extension)};e.dataTransfer.setData(`application/json`,JSON.stringify(r)),e.dataTransfer.setData(`text/plain`,t.name),e.dataTransfer.setData(`application/x-asset-drag`,`true`);let i=Q.getCurrentProject(),a=`/api/projects/${i.name}/assets/file/${encodeURIComponent(t.path)}?download=true`;e.dataTransfer.setData(`text/uri-list`,a),e.dataTransfer.setData(`DownloadURL`,`${t.mimeType||`application/octet-stream`}:${t.name}:${a}`),e.dataTransfer.effectAllowed=`copyMove`;let o=document.createElement(`div`),s=e=>[`.glb`,`.gltf`,`.obj`,`.fbx`].includes(e)?`🧊`:[`.jpg`,`.jpeg`,`.png`,`.webp`,`.bmp`].includes(e)?`🖼️`:[`.mp3`,`.wav`,`.ogg`,`.m4a`].includes(e)?`🎵`:[`.js`,`.ts`,`.py`].includes(e)?`📄`:`📦`,c=s(t.extension||``);o.innerHTML=`
                          <div style="
                            background: rgba(59, 130, 246, 0.9);
                            color: white;
                            padding: 8px 12px;
                            border-radius: 6px;
                            font-size: 12px;
                            font-weight: 500;
                            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                            backdrop-filter: blur(8px);
                            border: 1px solid rgba(255,255,255,0.2);
                          ">
                            ${c} ${t.name}
                          </div>
                        `,o.style.position=`absolute`,o.style.top=`-1000px`,document.body.appendChild(o),e.dataTransfer.setDragImage(o,50,20),setTimeout(()=>{document.body.removeChild(o)},0)}else if(t.type===`folder`){console.log(`✅ Starting drag for folder:`,t.name);let n={type:`asset`,id:t.id,name:t.name,path:t.path,assetType:t.type};e.dataTransfer.setData(`application/json`,JSON.stringify(n)),e.dataTransfer.setData(`text/plain`,t.name),e.dataTransfer.effectAllowed=`move`;let r=document.createElement(`div`);r.innerHTML=`
                          <div style="
                            background: rgba(251, 191, 36, 0.9);
                            color: black;
                            padding: 8px 12px;
                            border-radius: 6px;
                            font-size: 12px;
                            font-weight: 500;
                            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                            backdrop-filter: blur(8px);
                            border: 1px solid rgba(255,255,255,0.2);
                          ">
                            📁 ${t.name}
                          </div>
                        `,r.style.position=`absolute`,r.style.top=`-1000px`,document.body.appendChild(r),e.dataTransfer.setDragImage(r,50,20),setTimeout(()=>{document.body.removeChild(r)},0)}console.log(`📦 Drag data prepared for:`,t.type,t.name)},onDragEnd:()=>{ce(!1),q(null),oe(null),se(null)},onDragOver:n=>{t.type===`folder`&&e===`folder`&&(n.preventDefault(),n.dataTransfer.dropEffect=`move`,q(t.path))},onDragLeave:e=>{t.type===`folder`&&!e.currentTarget.contains(e.relatedTarget)&&q(null)},onDrop:n=>{if(n.preventDefault(),t.type===`folder`&&e===`folder`){q(null);try{let e=JSON.parse(n.dataTransfer.getData(`application/json`));if(e.type===`asset`&&e.path!==t.path){if(e.assetType===`folder`&&t.path.startsWith(e.path)){console.warn(`Cannot move folder into itself or its children`);return}We(e.path,t.path)}}catch(e){console.error(`Error parsing drag data:`,e)}}},children:[h(`div`,{className:`w-8 h-8 flex items-center justify-center flex-shrink-0 relative`,children:[t.type===`folder`?m(N.Folder,{className:`w-6 h-6 text-yellow-400`}):m(`div`,{className:`w-6 h-6 bg-gray-700 rounded flex items-center justify-center ${L.includes(t.id)?`opacity-100`:V.includes(t.id)?`opacity-40 grayscale`:`opacity-60`}`,children:m(N.Cube,{className:`w-4 h-4 text-gray-400`})}),t.type===`file`&&m(`div`,{className:`absolute -bottom-1 -right-1`,children:z.includes(t.id)?m(`div`,{className:`w-3 h-3 bg-yellow-500 rounded-full flex items-center justify-center`,children:m(`div`,{className:`w-1.5 h-1.5 border border-white border-t-transparent rounded-full animate-spin`})}):V.includes(t.id)?m(`div`,{className:`w-3 h-3 bg-red-500 rounded-full flex items-center justify-center`,children:m(`svg`,{className:`w-2 h-2 text-white`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:m(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:3,d:`M6 18L18 6M6 6l12 12`})})}):L.includes(t.id)?m(`div`,{className:`w-3 h-3 bg-green-500 rounded-full flex items-center justify-center`,children:m(`svg`,{className:`w-2 h-2 text-white`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`,children:m(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:3,d:`M5 13l4 4L19 7`})})}):m(`div`,{className:`w-3 h-3 bg-gray-500 rounded-full flex items-center justify-center`,children:m(`div`,{className:`w-1 h-1 bg-gray-300 rounded-full`})})})]}),h(`div`,{className:`flex-1 min-w-0`,children:[m(`div`,{className:`text-sm text-gray-300 group-hover:text-white transition-colors truncate`,children:t.name}),t.type===`file`&&h(`div`,{className:`text-xs text-gray-500 truncate`,children:[t.extension?.toUpperCase(),` • `,t.size?`${Math.round(t.size/1024)} KB`:`Unknown size`]})]}),t.type===`file`&&t.extension&&m(`div`,{className:`flex-shrink-0`,children:m(`div`,{className:`bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full`,children:t.extension.replace(`.`,``).toUpperCase()})})]},t.id))})}),!M&&!F&&$.length===0&&g&&h(`div`,{className:`text-center text-gray-500 mt-12`,children:[h(`p`,{className:`text-sm`,children:[`No assets found matching "`,g,`"`]}),m(`p`,{className:`text-xs text-gray-600 mt-2`,children:`Try adjusting your search or upload new assets`})]}),m(`input`,{ref:le,type:`file`,multiple:!0,accept:`.glb,.gltf,.obj,.fbx,.jpg,.jpeg,.png,.bmp,.tga,.webp,.mp3,.wav,.ogg,.m4a,.js,.ts,.py,.json,.xml,.txt,.md`,onChange:He,style:{display:`none`}}),m(`input`,{ref:ue,type:`file`,webkitdirectory:``,multiple:!0,onChange:Ue,style:{display:`none`}}),G&&m(_e,{items:G.items,position:G.position,onClose:()=>ie(null)})]})]})]})}var be=ye;const xe=({activeTab:e,isAssetPanelOpen:t,bottomPanelHeight:n,rightPanelWidth:r,isScenePanelOpen:i,onTabChange:a,onToggleAssetPanel:o,onContextMenu:s,style:c={}})=>{let l=()=>{if(!t)return null;switch(n-40,e){case`assets`:return m(be,{onContextMenu:s});default:return null}};return h(`div`,{className:`absolute bottom-0 left-0 pointer-events-auto no-select z-10`,style:{right:i?r-4:48,height:t?n:40,...c},suppressHydrationWarning:!0,children:[m(de,{activeTab:e,onTabChange:e=>{a(e),t||o(!0)},isAssetPanelOpen:t,onToggleAssetPanel:o,rightPanelWidth:r,isScenePanelOpen:i}),t&&m(`div`,{className:`flex-1 bg-gray-900 overflow-hidden`,style:{height:n-40},children:l()})]})};var Se=xe;const Ce=({onClick:e,position:t,className:n=``})=>m(`div`,{className:`absolute top-1 w-6 pointer-events-auto z-50 ${n}`,style:t,children:m(`button`,{onClick:e,className:`w-6 h-8 text-gray-400 hover:text-blue-400 transition-colors flex items-center justify-center`,style:{backgroundColor:`#1e293b`,borderLeft:`1px solid #475569`,borderTop:`1px solid #475569`,borderBottom:`1px solid #475569`,borderTopLeftRadius:`6px`,borderBottomLeftRadius:`6px`},children:m(`div`,{className:`w-3 h-3 flex items-center justify-center`,children:m(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,className:`w-3 h-3`,children:m(`path`,{d:`m15 18-6-6 6-6`})})})})});var we=Ce;function Te({isVisible:e,progress:t,currentAsset:n,onComplete:r}){let[i,a]=l(0);return o(()=>{let e=setInterval(()=>{a(e=>{let n=t-e;return Math.abs(n)<.1?t:e+n*.3})},16);return()=>clearInterval(e)},[t]),o(()=>{if(t>=100){let e=setTimeout(()=>{r?.()},500);return()=>clearTimeout(e)}},[t,r]),!e&&t===0?null:m(`div`,{className:`fixed inset-0 bg-black/15 backdrop-blur-[1px] flex items-center justify-center z-50 transition-opacity duration-300 ${e?`opacity-100`:`opacity-0 pointer-events-none`}`,children:h(`div`,{className:`bg-gray-900/95 border border-gray-700 rounded-lg p-8 max-w-md w-full mx-4 shadow-2xl`,children:[h(`div`,{className:`text-center mb-6`,children:[m(`h2`,{className:`text-2xl font-bold text-white mb-2`,children:`Renzora Engine`}),m(`div`,{className:`w-12 h-1 bg-gradient-to-r from-blue-500 to-purple-500 mx-auto rounded-full`})]}),h(`div`,{className:`mb-6`,children:[h(`div`,{className:`flex justify-between items-center mb-2`,children:[m(`span`,{className:`text-sm text-gray-300`,children:`Loading Assets`}),h(`span`,{className:`text-sm text-blue-400 font-mono`,children:[Math.round(i),`%`]})]}),m(`div`,{className:`w-full bg-gray-800 rounded-full h-2 overflow-hidden`,children:m(`div`,{className:`h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-300 ease-out relative`,style:{width:`${i}%`},children:m(`div`,{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse`})})})]}),n&&h(`div`,{className:`text-center`,children:[m(`p`,{className:`text-xs text-gray-400 mb-1`,children:n.includes(`Engine`)||n.includes(`System`)?`Initializing:`:`Loading:`}),m(`p`,{className:`text-sm text-gray-200 truncate font-mono bg-gray-800/50 px-3 py-1 rounded`,children:n})]})]})})}function Ee({operation:e,progress:t}){let n=e=>{switch(e){case`creating`:return`Creating Project`;case`loading`:return`Loading Project`;case`saving`:return`Saving Project`;case`exporting`:return`Exporting Project`;case`importing`:return`Importing Project`;default:return`Processing`}};return h(`div`,{className:`flex items-center gap-3 px-4 py-2 bg-gray-800/90 rounded-lg border border-gray-700`,children:[m(`div`,{className:`w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin`}),m(`span`,{className:`text-sm text-gray-200`,children:n(e)}),t!==void 0&&h(`div`,{className:`flex items-center gap-2 ml-auto`,children:[m(`div`,{className:`w-16 bg-gray-700 rounded-full h-1`,children:m(`div`,{className:`h-full bg-blue-500 rounded-full transition-all duration-300`,style:{width:`${t}%`}})}),h(`span`,{className:`text-xs text-blue-400 font-mono min-w-[3ch]`,children:[Math.round(t),`%`]})]})]})}const De=r();function Oe(){let e=a(De);if(!e)throw Error(`useLoading must be used within LoadingProvider`);return e}function ke({children:e}){let[t,n]=l({isLoading:!1,progress:0,currentAsset:``,operation:``}),{panels:r}=f(D.editor);o(()=>{let e=e=>{console.log(`🔄 LoadingProvider received event:`,{isLoading:e.isLoading,operation:e.operation,progress:e.progress,asset:e.asset,panelsResizing:r.isResizingPanels});let t=e.isLoading&&e.operation!==`auto-saving`;e.isLoading&&!t&&console.log(`🚫 Suppressing loading screen for operation:`,e.operation),t&&console.log(`✅ Showing loading screen for operation:`,e.operation),n({isLoading:t,progress:e.progress,currentAsset:e.asset,operation:e.operation})};return Q.addLoadingListener(e),()=>{Q.removeLoadingListener(e)}},[r.isResizingPanels]);let i={...t,startLoading:e=>Q.startLoading(e),updateProgress:(e,t)=>Q.updateLoadingProgress(e,t),finishLoading:()=>Q.finishLoading()};return h(De.Provider,{value:i,children:[e,m(Te,{isVisible:t.isLoading,progress:t.progress,currentAsset:t.currentAsset,operation:t.operation,onComplete:()=>{}})]})}function Ae({onProjectLoad:e,onClose:t}){let[n,r]=l(!1),[i,a]=l(``),[o,s]=l(`empty`),[u,d]=l(null),f=c(null),{isLoading:p,operation:g,progress:_}=Oe(),v=[{id:`empty`,name:`Empty Project`,description:`Start with a blank scene`,icon:`📄`},{id:`basic-3d`,name:`Basic 3D Scene`,description:`Scene with basic lighting and objects`,icon:`🎯`},{id:`character`,name:`Character Project`,description:`Template for character animations`,icon:`🚶`},{id:`environment`,name:`Environment`,description:`Template for environment design`,icon:`🏔️`},{id:`game`,name:`Game Project`,description:`Basic game setup with physics`,icon:`🎮`}],y=async n=>{let r=n.target.files[0];if(r){if(!r.name.endsWith(`.ren`)){d(`Please select a .ren project file`);return}d(null);try{let n=r.name.replace(`.ren`,``),i=await Q.extractProject(r,n);e?.(n,i),t?.()}catch(e){d(`Failed to open project: ${e.message}`)}}},b=async()=>{if(!i.trim()){d(`Please enter a project name`);return}d(null);try{let n=await Q.createNewProject(i.trim(),o);e?.(i.trim(),n),t?.()}catch(e){d(`Failed to create project: ${e.message}`)}},x=async()=>{let e=Q.getCurrentProject();if(!e.path){d(`No project is currently open`);return}d(null);try{await Q.packageProject(e.path,e.name)}catch(e){d(`Failed to export project: ${e.message}`)}};return m(`div`,{className:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50`,children:h(`div`,{className:`bg-gray-800 rounded-lg p-6 w-96 max-w-sm mx-4`,children:[h(`div`,{className:`flex justify-between items-center mb-6`,children:[m(`h2`,{className:`text-xl font-semibold text-white`,children:`Renzora Projects`}),t&&m(`button`,{onClick:t,className:`text-gray-400 hover:text-white text-xl`,children:`×`})]}),u&&m(`div`,{className:`bg-red-900 border border-red-600 text-red-200 px-3 py-2 rounded mb-4`,children:u}),p&&m(`div`,{className:`mb-4`,children:m(Ee,{operation:g,progress:_})}),h(`div`,{className:`space-y-4`,children:[h(`div`,{children:[m(`h3`,{className:`text-sm font-medium text-gray-300 mb-2`,children:`Open Project`}),m(`input`,{ref:f,type:`file`,accept:`.ren`,onChange:y,className:`hidden`}),m(`button`,{onClick:()=>f.current?.click(),disabled:p,className:`w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white py-2 px-4 rounded transition-colors`,children:p&&g===`importing`?`Opening...`:`Open .ren File`})]}),h(`div`,{children:[m(`h3`,{className:`text-sm font-medium text-gray-300 mb-2`,children:`Create New Project`}),n?h(`div`,{className:`space-y-4`,children:[h(`div`,{children:[m(`label`,{className:`block text-xs font-medium text-gray-400 mb-2`,children:`Choose Template`}),m(`div`,{className:`grid grid-cols-1 gap-2 max-h-48 overflow-y-auto`,children:v.map(e=>h(`button`,{onClick:()=>s(e.id),className:`flex items-center gap-3 p-3 rounded-lg border text-left transition-all ${o===e.id?`border-blue-500 bg-blue-600/20 text-blue-300`:`border-gray-600 bg-gray-700/50 text-gray-300 hover:border-gray-500 hover:bg-gray-700`}`,children:[m(`span`,{className:`text-lg`,children:e.icon}),h(`div`,{className:`flex-1 min-w-0`,children:[m(`div`,{className:`text-sm font-medium`,children:e.name}),m(`div`,{className:`text-xs text-gray-400`,children:e.description})]})]},e.id))})]}),m(`input`,{type:`text`,value:i,onChange:e=>a(e.target.value),placeholder:`Project name`,className:`w-full bg-gray-700 text-white border border-gray-600 rounded px-3 py-2 focus:outline-none focus:border-blue-500`,onKeyPress:e=>e.key===`Enter`&&b()}),h(`div`,{className:`flex gap-2`,children:[m(`button`,{onClick:b,disabled:p,className:`flex-1 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white py-2 px-4 rounded transition-colors`,children:p&&g===`creating`?`Creating...`:`Create`}),m(`button`,{onClick:()=>{r(!1),a(``),s(`empty`),d(null)},className:`flex-1 bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded transition-colors`,children:`Cancel`})]})]}):m(`button`,{onClick:()=>r(!0),disabled:p,className:`w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white py-2 px-4 rounded transition-colors`,children:`New Project`})]}),h(`div`,{children:[m(`h3`,{className:`text-sm font-medium text-gray-300 mb-2`,children:`Export Project`}),m(`button`,{onClick:x,disabled:p||!Q.getCurrentProject().path,className:`w-full bg-purple-600 hover:bg-purple-700 disabled:bg-gray-600 text-white py-2 px-4 rounded transition-colors`,children:p&&g===`exporting`?`Exporting...`:`Export as .ren`}),!Q.getCurrentProject().path&&m(`p`,{className:`text-xs text-gray-400 mt-1`,children:`No project currently open`})]})]}),Q.getCurrentProject().name&&h(`div`,{className:`mt-6 pt-4 border-t border-gray-700`,children:[m(`h4`,{className:`text-sm font-medium text-gray-300 mb-1`,children:`Current Project`}),m(`p`,{className:`text-sm text-gray-400`,children:Q.getCurrentProject().name}),m(`p`,{className:`text-xs text-gray-500 mt-1`,children:`Auto-saves every 30 seconds`})]}),!Q.getCurrentProject().name&&m(`div`,{className:`mt-6 pt-4 border-t border-gray-700`,children:m(`p`,{className:`text-xs text-gray-500`,children:`No project loaded`})})]})})}function $(){let[t,n]=l(null),[r,i]=l(!1),[a,s]=l(null),[c,u]=l(!1),[d,g]=l(!1),[_,v]=l(!1),[y,b]=l(`select`),[x,S]=l(null),[C,w]=l(null),{ui:T,selection:E}=f(D.editor),{transformMode:O}=E,{setTransformMode:A}=k.editor,j=Q.getCurrentProject(),M=async()=>{if(!r)try{i(!0),await e.saveNow(),k.editor.addConsoleMessage(`Project saved successfully`,`success`)}catch(e){console.error(`Save failed:`,e),k.editor.addConsoleMessage(`Failed to save project`,`error`)}finally{i(!1)}};o(()=>{let e=Q.getCurrentProjectFromStorage();e?.lastAccessed&&s(new Date(e.lastAccessed))},[]),o(()=>{let t=()=>{u(e.hasUnsavedChanges())};t();let n=setInterval(t,1e3);return()=>clearInterval(n)},[]);let P=e=>{if(!e)return`Never synced`;let t=new Date,n=t-e,r=Math.floor(n/6e4),i=Math.floor(n/36e5),a=Math.floor(n/864e5);return r<1?`Just now`:r<60?`${r}m ago`:i<24?`${i}h ago`:`${a}d ago`},F=()=>c?{color:`bg-yellow-500`,tooltip:`Unsaved changes - will auto-save soon`}:{color:`bg-green-500`,tooltip:`Last sync: ${P(a)}`};N.MousePointer||N.Select,N.Move,N.RotateCcw,N.Maximize,N.Camera,N.Paintbrush2||N.Paint,N.Undo,N.Redo;let I={File:[{id:`new`,label:`New Project`,icon:N.Plus},{id:`open`,label:`Open Project`,icon:N.Folder},{id:`save`,label:`Save Project`,icon:N.Save,action:M},{id:`save-as`,label:`Save As...`,icon:N.Save},{divider:!0},{id:`import`,label:`Import`,icon:N.Upload},{id:`export`,label:`Export`,icon:N.Download},{divider:!0},{id:`recent`,label:`Recent Projects`,icon:N.Clock}],Edit:[{id:`undo`,label:`Undo`,icon:N.Undo},{id:`redo`,label:`Redo`,icon:N.Redo},{divider:!0},{id:`cut`,label:`Cut`,icon:N.Scissors},{id:`copy`,label:`Copy`,icon:N.Copy},{id:`paste`,label:`Paste`,icon:N.Clipboard},{id:`duplicate`,label:`Duplicate`,icon:N.Copy},{id:`delete`,label:`Delete`,icon:N.Trash},{divider:!0},{id:`select-all`,label:`Select All`}],View:[{id:`wireframe`,label:`Wireframe Mode`},{id:`solid`,label:`Solid Mode`},{id:`material`,label:`Material Preview`},{id:`rendered`,label:`Rendered Mode`},{divider:!0},{id:`grid`,label:`Show Grid`},{id:`axes`,label:`Show Axes`},{id:`statistics`,label:`Show Statistics`},{divider:!0},{id:`fullscreen`,label:`Fullscreen`}],Tools:[{id:`select`,label:`Select Tool`,icon:N.MousePointer},{id:`move`,label:`Move Tool`,icon:N.Move},{id:`rotate`,label:`Rotate Tool`,icon:N.RotateCcw},{id:`scale`,label:`Scale Tool`,icon:N.Maximize},{divider:!0},{id:`subdivision`,label:`Subdivision Surface`,icon:N.Grid3x3},{id:`mirror`,label:`Mirror Modifier`,icon:N.Copy},{divider:!0},{id:`camera`,label:`Camera Tool`,icon:N.Camera},{id:`light`,label:`Light Tool`,icon:N.Sun},{id:`mesh`,label:`Add Mesh`,icon:N.Square}],Window:[{id:`scene-panel`,label:`Scene Panel`},{id:`properties-panel`,label:`Properties Panel`},{id:`assets-panel`,label:`Assets Panel`},{id:`console-panel`,label:`Console Panel`},{divider:!0},{id:`settings`,label:`Settings`,icon:N.Cog},{id:`reset-layout`,label:`Reset Layout`}]},L=(e,r)=>{if(t===e)n(null),w(null);else{let t=r.currentTarget.getBoundingClientRect();w({left:t.left,top:t.bottom+1}),n(e)}},R=e=>{n(null),w(null),e.action?e.action():[`new`,`open`,`export`].includes(e.id)?v(!0):e.id===`subdivision`?k.editor.addConsoleMessage(`Subdivision Surface applied to selected object`,`success`):e.id===`mirror`?k.editor.addConsoleMessage(`Mirror Modifier applied to selected object`,`success`):e.id===`settings`?k.editor.addConsoleMessage(`Settings functionality removed`,`info`):(console.log(`Menu item clicked:`,e.id),k.editor.addConsoleMessage(`Menu action: ${e.label}`,`info`))};return h(p,{children:[h(`div`,{className:`relative w-full h-8 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800 flex items-center px-2`,children:[Object.entries(I).map(([e,r])=>m(`div`,{className:`relative`,children:m(`button`,{onClick:t=>L(e,t),onMouseEnter:r=>{if(console.log(`Hovering over:`,e,`Active menu:`,t),t&&t!==e){console.log(`Switching menu from`,t,`to`,e);let i=r.currentTarget.getBoundingClientRect();w({left:i.left,top:i.bottom+1}),n(e)}},className:`px-3 py-1 text-sm text-gray-300 hover:bg-gray-700/50 rounded transition-colors ${t===e?`bg-gray-700/50`:``}`,children:e})},e)),m(`div`,{className:`flex-1`}),h(`div`,{className:`flex items-center gap-3 text-xs text-gray-500`,children:[j.name&&h(`div`,{className:`flex items-center gap-1.5`,children:[m(`span`,{className:`text-gray-400`,children:j.name}),m(`div`,{className:`w-1.5 h-1.5 ${F().color} rounded-full cursor-pointer relative`,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:d&&h(`div`,{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900/95 text-white text-xs rounded whitespace-nowrap z-[120]`,children:[F().tooltip,m(`div`,{className:`absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900/95`})]})})]}),m(`div`,{children:`Renzora Engine v1.0.0`})]})]}),t&&C&&h(p,{children:[m(`div`,{className:`fixed inset-0 z-[100]`,onClick:()=>{n(null),w(null)},style:{pointerEvents:`auto`}}),m(`div`,{className:`fixed w-64 bg-gradient-to-br from-gray-900/98 to-gray-950/98 backdrop-blur-sm rounded-lg shadow-[0_20px_25px_-5px_rgba(0,0,0,0.4)] overflow-hidden z-[110] border border-gray-700/50`,style:{left:C.left,top:C.top},children:m(`div`,{className:`p-1.5`,children:I[t]?.map((e,t)=>e.divider?m(`div`,{className:`border-t border-gray-700/50 my-2 mx-2`},t):m(`button`,{className:`w-full px-4 py-2.5 text-left text-sm text-gray-300 hover:bg-gradient-to-r hover:from-blue-600/90 hover:to-blue-500/90 hover:text-white flex items-center justify-between transition-all duration-150 group relative rounded-md hover:shadow-lg`,onClick:()=>R(e),title:e.label,children:h(`div`,{className:`flex items-center gap-3`,children:[e.icon&&m(`span`,{className:`w-5 h-5 flex items-center justify-center text-gray-400 group-hover:text-white`,children:e.id===`save`&&r?m(`div`,{className:`w-4 h-4 border-2 border-gray-400 border-t-transparent rounded-full animate-spin`}):m(e.icon,{className:`w-4.5 h-4.5`})}),m(`span`,{className:`font-normal`,children:e.id===`save`&&r?`Saving...`:e.label})]})},e.id))})})]}),_&&m(Ae,{onProjectLoad:(e,t)=>{console.log(`Project loaded: ${e} at ${t}`),k.editor.addConsoleMessage(`Project "${e}" loaded successfully`,`success`)},onClose:()=>v(!1)})]})}var je=$;function Me(){let[e,n]=l(!1),[r,i]=l(null),[a,s]=l(!1),u=c(null),{selection:d,ui:g,camera:_,viewport:v}=f(D.editor),{selectedTool:y}=g,{transformMode:b}=d,{setSelectedTool:x,setTransformMode:S,setCameraSpeed:C,setCameraSensitivity:w,setRenderMode:T,setGridSnapping:E,setShowGrid:O}=k.editor,A=()=>{if(!v.tabs||v.tabs.length===0)return`3d-viewport`;let e=v.tabs.find(e=>e.id===v.activeTabId);return e?.type||`3d-viewport`},j=_.speed||5,M=_.mouseSensitivity||.002,P=v.renderMode||`solid`,F=v.gridSnapping||!1,I=v.showGrid!==!1,L=[{id:`wireframe`,label:`Wireframe`,icon:N.Grid3x3},{id:`solid`,label:`Solid`,icon:N.Cube},{id:`material`,label:`Material`,icon:N.Palette},{id:`rendered`,label:`Rendered`,icon:N.Sun}],R=[{value:1,label:`Slow`},{value:5,label:`Normal`},{value:10,label:`Fast`},{value:20,label:`Very Fast`}];o(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&s(!1)};return a&&document.addEventListener(`mousedown`,e),()=>{document.removeEventListener(`mousedown`,e)}},[a]);let z={"3d-viewport":[{id:`new`,icon:N.Plus,tooltip:`New Project`},{id:`open`,icon:N.Folder,tooltip:`Open Project`},{id:`save`,icon:N.Save,tooltip:`Save Project`},{id:`select`,icon:N.MousePointer,tooltip:`Select`},{id:`move`,icon:N.Move,tooltip:`Move`},{id:`rotate`,icon:N.RotateCcw,tooltip:`Rotate`},{id:`scale`,icon:N.Maximize,tooltip:`Scale`},{id:`cube`,icon:N.Square,tooltip:`Add Cube`},{id:`sphere`,icon:N.Circle,tooltip:`Add Sphere`},{id:`cylinder`,icon:N.Cylinder,tooltip:`Add Cylinder`},{id:`light`,icon:N.Sun,tooltip:`Add Light`},{id:`camera`,icon:N.Camera,tooltip:`Add Camera`},{id:`duplicate`,icon:N.Copy,tooltip:`Duplicate`},{id:`delete`,icon:N.Trash,tooltip:`Delete`},{id:`undo`,icon:N.Undo,tooltip:`Undo`},{id:`redo`,icon:N.Redo,tooltip:`Redo`},{id:`paint`,icon:N.Paintbrush2,tooltip:`Paint`}],"daw-editor":[{id:`new`,icon:N.Plus,tooltip:`New Project`},{id:`open`,icon:N.Folder,tooltip:`Open Project`},{id:`save`,icon:N.Save,tooltip:`Save Project`},{id:`play`,icon:N.Play,tooltip:`Play`},{id:`pause`,icon:N.Pause,tooltip:`Pause`},{id:`stop`,icon:N.Square,tooltip:`Stop`},{id:`record`,icon:N.Circle,tooltip:`Record`},{id:`add-track`,icon:N.Plus,tooltip:`Add Track`},{id:`add-audio-track`,icon:N.Audio,tooltip:`Add Audio Track`},{id:`add-midi-track`,icon:N.Music,tooltip:`Add MIDI Track`},{id:`add-instrument`,icon:N.Piano,tooltip:`Add Instrument`},{id:`cut`,icon:N.Scissors,tooltip:`Cut`},{id:`copy`,icon:N.Copy,tooltip:`Copy`},{id:`paste`,icon:N.Clipboard,tooltip:`Paste`},{id:`undo`,icon:N.Undo,tooltip:`Undo`},{id:`redo`,icon:N.Redo,tooltip:`Redo`},{id:`metronome`,icon:N.Clock,tooltip:`Metronome`},{id:`loop`,icon:N.Repeat,tooltip:`Loop`}],"material-editor":[{id:`new`,icon:N.Plus,tooltip:`New Project`},{id:`open`,icon:N.Folder,tooltip:`Open Project`},{id:`save`,icon:N.Save,tooltip:`Save Project`},{id:`new-material`,icon:N.Palette,tooltip:`New Material`},{id:`duplicate`,icon:N.Copy,tooltip:`Duplicate Material`},{id:`apply`,icon:N.Check,tooltip:`Apply Material`},{id:`undo`,icon:N.Undo,tooltip:`Undo`},{id:`redo`,icon:N.Redo,tooltip:`Redo`}],"node-editor":[{id:`new`,icon:N.Plus,tooltip:`New Project`},{id:`open`,icon:N.Folder,tooltip:`Open Project`},{id:`save`,icon:N.Save,tooltip:`Save Project`},{id:`add-node`,icon:N.Plus,tooltip:`Add Node`},{id:`delete-node`,icon:N.Trash,tooltip:`Delete Node`},{id:`duplicate`,icon:N.Copy,tooltip:`Duplicate`},{id:`undo`,icon:N.Undo,tooltip:`Undo`},{id:`redo`,icon:N.Redo,tooltip:`Redo`}],"animation-editor":[{id:`new`,icon:N.Plus,tooltip:`New Project`},{id:`open`,icon:N.Folder,tooltip:`Open Project`},{id:`save`,icon:N.Save,tooltip:`Save Project`},{id:`play`,icon:N.Play,tooltip:`Play Animation`},{id:`pause`,icon:N.Pause,tooltip:`Pause Animation`},{id:`keyframe`,icon:N.Key,tooltip:`Add Keyframe`},{id:`undo`,icon:N.Undo,tooltip:`Undo`},{id:`redo`,icon:N.Redo,tooltip:`Redo`}],"text-editor":[{id:`new`,icon:N.Plus,tooltip:`New File`},{id:`open`,icon:N.Folder,tooltip:`Open File`},{id:`save`,icon:N.Save,tooltip:`Save File`},{id:`find`,icon:N.Search,tooltip:`Find`},{id:`replace`,icon:N.Replace,tooltip:`Replace`},{id:`undo`,icon:N.Undo,tooltip:`Undo`},{id:`redo`,icon:N.Redo,tooltip:`Redo`}],"video-editor":[{id:`new`,icon:N.Plus,tooltip:`New Project`},{id:`open`,icon:N.Folder,tooltip:`Open Project`},{id:`save`,icon:N.Save,tooltip:`Save Project`},{id:`play`,icon:N.Play,tooltip:`Play`},{id:`pause`,icon:N.Pause,tooltip:`Pause`},{id:`stop`,icon:N.Square,tooltip:`Stop`},{id:`record`,icon:N.Circle,tooltip:`Record`},{id:`cut`,icon:N.Cut,tooltip:`Cut/Razr Tool`},{id:`trim`,icon:N.Trim,tooltip:`Trim Tool`},{id:`speed`,icon:N.Speed,tooltip:`Speed Tool`},{id:`select`,icon:N.CursorArrowRays,tooltip:`Selection Tool`},{id:`import`,icon:N.Archive,tooltip:`Import Media`},{id:`render`,icon:N.Film,tooltip:`Render Video`},{id:`undo`,icon:N.Undo,tooltip:`Undo`},{id:`redo`,icon:N.Redo,tooltip:`Redo`}],"photo-editor":[{id:`new`,icon:N.Plus,tooltip:`New Image`},{id:`open`,icon:N.Folder,tooltip:`Open Image`},{id:`save`,icon:N.Save,tooltip:`Save Image`},{id:`move`,icon:N.HandRaised,tooltip:`Move Tool`},{id:`select-rectangle`,icon:N.Rectangle,tooltip:`Rectangular Marquee Tool`},{id:`select-ellipse`,icon:N.Circle,tooltip:`Elliptical Marquee Tool`},{id:`lasso`,icon:N.Lasso,tooltip:`Lasso Tool`},{id:`magic-wand`,icon:N.Sparkles,tooltip:`Magic Wand Tool`},{id:`crop`,icon:N.Crop,tooltip:`Crop Tool`},{id:`eyedropper`,icon:N.EyeDropper,tooltip:`Eyedropper Tool`},{id:`brush`,icon:N.PaintBrush,tooltip:`Brush Tool`},{id:`pencil`,icon:N.Pencil,tooltip:`Pencil Tool`},{id:`eraser`,icon:N.Eraser,tooltip:`Eraser Tool`},{id:`gradient`,icon:N.Gradient,tooltip:`Gradient Tool`},{id:`paint-bucket`,icon:N.PaintBucket,tooltip:`Paint Bucket Tool`},{id:`healing`,icon:N.Healing,tooltip:`Healing Brush Tool`},{id:`clone`,icon:N.Clone,tooltip:`Clone Stamp Tool`},{id:`blur`,icon:N.Blur,tooltip:`Blur Tool`},{id:`sharpen`,icon:N.Sharpen,tooltip:`Sharpen Tool`},{id:`smudge`,icon:N.Smudge,tooltip:`Smudge Tool`},{id:`dodge`,icon:N.Dodge,tooltip:`Dodge Tool`},{id:`burn`,icon:N.Burn,tooltip:`Burn Tool`},{id:`sponge`,icon:N.Sponge,tooltip:`Sponge Tool`},{id:`text`,icon:N.Type,tooltip:`Type Tool`},{id:`path`,icon:N.BezierCurve,tooltip:`Pen Tool`},{id:`shape`,icon:N.Shapes,tooltip:`Shape Tool`},{id:`zoom`,icon:N.MagnifyingGlass,tooltip:`Zoom Tool`},{id:`hand`,icon:N.Hand,tooltip:`Hand Tool`},{id:`undo`,icon:N.Undo,tooltip:`Undo`},{id:`redo`,icon:N.Redo,tooltip:`Redo`}]},B=A(),V=z[B]||z[`3d-viewport`],H=()=>[`select`,`move`,`rotate`,`scale`].includes(b)?b:y,U=e=>{console.log(`Tool clicked:`,e),[`new`,`open`,`save`].includes(e)?e===`save`?k.editor.addConsoleMessage(`Project saved`,`success`):n(!0):[`select`,`move`,`rotate`,`scale`].includes(e)?(S(e),x(e)):[`cube`,`sphere`,`cylinder`].includes(e)?(k.editor.addSceneObject({type:`mesh`,geometry:e===`cube`?`box`:e,position:[0,0,0],rotation:[0,0,0],scale:[1,1,1],visible:!0}),k.editor.addConsoleMessage(`Created ${e}`,`success`)):e===`light`?(k.editor.addSceneObject({type:`light`,lightType:`directional`,position:[5,5,5],rotation:[-Math.PI/4,Math.PI/4,0],color:`#ffffff`,intensity:1,visible:!0,castShadow:!0}),k.editor.addConsoleMessage(`Created directional light`,`success`)):e===`camera`?(k.editor.addSceneObject({type:`camera`,position:[0,0,5],rotation:[0,0,0],fov:75,near:.1,far:1e3,visible:!0}),k.editor.addConsoleMessage(`Created camera`,`success`)):[`play`,`pause`,`stop`,`record`].includes(e)?(i(e),setTimeout(()=>i(null),300),k.editor.addConsoleMessage(`Transport: ${e}`,`info`)):[`add-track`,`add-audio-track`,`add-midi-track`,`add-instrument`].includes(e)?k.editor.addConsoleMessage(`Added ${e.replace(`add-`,``).replace(`-`,` `)}`,`success`):[`metronome`,`loop`].includes(e)?(i(e),setTimeout(()=>i(null),200),k.editor.addConsoleMessage(`${e} toggled`,`info`)):[`find`,`replace`].includes(e)?k.editor.addConsoleMessage(`${e} dialog opened`,`info`):[`cut`,`trim`,`speed`,`select`].includes(e)?(x(e),k.editor.addConsoleMessage(`Video tool: ${e}`,`info`)):[`import`,`render`].includes(e)?(i(e),setTimeout(()=>i(null),300),k.editor.addConsoleMessage(`${e===`import`?`Import media`:`Render video`} triggered`,`info`)):[`new-material`,`apply`].includes(e)?k.editor.addConsoleMessage(`Material tool: ${e}`,`info`):[`add-node`,`delete-node`].includes(e)?k.editor.addConsoleMessage(`Node tool: ${e}`,`info`):[`keyframe`].includes(e)?k.editor.addConsoleMessage(`Keyframe added`,`success`):[`move`,`select-rectangle`,`select-ellipse`,`lasso`,`magic-wand`,`crop`,`eyedropper`,`healing`,`brush`,`pencil`,`clone`,`eraser`,`gradient`,`paint-bucket`,`blur`,`sharpen`,`smudge`,`dodge`,`burn`,`sponge`,`text`,`path`,`shape`,`zoom`,`hand`].includes(e)?(x(e),k.editor.setPhotoEditorTool(e),k.editor.addConsoleMessage(`Photo tool: ${e}`,`info`)):[`undo`,`redo`].includes(e)||[`cut`,`copy`,`paste`].includes(e)?(i(e),setTimeout(()=>i(null),200),k.editor.addConsoleMessage(`${e} action triggered`,`info`)):k.editor.addConsoleMessage(`Tool activated: ${e}`,`info`)};return h(p,{children:[m(`div`,{className:`relative w-full h-10 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800 flex items-center`,children:h(`div`,{className:`flex items-center h-full w-full px-4 gap-1`,children:[V.map((e,n)=>{let i=H(),a=i===e.id&&![`undo`,`redo`,`new`,`open`,`save`].includes(e.id)||r===e.id,o=!1;return B===`3d-viewport`?o=n===2||n===6||n===12||n===15:B===`daw-editor`?o=n===2||n===6||n===10||n===15:B===`material-editor`||B===`node-editor`||B===`animation-editor`?o=n===2||n===5:B===`text-editor`?o=n===2||n===4:B===`video-editor`?o=n===2||n===6||n===10||n===12:B===`photo-editor`&&(o=n===2||n===7||n===9||n===14||n===21||n===24||n===26),h(t.Fragment,{children:[h(`button`,{onClick:()=>U(e.id),className:`w-8 h-8 flex items-center justify-center rounded transition-all relative group ${a?`bg-blue-600/90 text-white`:`text-gray-400 hover:text-gray-200 hover:bg-slate-800`}`,title:e.tooltip,children:[m(e.icon,{className:`w-4 h-4`}),h(`div`,{className:`absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 bg-gray-900/95 text-white text-xs px-2 py-1 rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50`,children:[e.tooltip,m(`div`,{className:`absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-gray-900/95`})]})]}),o&&m(`div`,{className:`w-px h-6 bg-gray-700 mx-1`})]},e.id)}),m(`div`,{className:`flex-1`}),h(`div`,{className:`flex items-center gap-2 relative`,ref:u,children:[(B===`3d-viewport`||B===`material-editor`)&&m(`button`,{className:`px-2 py-1 text-xs rounded transition-colors ${a?`bg-blue-600 text-white`:`text-gray-400 hover:text-gray-200 hover:bg-slate-800`}`,onClick:()=>s(!a),title:`Camera Settings`,children:m(N.Camera,{className:`w-4 h-4`})}),a&&h(`div`,{className:`absolute top-full right-0 mt-2 w-64 bg-gray-900/95 backdrop-blur-sm border border-gray-700 rounded-lg shadow-xl space-y-4 text-white text-xs pointer-events-auto z-50 p-4`,children:[h(`div`,{children:[h(`label`,{className:`block font-medium text-gray-300 mb-2`,children:[`Camera Speed: `,j]}),m(`div`,{className:`grid grid-cols-2 gap-1 mb-2`,children:R.map(e=>m(`button`,{onClick:()=>C(e.value),className:`px-2 py-1 text-xs rounded transition-colors ${j===e.value?`bg-blue-600 text-white`:`bg-gray-700 text-gray-300 hover:bg-gray-600`}`,children:e.label},e.value))}),m(`input`,{type:`range`,min:`0.5`,max:`50`,step:`0.5`,value:j,onChange:e=>C(parseFloat(e.target.value)),className:`w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider`})]}),h(`div`,{children:[h(`label`,{className:`block font-medium text-gray-300 mb-2`,children:[`Mouse Sensitivity: `,(M*1e3).toFixed(1)]}),m(`input`,{type:`range`,min:`0.001`,max:`0.01`,step:`0.0001`,value:M,onChange:e=>w(parseFloat(e.target.value)),className:`w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider`})]}),h(`div`,{children:[m(`label`,{className:`block font-medium text-gray-300 mb-2`,children:`Render Mode`}),m(`div`,{className:`grid grid-cols-2 gap-1`,children:L.map(e=>h(`button`,{onClick:()=>T(e.id),className:`flex items-center gap-2 px-2 py-2 text-xs rounded transition-colors ${P===e.id?`bg-blue-600 text-white`:`bg-gray-700 text-gray-300 hover:bg-gray-600`}`,title:e.label,children:[m(e.icon,{className:`w-3 h-3`}),m(`span`,{children:e.label})]},e.id))})]}),h(`div`,{children:[m(`label`,{className:`block font-medium text-gray-300 mb-2`,children:`Grid Settings`}),h(`div`,{className:`space-y-2`,children:[h(`button`,{onClick:()=>O(!I),className:`w-full flex items-center gap-2 px-3 py-2 text-xs rounded transition-colors ${I?`bg-green-600 text-white`:`bg-gray-700 text-gray-300 hover:bg-gray-600`}`,children:[m(N.Grid3x3,{className:`w-3 h-3`}),`Show Grid`]}),h(`button`,{onClick:()=>E(!F),className:`w-full flex items-center gap-2 px-3 py-2 text-xs rounded transition-colors ${F?`bg-yellow-600 text-white`:`bg-gray-700 text-gray-300 hover:bg-gray-600`}`,children:[m(N.Target,{className:`w-3 h-3`}),`Grid Snapping`]})]})]})]}),(B===`3d-viewport`||B===`material-editor`)&&h(p,{children:[m(`button`,{className:`px-2 py-1 text-xs text-gray-400 hover:text-gray-200 hover:bg-slate-800 rounded transition-colors`,onClick:()=>k.editor.addConsoleMessage(`Grid toggled`,`info`),children:`Grid`}),m(`button`,{className:`px-2 py-1 text-xs text-gray-400 hover:text-gray-200 hover:bg-slate-800 rounded transition-colors`,onClick:()=>k.editor.addConsoleMessage(`Snap toggled`,`info`),children:`Snap`})]})]})]})}),e&&m(Ae,{onProjectLoad:(e,t)=>{console.log(`Project loaded: ${e} at ${t}`),k.editor.addConsoleMessage(`Project "${e}" loaded successfully`,`success`)},onClose:()=>n(!1)})]})}var Ne=Me;const Pe=()=>{let[e,t]=l(!1),[n,r]=l({x:0,y:0}),[i,a]=l(null),[o,s]=l(null),[c,u]=l(``),{tabs:d,activeTabId:g,suspendedTabs:_}=f(D.editor.viewport),{addViewportTab:v,setActiveViewportTab:y,closeViewportTab:b,pinViewportTab:x,duplicateViewportTab:S,updateViewportTab:C,renameViewportTab:w}=k.editor,T=[{id:`3d-viewport`,label:`New Scene`,icon:N.Cube,description:`Create a new 3D scene viewport`}],E=e=>{let t=T.find(t=>t.id===e);return t?t.icon:N.FileText},O=e=>{v(e),t(!1)},A=e=>{y(e)},j=(e,t)=>{e.stopPropagation(),b(t)},M=e=>{s(e.id),u(e.name),a(null)},P=()=>{o&&c.trim()&&w(o,c.trim()),s(null),u(``)},F=()=>{s(null),u(``)},I=e=>{e.key===`Enter`?P():e.key===`Escape`&&F()},L=(e,t)=>{e.preventDefault(),e.stopPropagation(),a({position:{x:e.clientX,y:e.clientY},tab:t,items:[{label:`Rename Tab`,icon:N.FileText,action:()=>M(t)},{label:t.isPinned?`Unpin Tab`:`Pin Tab`,icon:t.isPinned?N.X:N.Star,action:()=>x(t.id)},{label:`Duplicate Tab`,icon:N.Copy,action:()=>S(t.id)},{label:(_||[]).includes(t.id)?`Resume Tab`:`Suspend Tab`,icon:(_||[]).includes(t.id)?N.Play:N.Pause,action:()=>{(_||[]).includes(t.id)?k.editor.resumeTab(t.id):k.editor.suspendTab(t.id)},disabled:t.id===g},{divider:!0},{label:`New ${t.type===`3d-viewport`?`Scene`:t.type.replace(`-`,` `).replace(/\b\w/g,e=>e.toUpperCase())}`,icon:E(t.type),action:()=>v(t.type)},{divider:!0},{label:`Close Tab`,icon:N.X,action:()=>b(t.id),disabled:d.length===1},{label:`Close Other Tabs`,icon:N.XMark,action:()=>{d.forEach(e=>{e.id!==t.id&&!e.isPinned&&b(e.id)})},disabled:d.length===1},{label:`Close All Tabs`,icon:N.XMark,action:()=>{d.forEach(e=>{e.isPinned||b(e.id)})},disabled:d.length===1||d.every(e=>e.isPinned)}]})},R=(e,t)=>{e.button===1&&(e.preventDefault(),b(t))};return h(p,{children:[h(`div`,{className:`flex items-center h-8 bg-gray-900/95 border-b border-gray-800`,children:[h(`div`,{className:`flex items-center min-w-0 flex-1 overflow-x-auto`,children:[d.map(e=>{let t=E(e.type),n=e.id===g;return h(`div`,{className:`group flex items-center gap-2 px-3 py-1 border-r border-gray-700 cursor-pointer transition-all select-none min-w-0 max-w-48 flex-shrink-0 ${n?`bg-blue-600/20 border-b-2 border-b-blue-500 text-blue-300`:`text-gray-400 hover:text-gray-200 hover:bg-gray-800`}`,onClick:()=>A(e.id),onContextMenu:t=>L(t,e),onMouseDown:t=>R(t,e.id),title:e.name,children:[m(t,{className:`w-4 h-4 flex-shrink-0`}),o===e.id?m(`input`,{type:`text`,value:c,onChange:e=>u(e.target.value),onBlur:P,onKeyDown:I,className:`text-sm font-medium bg-gray-700 border border-gray-500 rounded px-1 py-0 min-w-0 max-w-32`,autoFocus:!0,onClick:e=>e.stopPropagation()}):m(`span`,{className:`text-sm font-medium truncate min-w-0`,children:e.name}),(_||[]).includes(e.id)&&m(N.Pause,{className:`w-3 h-3 text-gray-500 flex-shrink-0`,title:`Tab Suspended`}),e.isPinned&&m(N.Star,{className:`w-3 h-3 text-yellow-500 flex-shrink-0`}),e.hasUnsavedChanges&&m(`div`,{className:`w-2 h-2 bg-orange-500 rounded-full flex-shrink-0`}),d.length>1&&m(`button`,{onClick:t=>j(t,e.id),className:`w-4 h-4 flex items-center justify-center rounded hover:bg-gray-600 transition-colors opacity-0 group-hover:opacity-100 flex-shrink-0`,title:`Close Tab`,children:m(N.X,{className:`w-3 h-3`})})]},e.id)}),h(`div`,{className:`relative flex-shrink-0`,children:[m(`button`,{onClick:n=>{let i=n.currentTarget.getBoundingClientRect();r({x:Math.min(i.left,window.innerWidth-280),y:i.bottom+4}),t(!e)},className:`flex items-center px-3 py-1 text-gray-400 hover:text-gray-200 hover:bg-gray-800 transition-colors border-r border-gray-700`,title:`Add Viewport`,children:m(N.Plus,{className:`w-4 h-4`})}),e&&h(p,{children:[m(`div`,{className:`fixed inset-0 z-40`,onClick:()=>t(!1)}),m(`div`,{className:`fixed w-64 bg-gray-900/98 backdrop-blur-sm border border-gray-700/50 rounded-lg shadow-xl z-50`,style:{left:n.x,top:n.y},children:h(`div`,{className:`p-2`,children:[m(`div`,{className:`text-xs text-gray-500 uppercase tracking-wide px-2 py-1 mb-1`,children:`Add Viewport`}),T.map(e=>h(`button`,{onClick:()=>O(e.id),className:`w-full flex items-start px-3 py-2 text-sm text-gray-300 hover:bg-gray-700/50 hover:text-white rounded-md transition-colors group`,children:[m(e.icon,{className:`w-4 h-4 mr-3 mt-0.5 text-gray-400 group-hover:text-white flex-shrink-0`}),h(`div`,{className:`text-left min-w-0`,children:[m(`div`,{className:`font-medium`,children:e.label}),m(`div`,{className:`text-xs text-gray-500 group-hover:text-gray-300`,children:e.description})]})]},e.id))]})})]})]})]}),h(`div`,{className:`flex items-center gap-1 px-2 border-l border-gray-700 flex-shrink-0`,children:[m(`button`,{className:`p-1 text-gray-400 hover:text-gray-200 hover:bg-gray-800 rounded transition-colors`,title:`Split Viewport`,children:m(N.Grid,{className:`w-4 h-4`})}),m(`button`,{className:`p-1 text-gray-400 hover:text-gray-200 hover:bg-gray-800 rounded transition-colors`,title:`Viewport Settings`,children:m(N.Settings,{className:`w-4 h-4`})})]})]}),i&&h(p,{children:[m(`div`,{className:`fixed inset-0 z-50`,onClick:()=>a(null)}),m(`div`,{className:`fixed z-60 bg-gray-900/98 backdrop-blur-sm border border-gray-700/50 rounded-lg shadow-xl min-w-48`,style:{left:i.position.x,top:i.position.y},children:m(`div`,{className:`p-2`,children:i.items.map((e,t)=>e.divider?m(`div`,{className:`border-t border-gray-700/50 my-2`},t):h(`button`,{onClick:()=>{e.disabled||e.action(),a(null)},disabled:e.disabled,className:`w-full flex items-center px-3 py-2 text-sm rounded-md transition-colors ${e.disabled?`text-gray-600 cursor-not-allowed`:`text-gray-300 hover:bg-gray-700/50 hover:text-white`}`,children:[e.icon&&m(e.icon,{className:`w-4 h-4 mr-3 ${e.disabled?`text-gray-600`:`text-gray-400`}`}),e.label]},t))})})]})]})};var Fe=Pe;function Ie({children:e,style:t={},onContextMenu:n}){let r=c();return o(()=>{if(!r.current)return;let e=new _.Engine(r.current,!0),t=new _.Scene(e);t.clearColor=new _.Color3(.2,.2,.2);let n=new _.ArcRotateCamera(`camera`,-Math.PI/2,Math.PI/2.5,10,_.Vector3.Zero(),t);n.setTarget(_.Vector3.Zero()),t.activeCamera=n;let i=new _.HemisphericLight(`light`,new _.Vector3(0,1,0),t);i.intensity=.7;let a=_.MeshBuilder.CreateBox(`box`,{size:2},t);a.position.y=1;try{n.attachControl(r.current,!0)}catch(e){console.warn(`Camera controls not available:`,e)}k.editor.updateBabylonScene(t),e.runRenderLoop(()=>{t.render()});let o=()=>{e.resize()};return window.addEventListener(`resize`,o),()=>{window.removeEventListener(`resize`,o),k.editor.updateBabylonScene(null),t.dispose(),e.dispose()}},[]),h(`div`,{style:{width:`100%`,height:`100%`,backgroundColor:`#333333`,position:`relative`,...t},onClick:()=>{r.current?.focus()},onContextMenu:e=>{e.preventDefault()},children:[m(`canvas`,{ref:r,style:{width:`100%`,height:`100%`,outline:`none`,display:`block`},tabIndex:0}),e]})}function Le({children:e,embedded:t=!1,style:n={},onContextMenu:r,viewportBounds:i}){if(t)return m(Ie,{style:n,onContextMenu:r,children:e});let a=i?{position:`fixed`,top:i.top||0,left:i.left||0,right:i.right||0,bottom:i.bottom||0,width:`auto`,height:`auto`}:{width:`100vw`,height:`100vh`};return m(Ie,{style:{...a,...n},onContextMenu:r,children:e})}const Re=({tab:e,contextMenuHandler:t,showGrid:n})=>{let{viewport:r}=f(D.editor),{suspendedTabs:i}=r;return o(()=>{let t=(i||[]).includes(e.id);return window.renderPerformanceMonitoring&&(t?window.renderPerformanceMonitoring.stop():window.renderPerformanceMonitoring.start()),()=>{window.renderPerformanceMonitoring&&window.renderPerformanceMonitoring.stop()}},[i,e.id]),m(Le,{embedded:!0,onContextMenu:t,style:{width:`100%`,height:`100%`}})},ze=({onContextMenu:e,contextMenuHandler:t,showGrid:n})=>{let{viewport:r}=f(D.editor),{tabs:i,activeTabId:a,suspendedTabs:o}=r,s=i.find(e=>e.id===a);(o||[]).includes(a);let c=e=>m(`div`,{className:`w-full h-full bg-gray-800 flex items-center justify-center`,children:h(`div`,{className:`text-center`,children:[m(`div`,{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gray-700 flex items-center justify-center`,children:m(N.Pause,{className:`w-8 h-8 text-gray-500`})}),m(`div`,{className:`text-lg text-gray-400 mb-2`,children:`Tab Suspended`}),h(`div`,{className:`text-sm text-gray-500 mb-4`,children:[`"`,e.name,`" is suspended to save resources`]}),m(`button`,{onClick:()=>k.editor.resumeTab(e.id),className:`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors`,children:`Resume Tab`})]})}),l=e=>{if(!e)return null;if((o||[]).includes(e.id))return c(e);switch(e.type){case`3d-viewport`:return m(Re,{tab:e,contextMenuHandler:t,showGrid:n});default:return m(`div`,{className:`w-full h-full bg-gray-900 flex items-center justify-center`,children:h(`div`,{className:`text-center`,children:[m(`div`,{className:`text-lg text-gray-400 mb-2`,children:`Unknown Viewport`}),h(`div`,{className:`text-sm text-gray-500`,children:[`Viewport type "`,e.type,`" not found`]})]})})}};return h(`div`,{className:`w-full h-full flex flex-col bg-gray-900`,children:[m(Fe,{}),m(`div`,{className:`flex-1 relative overflow-hidden`,onContextMenu:e=>e.preventDefault(),children:l(s)})]})};var Be=ze;const Ve=e=>{let[t,n]=l(!1),[r,a]=l(!1),{setBottomPanelHeight:o,setRightPanelWidth:s,setIsAssetPanelOpen:c,setIsScenePanelOpen:u,setIsResizingPanels:d,setSelectedTool:f}=e,p=i(()=>{console.log(`🔵 Bottom panel resize START`),n(!0),d(!0),document.body.classList.add(`dragging-vertical`),import(`./AutoSaveManager-DIoGcr1t.js`).then(({autoSaveManager:e})=>{e.cancelPendingAutoSave()})},[d]),m=i((e,{isAssetPanelOpen:r})=>{if(!t)return;e.preventDefault();let i=window.innerHeight-e.clientY,a=window.innerHeight*.85,s=80,l=120;if(!r&&i>l)c(!0),o(Math.max(200,i));else if(r&&i<s)c(!1),n(!1);else if(r){let e=Math.max(40,Math.min(a,i));o(e)}},[t,c,o]),h=i(()=>{console.log(`🔴 Bottom panel resize END`),n(!1),d(!1),document.body.classList.remove(`dragging-vertical`)},[d]),g=i(()=>{console.log(`🟡 Right panel resize START`),a(!0),d(!0),document.body.classList.add(`dragging-horizontal`),import(`./AutoSaveManager-DIoGcr1t.js`).then(({autoSaveManager:e})=>{e.cancelPendingAutoSave()})},[d]),_=i((e,{isScenePanelOpen:t})=>{if(!r)return;let n=window.innerWidth-e.clientX,i=100,o=150;!t&&n>o?(u(!0),s(Math.max(200,n)),f(`scene`)):t&&n<i?(u(!1),a(!1),f(`select`)):t&&s(Math.max(200,Math.min(600,n)))},[r,u,s,f]),v=i(()=>{console.log(`🟠 Right panel resize END`),a(!1),d(!1),document.body.classList.remove(`dragging-horizontal`)},[d]);return{isResizingBottom:t,isResizingRight:r,handleBottomResizeStart:p,handleBottomResizeMove:m,handleBottomResizeEnd:h,handleRightResizeStart:g,handleRightResizeMove:_,handleRightResizeEnd:v}},He=()=>{let[e,t]=l(null),{selection:n,ui:r,panels:i,console:a}=f(D.editor),{entity:c}=n,{selectedTool:u,selectedBottomTab:d,rightPanelWidth:p,bottomPanelHeight:g}=r,{isScenePanelOpen:_,isAssetPanelOpen:v}=i,{contextMenuHandler:y}=a;s(()=>({top:0,left:0,right:_?p-4:0,bottom:v?g-1:40}),[_,p,v,g]);let{setSelectedEntity:b,setContextMenuHandler:x,setTransformMode:S,setSelectedTool:C,setSelectedBottomTab:w,setIsScenePanelOpen:T,setIsAssetPanelOpen:E}=k.editor,O=Ve(k.editor),A=ve(k.editor),j=e=>{b(e),e&&S(`move`)},N=(e,n,r=`scene`)=>{e.preventDefault(),e.stopPropagation();let{clientX:i,clientY:a}=e,o=A.getContextMenuItems(n,r);t({position:{x:i,y:a},items:o})},P=()=>{t(null)};o(()=>{x(N)},[x]);let F=e=>{O.handleBottomResizeMove(e,{isAssetPanelOpen:v})},I=e=>{O.handleRightResizeMove(e,{isScenePanelOpen:_})},L=()=>{T(!_),_&&C(`select`)},R=O.isResizingRight||O.isResizingBottom?``:`transition-all duration-300 ease-in-out`;return h(`div`,{className:`fixed inset-0 flex flex-col pointer-events-none z-10`,onContextMenu:e=>e.preventDefault(),children:[h(`div`,{className:`flex-shrink-0 pointer-events-auto z-50`,children:[m(je,{}),m(Ne,{})]}),h(`div`,{className:`flex-1 relative overflow-hidden pointer-events-auto`,children:[m(`div`,{className:`absolute pointer-events-auto`,style:{top:0,left:0,right:_?p-4:0,bottom:v?g-1:40},children:m(Be,{onContextMenu:e=>e.preventDefault(),contextMenuHandler:y,showGrid:D.editor.viewport.showGrid})}),m(ce,{isScenePanelOpen:_,rightPanelWidth:p,bottomPanelHeight:g,isAssetPanelOpen:v,selectedRightTool:u,selectedObject:c,onToolSelect:C,onScenePanelToggle:L,onObjectSelect:j,onContextMenu:N,style:{className:R}}),m(M,{type:`right`,isResizing:O.isResizingRight,onResizeStart:O.handleRightResizeStart,onResizeEnd:O.handleRightResizeEnd,onResize:I,position:{right:_?p-4:0,top:0,bottom:v?g:`40px`,zIndex:30},className:`resize-handle`}),!_&&m(we,{onClick:()=>T(!0),position:{right:p}}),m(M,{type:`bottom`,isResizing:O.isResizingBottom,onResizeStart:O.handleBottomResizeStart,onResizeEnd:O.handleBottomResizeEnd,onResize:F,position:{left:0,right:_?p-4:0,bottom:v?g:40}}),e&&m(_e,{items:e.items,position:e.position,onClose:P})]}),m(Se,{activeTab:d,isAssetPanelOpen:v,bottomPanelHeight:g,rightPanelWidth:p,isScenePanelOpen:_,onTabChange:e=>{w(e),v||E(!0)},onToggleAssetPanel:()=>E(!v),onContextMenu:N,style:{className:R}})]})};var Ue=He;function We(){return m(Ue,{})}var Ge=We;function Ke(){return o(()=>{console.log(`Projects plugin initialized`),typeof window<`u`&&(window.projectManager=Q,console.log(`Project manager exposed globally: window.projectManager`),console.log(`Debug commands:`),console.log(`- window.projectManager.clearAllStorageData() - Clear localStorage`),console.log(`- window.projectManager.getCurrentProjectFromStorage() - Check stored project`));let e=document.querySelector(`[data-engine-loader]`)!==null,t=null;if(!e){let e=async()=>{try{await Q.initializeDefaultProject(),console.log(`Default project initialized successfully`)}catch(e){console.error(`Failed to initialize default project:`,e)}};t=setTimeout(e,500)}let n=setInterval(()=>{import(`./AutoSaveManager-DIoGcr1t.js`).then(({autoSaveManager:e})=>{e.performAutoSave()})},3e4);return()=>{t&&clearTimeout(t),clearInterval(n)}},[]),null}function qe({children:e,onLoadComplete:t}){let[n,r]=l(!0),[i,a]=l(0),[s,c]=l(``);return o(()=>{let e=!0,n=async()=>{try{console.log(`🚀 Renzora Engine starting...`),r(!0),c(`Initializing Project System`),a(20);try{await Q.initializeDefaultProject(),console.log(`✅ Project system initialized`)}catch(e){console.warn(`⚠️ Project system initialization failed:`,e)}if(!e)return;a(60),c(`Loading Asset Registry`);try{let e=Q.getCurrentProject();if(e.name){let t=await fetch(`/api/projects/${e.name}/assets/categories`);if(t.ok){let e=await t.json();window.assetRegistry=e,console.log(`📦 Asset registry loaded`)}}}catch(e){console.warn(`⚠️ Asset registry loading failed:`,e)}if(!e)return;a(90),c(`Engine Ready!`),console.log(`🎉 Renzora Engine loaded successfully!`),setTimeout(()=>{e&&(a(100),t?.(),setTimeout(()=>{e&&r(!1)},200))},100)}catch(n){console.error(`❌ Engine initialization failed:`,n),e&&(c(`Error: ${n.message}`),setTimeout(()=>{e&&(r(!1),t?.())},2e3))}},i=setTimeout(()=>n(),10);return()=>{e=!1,clearTimeout(i)}},[t]),h(`div`,{"data-engine-loader":`true`,children:[e,m(Te,{isVisible:n,progress:i,currentAsset:s,onComplete:()=>{}})]})}function Je(){o(()=>{console.log(`Engine starting...`)},[]);let e=i(()=>{console.log(`🎮 Renzora Engine UI ready!`)},[]);return m(n,{children:m(qe,{onLoadComplete:e,children:h(ke,{children:[m(Ge,{}),m(Ke,{})]})})})}export{Je as default};